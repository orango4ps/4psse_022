OBJECT Page 509 Blanket Purchase Order
{
  OBJECT-PROPERTIES
  {
    Date=;
    Time=;
    Version List=NAVW114.01,4PS14.00,NAVSE,4PSSE;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Blanket Purchase Order;
               NOR=Rammebestilling;
               SVE=Avropsorder, inkîp];
    Description=4PS: Raam  -> Afroep;
    SourceTable=Table38;
    SourceTableView=WHERE(Document Type=FILTER(Blanket Order));
    PageType=Document;
    RefreshOnActivate=Yes;
    PromotedActionCategoriesML=[ENU=New,Process,Report,Approve,Request Approval,Print/Send,Release,Order;
                                NOR=Ny,Prosess,Rapport,Godkjenn,Be om godkjenning,Skriv ut/send,Frigi,Ordre;
                                SVE=Ny,Process,Rapport,GodkÑnn,BegÑr godkÑnnande,Skriv ut/skicka,SlÑpp,Order];
    OnOpenPage=BEGIN
                 //**4PS Generated Code. Do Not Change.sn01
                 DPA_IsHardFilter := DPA_SetFilters(CurrPage.OBJECTID(FALSE));
                 //**4PS Generated Code.en01
                 IF UserMgt.GetPurchasesFilter() <> '' THEN BEGIN
                   FILTERGROUP(2);
                   SETRANGE("Responsibility Center",UserMgt.GetPurchasesFilter);
                   FILTERGROUP(0);
                 END;

                 SetDocNoVisible;
               END;

    OnAfterGetRecord=VAR
                       RecRef@1100529900 : RecordRef;
                     BEGIN
                       SetControlAppearance;
                       //**4PS.sn
                       IF gFromReference THEN BEGIN
                         gFromReference := FALSE;
                         CurrPage.PurchLines.PAGE.InitSelectionFromReference(gPurchLineNo);
                       END;
                       //**4PS.en
                       RecRef.GETTABLE(Rec);
                       CurrPage.RegisterExternalDocumentFB.PAGE.SetRecordReference(RecRef);
                       CurrPage.RegisterExternalDocumentFB.PAGE.SetByCompany(TRUE);
                       CurrPage.RegisterExternalDocumentFB.PAGE.SetDepartmentCode("Shortcut Dimension 1 Code");
                     END;

    OnNewRecord=BEGIN
                  "Responsibility Center" := UserMgt.GetPurchasesFilter;

                  IF (NOT DocNoVisible) AND ("No." = '') THEN
                    SetBuyFromVendorFromFilter;

                  //**4PS Generated Code. Do Not Change.sn02
                  DPA_SetDefaultDepartment;
                  //**4PS Generated Code.en02
                  //"Responsibility Center" := UserMgt.GetPurchasesFilter; //**4PS.o
                  "Responsibility Center" := UserMgt.GetPurchasesDefault; //**4PS.n
                END;

    OnInsertRecord=VAR
                     xRecRef@1100000999 : RecordRef;
                   BEGIN
                     //**4PS Generated Code. Do Not Change.sn05
                     xRecRef.GETTABLE(xRec);
                     DPA_SetDefaultDpmtFromNoSeries(xRecRef);
                     //**4PS Generated Code.en05
                   END;

    OnDeleteRecord=BEGIN
                     CurrPage.SAVERECORD;
                     EXIT(ConfirmDeletion);
                   END;

    OnAfterGetCurrRecord=BEGIN
                           ShowWorkflowStatus := CurrPage.WorkflowStatus.PAGE.SetFilterOnWorkflowRecord(RECORDID);
                           CurrPage.ApprovalFactBox.PAGE.UpdateApprovalEntriesFromSourceRecord(RECORDID);
                         END;

    ActionList=ACTIONS
    {
      { 1900000003;0 ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 61      ;1   ;ActionGroup;
                      CaptionML=[ENU=O&rder;
                                 NOR=Bes&tilling;
                                 SVE=Ord&er];
                      Image=Order }
      { 63      ;2   ;Action    ;
                      Name=Statistics;
                      ShortCutKey=F7;
                      CaptionML=[ENU=Statistics;
                                 NOR=Statistikk;
                                 SVE=Statistik];
                      ToolTipML=[ENU=View statistical information, such as the value of posted entries, for the record.;
                                 NOR=Vis statistikkinformasjon, for eksempel verdien for bokfõrte poster, for posten.;
                                 SVE=Visa statistisk information fîr posten, till exempel vÑrdet pÜ bokfîrda transaktioner.];
                      ApplicationArea=#Suite;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Statistics;
                      PromotedCategory=Category8;
                      OnAction=BEGIN
                                 OpenPurchaseOrderStatistics;
                                 PurchCalcDiscByType.ResetRecalculateInvoiceDisc(Rec);
                               END;
                                }
      { 64      ;2   ;Action    ;
                      ShortCutKey=Shift+F7;
                      CaptionML=[ENU=Card;
                                 NOR=Kort;
                                 SVE=Kort];
                      ToolTipML=[ENU=View or edit detailed information about the vendor on the purchase document.;
                                 NOR=Vis eller rediger detaljert informasjon om leverandõren i kjõpsdokumentet.;
                                 SVE=Visa eller redigera detaljerad information om leverantîren pÜ inkîpsdokumentet.];
                      ApplicationArea=#Suite;
                      RunObject=Page 26;
                      RunPageLink=No.=FIELD(Buy-from Vendor No.);
                      Promoted=Yes;
                      Image=EditLines;
                      PromotedCategory=Category8 }
      { 65      ;2   ;Action    ;
                      CaptionML=[ENU=Co&mments;
                                 NOR=&Merknader;
                                 SVE=Ko&mmentarer];
                      ToolTipML=[ENU=View or add comments for the record.;
                                 NOR=Vis eller legg til kommentarer for posten.;
                                 SVE=Visa eller lÑgg till kommentarer till posten.];
                      ApplicationArea=#Suite;
                      RunObject=Page 66;
                      RunPageLink=Document Type=CONST(Blanket Order),
                                  No.=FIELD(No.),
                                  Document Line No.=CONST(0);
                      Promoted=Yes;
                      Image=ViewComments;
                      PromotedCategory=Category8 }
      { 120     ;2   ;Action    ;
                      AccessByPermission=TableData 348=R;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=[ENU=Dimensions;
                                 NOR=Dimensjoner;
                                 SVE=Dimensioner];
                      ToolTipML=[ENU=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
                                 NOR=Vis eller rediger dimensjoner, for eksempel omrÜde, prosjekt eller avdeling, som du kan tilordne til salgs- og kjõpsdokumenter for Ü distribuere kostnader og analysere transaksjonshistorikk.;
                                 SVE=Visa eller redigera dimensioner, till exempel omrÜde, projekt eller avdelning, som du kan tilldela fîrsÑljnings- och inkîpsdokument fîr att fîrdela kostnader och analysera transaktionshistorik.];
                      ApplicationArea=#Dimensions;
                      Promoted=Yes;
                      Enabled="No." <> '';
                      PromotedIsBig=Yes;
                      Image=Dimensions;
                      PromotedCategory=Category8;
                      OnAction=BEGIN
                                 ShowDocDim;
                               END;
                                }
      { 17      ;2   ;Action    ;
                      Name=Approvals;
                      AccessByPermission=TableData 454=R;
                      CaptionML=[ENU=Approvals;
                                 NOR=Godkjenninger;
                                 SVE=GodkÑnnanden];
                      ToolTipML=[ENU=View a list of the records that are waiting to be approved. For example, you can see who requested the record to be approved, when it was sent, and when it is due to be approved.;
                                 NOR=Vis en liste med poster dom venter pÜ Ü bli godkjent. Du kan for eksempel se hvem som har bedt om godkjenning av posten, nÜr den ble sendt og nÜr den forfaller til godkjenning.;
                                 SVE=Visa en lista med poster som vÑntar pÜ att godkÑnnas. Du kan t.ex. se vem som begÑrde att posten skulle godkÑnnas, nÑr den skickades och nÑr den mÜste godkÑnnas.];
                      ApplicationArea=#Suite;
                      Description=**4PS.o;
                      Promoted=Yes;
                      Visible=false;
                      Image=Approvals;
                      PromotedCategory=Category8;
                      OnAction=VAR
                                 WorkflowsEntriesBuffer@1000 : Record 832;
                               BEGIN
                                 WorkflowsEntriesBuffer.RunWorkflowEntriesPage(RECORDID,DATABASE::"Purchase Header","Document Type","No.");
                               END;
                                }
      { 27      ;2   ;Action    ;
                      Name=DocAttach;
                      CaptionML=[ENU=Attachments;
                                 NOR=Vedlegg;
                                 SVE=Bilagor];
                      ToolTipML=[ENU=Add a file as an attachment. You can attach images as well as documents.;
                                 NOR=Legg til en fil som vedlegg. Du kan legge ved bilderˇog dokumenter.;
                                 SVE=LÑgg till en fil som en bilaga. Du kan bifoga bilder och dokument.];
                      ApplicationArea=#All;
                      Promoted=Yes;
                      Image=Attach;
                      PromotedCategory=Category8;
                      OnAction=VAR
                                 DocumentAttachmentDetails@1000 : Page 1173;
                                 RecRef@1001 : RecordRef;
                               BEGIN
                                 RecRef.GETTABLE(Rec);
                                 DocumentAttachmentDetails.OpenForRecRef(RecRef);
                                 DocumentAttachmentDetails.RUNMODAL;
                               END;
                                }
      { 1210190007;2 ;Action    ;
                      CaptionML=[ENU=Document &Relations;
                                 SVE=Dokument&relationer];
                      RunObject=Page 11012413;
                      RunPageView=WHERE(Document Type=CONST(Blanket Order));
                      RunPageLink=No.=FIELD(No.);
                      Image=Relationship }
      { 1210190008;2 ;Action    ;
                      CaptionML=[ENU=Purchace Text;
                                 SVE=Inkîpstext];
                      RunObject=Page 11012126;
                      RunPageLink=Line Type=CONST(Blanket Order),
                                  No.=FIELD(No.);
                      Image=Text }
      { 1210190012;2 ;Action    ;
                      CaptionML=[ENU=&Documents;
                                 SVE=&Dokument];
                      Image=Documents;
                      OnAction=VAR
                                 RecRef@1210190001 : RecordRef;
                                 DocumentFilters@1210190000 : Codeunit 11012432;
                               BEGIN
                                 //**4PS
                                 RecRef.GETTABLE(Rec);
                                 DocumentFilters.CreateTempFilterAndExecute1(RecRef, "Shortcut Dimension 1 Code", FALSE, TRUE);
                               END;
                                }
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 15      ;1   ;ActionGroup;
                      CaptionML=[ENU=Approval;
                                 NOR=Godkjenning;
                                 SVE=GodkÑnnande] }
      { 13      ;2   ;Action    ;
                      Name=Approve;
                      CaptionML=[ENU=Approve;
                                 NOR=Godkjenn;
                                 SVE=GodkÑnn];
                      ToolTipML=[ENU=Approve the requested changes.;
                                 NOR=Godkjenn de forespurte endringene.;
                                 SVE=GodkÑnn de begÑrda fîrÑndringarna.];
                      ApplicationArea=#Suite;
                      Promoted=Yes;
                      Visible=OpenApprovalEntriesExistForCurrUser;
                      PromotedIsBig=Yes;
                      Image=Approve;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 ApprovalsMgmt.ApproveRecordApprovalRequest(RECORDID);
                                 //**4PS.sn
                                 MARK(FALSE);
                                 CurrPage.UPDATE(FALSE);
                                 //**4PS.en
                               END;
                                }
      { 11      ;2   ;Action    ;
                      Name=Reject;
                      CaptionML=[ENU=Reject;
                                 NOR=Avvis;
                                 SVE=Avvisa];
                      ToolTipML=[ENU=Reject the approval request.;
                                 NOR=Avvis godkjenningsforespõrselen.;
                                 SVE=Avvisa godkÑnnandebegÑran.];
                      ApplicationArea=#Suite;
                      Promoted=Yes;
                      Visible=OpenApprovalEntriesExistForCurrUser;
                      PromotedIsBig=Yes;
                      Image=Reject;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 ApprovalsMgmt.RejectRecordApprovalRequest(RECORDID);
                               END;
                                }
      { 9       ;2   ;Action    ;
                      Name=Delegate;
                      CaptionML=[ENU=Delegate;
                                 NOR=Deleger;
                                 SVE=Delegera];
                      ToolTipML=[ENU=Delegate the approval to a substitute approver.;
                                 NOR=Deleger godkjenningen til en stedfortredende godkjenner.;
                                 SVE=Delegera godkÑnnandet till en ersÑttare.];
                      ApplicationArea=#Suite;
                      Promoted=Yes;
                      Visible=OpenApprovalEntriesExistForCurrUser;
                      Image=Delegate;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 ApprovalsMgmt.DelegateRecordApprovalRequest(RECORDID);
                               END;
                                }
      { 7       ;2   ;Action    ;
                      Name=Comment;
                      CaptionML=[ENU=Comments;
                                 NOR=Merknader;
                                 SVE=Kommentarer];
                      ToolTipML=[ENU=View or add comments for the record.;
                                 NOR=Vis eller legg til kommentarer for posten.;
                                 SVE=Visa eller lÑgg till kommentarer till posten.];
                      ApplicationArea=#Suite;
                      Promoted=Yes;
                      Visible=OpenApprovalEntriesExistForCurrUser;
                      Image=ViewComments;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 ApprovalsMgmt.GetApprovalComment(Rec);
                               END;
                                }
      { 68      ;1   ;ActionGroup;
                      CaptionML=[ENU=F&unctions;
                                 NOR=F&unksjoner;
                                 SVE=Fu&nktion];
                      Image=Action }
      { 1100485008;2 ;Action    ;
                      CaptionML=[ENU=Update Prices;
                                 SVE=Uppdatera priser];
                      Image=UpdateUnitCost;
                      OnAction=BEGIN
                                 //**4PS
                                 TESTFIELD("No.");
                                 TESTFIELD(Status, Status::Open);
                                 CurrPage.PurchLines.PAGE.UpdatePrices();
                               END;
                                }
      { 69      ;2   ;Action    ;
                      Name=CalculateInvoiceDiscount;
                      AccessByPermission=TableData 24=R;
                      CaptionML=[ENU=Calculate &Invoice Discount/Charge;
                                 NOR=&Beregn fakturarabatt;
                                 SVE=BerÑkna &fakturarabatt];
                      ToolTipML=[ENU=Calculate the invoice discount for the entire purchase invoice.;
                                 NOR=Beregn fakturarabatten for hele kjõpsfakturaen.;
                                 SVE=BerÑkna fakturarabatten fîr hela inkîpsfakturan.];
                      ApplicationArea=#Suite;
                      Image=CalculateInvoiceDiscount;
                      OnAction=BEGIN
                                 ApproveCalcInvDisc;
                                 PurchCalcDiscByType.ResetRecalculateInvoiceDisc(Rec);
                               END;
                                }
      { 133     ;2   ;Separator  }
      { 70      ;2   ;Action    ;
                      Name=CopyDocument;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Copy Document;
                                 NOR=Kopier dokument;
                                 SVE=Kopiera dokument];
                      ToolTipML=[ENU=Copy document lines and header information from another sales document to this document. You can copy a posted sales invoice into a new sales invoice to quickly create a similar document.;
                                 NOR=Kopier dokumentlinjer og hodeopplysninger fra et annet salgsdokument til dette dokumentet. Du kan kopiere en bokfõrt salgsfaktura til en ny salgsfaktura for Ü opprette et lignende dokument raskt.;
                                 SVE=Kopiera dokumentrader och huvudinformation frÜn andra fîrsÑljningsdokument till det hÑr dokumentet. Du kan kopiera en bokfîrd fîrsÑljningsfaktura till en ny fîrsÑljningsfaktura om du snabbt vill skapa ett liknande dokument.];
                      ApplicationArea=#Suite;
                      Enabled="No." <> '';
                      Image=CopyDocument;
                      OnAction=BEGIN
                                 CopyPurchDoc.SetPurchHeader(Rec);
                                 CopyPurchDoc.RUNMODAL;
                                 CLEAR(CopyPurchDoc);
                               END;
                                }
      { 114     ;2   ;Action    ;
                      CaptionML=[ENU=Archi&ve Document;
                                 NOR=Arki&ver dokument;
                                 SVE=Arki&vera dokument];
                      ToolTipML=[ENU=Archive Document.;
                                 NOR=Arkiver dokument.;
                                 SVE=Arkivera dokument.];
                      ApplicationArea=#Suite;
                      Image=Archive;
                      OnAction=BEGIN
                                 ArchiveManagement.ArchivePurchDocument(Rec);
                                 CurrPage.UPDATE(FALSE);
                               END;
                                }
      { 126     ;2   ;Action    ;
                      Name=Release;
                      ShortCutKey=Ctrl+F9;
                      CaptionML=[ENU=Re&lease;
                                 NOR=Fri&gi;
                                 SVE=&SlÑpp];
                      ToolTipML=[ENU=Release the document to the next stage of processing. When a document is released, it will be included in all availability calculations from the expected receipt date of the items. You must reopen the document before you can make changes to it.;
                                 NOR=Frigi dokumentet til neste behandlingsfase. NÜr et dokument frigis, tas det med i alle tilgjengelighetsberegninger fra den forventede mottaksdatoen for varene. Du mÜ Üpne dokumentet pÜ nytt fõr du kan gjõre endringer i det.;
                                 SVE=SlÑpp dokumentet till nÑsta etapp i bearbetningen. NÑr ett dokument slÑpps, tas det med i alla dispositionsberÑkningar frÜn och med artiklarnas planerade inleveransdatum. Du mÜste îppna dokumentet igen innan du kan Ñndra i det.];
                      ApplicationArea=#Suite;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=ReleaseDoc;
                      PromotedCategory=Category7;
                      PromotedOnly=Yes;
                      OnAction=VAR
                                 ReleasePurchDoc@1000 : Codeunit 415;
                               BEGIN
                                 ReleasePurchDoc.PerformManualRelease(Rec);
                               END;
                                }
      { 127     ;2   ;Action    ;
                      Name=Reopen;
                      CaptionML=[ENU=Re&open;
                                 NOR=&èpne pÜ nytt;
                                 SVE=&ôppna igen];
                      ToolTipML=[ENU=Reopen the document to change it after it has been approved. Approved documents have the Released status and must be opened before they can be changed;
                                 NOR=èpne dokumentet pÜ nytt for Ü endre det etter at det har blitt godkjent. Godkjente dokumenter har statusen Frigitt, og de mÜ Üpnes fõr de kan endres;
                                 SVE=ôppna dokumentet igen och Ñndra det efter att det har godkÑnts. GodkÑnda dokument har statusen SlÑppt och mÜste îppnas innan de kan Ñndras];
                      ApplicationArea=#Suite;
                      Enabled=Status <> Status::Open;
                      Image=ReOpen;
                      PromotedCategory=Category7;
                      PromotedOnly=Yes;
                      OnAction=VAR
                                 ReleasePurchDoc@1001 : Codeunit 415;
                               BEGIN
                                 ReleasePurchDoc.PerformManualReopen(Rec);
                               END;
                                }
      { 1100525004;2 ;Action    ;
                      CaptionML=[ENU=Close;
                                 SVE=StÑng];
                      Image=Close;
                      OnAction=VAR
                                 ReleasePurchDoc@1100525000 : Codeunit 415;
                               BEGIN
                                 //**4PS
                                 ReleasePurchDoc.CloseBlanketOrder(Rec);
                               END;
                                }
      { 1100527450;2 ;Action    ;
                      Name=ChooseTradeName;
                      CaptionML=ENU=Choose Tradename;
                      Visible=FALSE;
                      Image=CompareContacts;
                      OnAction=BEGIN
                                 //**4PS
                                 ChooseTradeName;
                               END;
                                }
      { 19      ;1   ;ActionGroup;
                      CaptionML=[ENU=Request Approval;
                                 NOR=Be om godkjenning;
                                 SVE=BegÑr godkÑnnande] }
      { 140     ;2   ;Action    ;
                      Name=SendApprovalRequest;
                      CaptionML=[ENU=Send A&pproval Request;
                                 NOR=&Send godkjenningsforespõrsel;
                                 SVE=Skicka godk&ÑnnandebegÑran];
                      ToolTipML=[ENU=Request approval of the document.;
                                 NOR=Be om godkjenning av dokumentet.;
                                 SVE=BegÑr godkÑnnande av dokumentet.];
                      ApplicationArea=#Suite;
                      Visible=false;
                      Enabled=NOT OpenApprovalEntriesExist;
                      PromotedIsBig=Yes;
                      Image=SendApprovalRequest;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 IF ApprovalsMgmt.CheckPurchaseApprovalPossible(Rec) THEN
                                   ApprovalsMgmt.OnSendPurchaseDocForApproval(Rec);
                               END;
                                }
      { 141     ;2   ;Action    ;
                      Name=CancelApprovalRequest;
                      CaptionML=[ENU=Cancel Approval Re&quest;
                                 NOR=&Annuller godkjenningsforespõrsel;
                                 SVE=Annullera &godkÑnnandebegÑran];
                      ToolTipML=[ENU=Cancel the approval request.;
                                 NOR=Annuller godkjenningsforespõrselen.;
                                 SVE=Annullera godkÑnnandebegÑran.];
                      ApplicationArea=#Suite;
                      Description=**4PS.o;
                      Visible=false;
                      Enabled=CanCancelApprovalForRecord;
                      Image=CancelApprovalRequest;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 ApprovalsMgmt.OnCancelPurchaseApprovalRequest(Rec);
                               END;
                                }
      { 77      ;2   ;Action    ;
                      Name=MakeOrder;
                      CaptionML=[ENU=Make &Order;
                                 NOR=L&ag bestilling;
                                 SVE=Skapa &order];
                      ToolTipML=[ENU=Convert the blank purchase order to a purchase order.;
                                 NOR=Konverter den tomme bestillingen til en bestilling.;
                                 SVE=Konvertera den tomma inkîpsordern till en inkîpsorder.];
                      ApplicationArea=#Suite;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=MakeOrder;
                      PromotedCategory=Process;
                      OnAction=VAR
                                 ApprovalsMgmt@1001 : Codeunit 1535;
                                 BlnktOrdToPurchOrderYnCU@1210190000 : Codeunit 94;
                               BEGIN
                                 //**4PS.so
                                 //IF ApprovalsMgmt.PrePostApprovalCheckPurch(Rec) THEN
                                 //  CODEUNIT.RUN(CODEUNIT::"Blnkt Purch Ord. to Ord. (Y/N)",Rec);
                                 //**4PS.eo
                                 //**4PS.sn
                                 BlnktOrdToPurchOrderYnCU.SetAskForNoSerie();
                                 BlnktOrdToPurchOrderYnCU.RUN(Rec);
                                 //**4PS.en
                               END;
                                }
      { 1210190003;2 ;Action    ;
                      CaptionML=[ENU=Edit Word Documents;
                                 SVE=Redigera Word-dokument];
                      Promoted=Yes;
                      Image=Word;
                      PromotedCategory=Report;
                      OnAction=VAR
                                 Contact@1100528701 : Record 5050;
                                 DocumentTemplate@1210190005 : Record 11012401;
                               BEGIN
                                 //**4PS
                                 TESTFIELD("Buy-from Vendor No.");
                                 IF Contact.GetContactByVendor("Buy-from Vendor No.", Contact, TRUE) THEN
                                   EditDocuments(
                                     "Document Type", STRSUBSTNO('%1', DocumentTemplate.Type::"Blanket Order"),
                                     Contact."No.", '', FALSE, '', FALSE);
                               END;
                                }
      { 82      ;1   ;Action    ;
                      Name=Print;
                      Ellipsis=Yes;
                      CaptionML=[ENU=&Print;
                                 NOR=&Skriv ut;
                                 SVE=Skriv &ut];
                      ToolTipML=[ENU=Prepare to print the document. A report request window for the document opens where you can specify what to include on the print-out.;
                                 NOR=Klargjõr for Ü skrive ut dokumentet. Det vises et rapportforespõrselsvindu for dokumentet der du kan angi hva som skal inkluderes pÜ utskriften.;
                                 SVE=Fîrbered utskrift av dokumentet. Ett rapportfînster om dokumentet îppnas dÑr det gÜr att ange vad du vill inkludera pÜ utskriften.];
                      ApplicationArea=#Suite;
                      Promoted=Yes;
                      Image=Print;
                      PromotedCategory=Category6;
                      OnAction=BEGIN
                                 DocPrint.PrintPurchHeader(Rec);
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                CaptionML=[ENU=General;
                           NOR=Generelt;
                           SVE=AllmÑnt] }

    { 2   ;2   ;Field     ;
                Lookup=No;
                ToolTipML=[ENU=Specifies the number of the involved entry or record, according to the specified number series.;
                           NOR=Angir nummeret pÜ den aktuelle oppfõringen eller posten, i henhold til den angitte nummerserien.;
                           SVE=Anger numret fîr den berîrda transaktionen eller posten, enligt den angivna nummerserien.];
                ApplicationArea=#Suite;
                SourceExpr="No.";
                Importance=Promoted;
                Visible=DocNoVisible;
                OnAssistEdit=BEGIN
                               IF AssistEdit(xRec) THEN
                                 CurrPage.UPDATE;
                             END;
                              }

    { 4   ;2   ;Field     ;
                CaptionML=[ENU=Vendor No.;
                           NOR=Leverandõrnr.;
                           SVE=Leverantîrsnr];
                ToolTipML=[ENU=Specifies the number of the vendor who delivers the products.;
                           NOR=Angir nummeret pÜ leverandõren som leverer produktene.;
                           SVE=Anger numret pÜ leverantîren som levererar produkterna.];
                ApplicationArea=#Suite;
                NotBlank=Yes;
                SourceExpr="Buy-from Vendor No.";
                Importance=Additional;
                OnValidate=BEGIN
                             OnAfterValidateBuyFromVendorNo(Rec,xRec);
                             CurrPage.UPDATE;
                           END;
                            }

    { 6   ;2   ;Field     ;
                CaptionML=[ENU=Vendor Name;
                           NOR=Leverandõrnavn;
                           SVE=Leverantîrsnamn];
                ToolTipML=[ENU=Specifies the name of the vendor who delivers the products.;
                           NOR=Angir navnet pÜ leverandõren som leverer produktene.;
                           SVE=Anger namnet pÜ leverantîren som levererar produkterna.];
                ApplicationArea=#Suite;
                SourceExpr="Buy-from Vendor Name";
                Importance=Promoted;
                OnValidate=BEGIN
                             OnAfterValidateBuyFromVendorNo(Rec,xRec);
                             IF GETFILTER("Buy-from Vendor No.") = xRec."Buy-from Vendor No." THEN
                               IF "Buy-from Vendor No." <> xRec."Buy-from Vendor No." THEN
                                 SETRANGE("Buy-from Vendor No.");
                             CurrPage.UPDATE;
                             COMMIT;
                           END;
                            }

    { 21  ;2   ;Group     ;
                CaptionML=[ENU=Buy-from;
                           NOR=Kjõp fra;
                           SVE=Kîp frÜn];
                GroupType=Group }

    { 89  ;3   ;Field     ;
                CaptionML=[ENU=Address;
                           NOR=Adresse;
                           SVE=Adress];
                ToolTipML=[ENU=Specifies the address of the vendor who ships the items.;
                           NOR=Angir adressen til leverandõren som leverer varene.;
                           SVE=Anger adressen till leverantîren som levererar artiklarna.];
                ApplicationArea=#Suite;
                SourceExpr="Buy-from Address";
                Importance=Additional;
                QuickEntry=FALSE }

    { 91  ;3   ;Field     ;
                CaptionML=[ENU=Address 2;
                           NOR=Adresse 2;
                           SVE=Adress 2];
                ToolTipML=[ENU=Specifies additional address information.;
                           NOR=Angir ekstra adresseinformasjon.;
                           SVE=Anger ytterligare adressuppgifter.];
                ApplicationArea=#Suite;
                SourceExpr="Buy-from Address 2";
                Importance=Additional;
                QuickEntry=FALSE }

    { 76  ;3   ;Field     ;
                CaptionML=[ENU=Post Code;
                           NOR=Postnr.;
                           SVE=Postnr];
                ToolTipML=[ENU=Specifies the postal code.;
                           NOR=Angir postnummeret.;
                           SVE=Anger postnumret.];
                ApplicationArea=#Suite;
                SourceExpr="Buy-from Post Code";
                Importance=Additional;
                QuickEntry=FALSE }

    { 93  ;3   ;Field     ;
                CaptionML=[ENU=City;
                           NOR=Sted;
                           SVE=Ort];
                ToolTipML=[ENU=Specifies the city of the vendor who ships the items.;
                           NOR=Angir poststedet til leverandõren som leverer varene.;
                           SVE=Anger orten fîr leverantîren som levererar artiklarna.];
                ApplicationArea=#Suite;
                SourceExpr="Buy-from City";
                Importance=Additional;
                QuickEntry=FALSE }

    { 128 ;3   ;Field     ;
                CaptionML=[ENU=Contact No.;
                           NOR=Kontaktnr.;
                           SVE=Kontaktnr];
                ToolTipML=[ENU=Specifies the number of your contact at the vendor.;
                           NOR=Angir nummeret til kontaktpersonen hos leverandõren.;
                           SVE=Anger numret som hîr till kontaktpersonen hos leverantîren.];
                ApplicationArea=#Suite;
                SourceExpr="Buy-from Contact No.";
                Importance=Additional }

    { 8   ;2   ;Field     ;
                CaptionML=[ENU=Contact;
                           NOR=Kontakt;
                           SVE=Kontakt];
                ToolTipML=[ENU=Specifies the name of the person to contact about shipment of the item from this vendor.;
                           NOR=Angir navnet pÜ kontaktpersonen som kan kontaktes angÜende varelevering fra denne leverandõren.;
                           SVE=Anger namnet pÜ den person som bîr kontaktas angÜende utleverans av artikeln frÜn leverantîren.];
                ApplicationArea=#Suite;
                SourceExpr="Buy-from Contact";
                Editable="Buy-from Vendor No." <> '';
                OnLookup=BEGIN
                           LookupContactPerson;  //**4PS01.n
                         END;
                          }

    { 145 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of archived versions for this document.;
                           NOR=Angir antall arkiverte versjoner for dette dokumentet.;
                           SVE=Anger antalet arkiverade versioner av det hÑr dokumentet.];
                ApplicationArea=#Suite;
                SourceExpr="No. of Archived Versions" }

    { 49  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the date when the related document was created.;
                           NOR=Angir datoen da de relaterte dokumentet ble opprettet.;
                           SVE=Anger datumet nÑr det relaterade dokumentet skapades.];
                ApplicationArea=#Suite;
                SourceExpr="Document Date" }

    { 36  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies when the related sales invoice must be paid.;
                           NOR=Angir nÜr den relaterte salgsfakturaen mÜ betales.;
                           SVE=Anger nÑr den relaterade fîrsÑljningsfakturan mÜste vara betald.];
                ApplicationArea=#Suite;
                SourceExpr="Due Date";
                Importance=Promoted }

    { 16  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the vendor's order number.;
                           NOR=Angir leverandõrens ordrenummer.;
                           SVE=Anger leverantîrens ordernummer.];
                ApplicationArea=#Suite;
                SourceExpr="Vendor Order No.";
                Importance=Additional }

    { 1100525002;2;Field  ;
                SourceExpr="Consumption per Location";
                Importance=Additional }

    { 18  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the vendor's shipment number. It is inserted in the corresponding field on the source document during posting.;
                           NOR=Angir leverandõrs fõlgeseddelnummer. Det settes inn i det tilsvarende feltet i kildedokumentet under bokfõring.;
                           SVE=Anger leverantîrens leveransnummer. Det infogas i motsvarande fÑlt i kÑlldokumentet vid bokfîring.];
                ApplicationArea=#Suite;
                SourceExpr="Vendor Shipment No.";
                Importance=Additional }

    { 96  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the order address code linked to the relevant vendor's order address.;
                           NOR=Angir bestillingsadressekoden som er knyttet til den relevante leverandõrens bestillingsadresse.;
                           SVE=Anger orderadresskoden som Ñr kopplad till leverantîrens orderadress.];
                ApplicationArea=#Suite;
                SourceExpr="Order Address Code";
                Importance=Additional }

    { 1210190009;2;Field  ;
                SourceExpr="Valid Until" }

    { 10  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies which purchaser is assigned to the vendor.;
                           NOR=Angir hvilken innkjõper som er knyttet til leverandõren.;
                           SVE=Anger vilken inkîpare som Ñr kopplad till leverantîren.];
                ApplicationArea=#Suite;
                SourceExpr="Purchaser Code";
                OnValidate=BEGIN
                             PurchaserCodeOnAfterValidate;
                           END;
                            }

    { 1210190000;2;Field  ;
                SourceExpr="Job No." }

    { 122 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code of the responsibility center, such as a distribution hub, that is associated with the involved user, company, customer, or vendor.;
                           NOR=Angir koden til ansvarssenteret, for eksempel en distribusjonshub, som er knyttet til den involverte brukeren, selskapet, kunden eller leverandõren.;
                           SVE=Anger koden fîr ansvarsenheten, till exempel ett distributionsnav, som associeras med anvÑndaren, fîretaget, kunden eller leverantîren i frÜga.];
                ApplicationArea=#Suite;
                SourceExpr="Responsibility Center";
                Importance=Additional }

    { 124 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether the record is open, waiting to be approved, invoiced for prepayment, or released to the next stage of processing.;
                           NOR=Angir om posten er Üpen, om den venter pÜ godkjenning, om den er fakturert for forskudd eller om den er frigitt til neste fase i behandlingen.;
                           SVE=Anger om posten Ñr îppen, vÑntar pÜ att godkÑnnas, har fakturerats fîr fîrskottsbetalning eller har slÑppts till nÑsta steg i behandlingen.];
                ApplicationArea=#Suite;
                SourceExpr=Status }

    { 1102601000;2;Field  ;
                ToolTipML=[ENU=Specifies the campaign number the document is linked to.;
                           NOR=Angir kampanjenummeret som dokumentet er koblet til.;
                           SVE=Anger kampanjnumret som dokumentet Ñr kopplat till.];
                ApplicationArea=#Suite;
                SourceExpr="Campaign No.";
                Importance=Additional }

    { 60  ;1   ;Part      ;
                Name=PurchLines;
                ApplicationArea=#Suite;
                SubPageLink=Document No.=FIELD(No.);
                PagePartID=Page510;
                Enabled="Buy-from Vendor No." <> '';
                Editable="Buy-from Vendor No." <> '';
                PartType=Page;
                UpdatePropagation=Both }

    { 1905885101;1;Group  ;
                CaptionML=[ENU=Invoice Details;
                           NOR=Fakturadetaljer;
                           SVE=Fakturadetaljer];
                GroupType=Group }

    { 12  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the currency that is used on the entry.;
                           NOR=Angir valutaen som brukes i posten.;
                           SVE=Anger valutakoden som anvÑnds i transaktionen.];
                ApplicationArea=#Suite;
                SourceExpr="Currency Code";
                OnValidate=BEGIN
                             CurrPage.UPDATE;
                             PurchCalcDiscByType.ApplyDefaultInvoiceDiscount(0,Rec);
                           END;

                OnAssistEdit=BEGIN
                               CLEAR(ChangeExchangeRate);
                               ChangeExchangeRate.SetParameter("Currency Code","Currency Factor",WORKDATE);
                               ChangeExchangeRate.SetAdditionalParameters(1, "Job No.", FALSE); //**4PS.n
                               IF ChangeExchangeRate.RUNMODAL = ACTION::OK THEN BEGIN
                                 VALIDATE("Currency Factor",ChangeExchangeRate.GetParameter);
                                 SaveInvoiceDiscountAmount;
                               END;
                               CLEAR(ChangeExchangeRate);
                             END;
                              }

    { 1000000;2;Field     ;
                ToolTipML=[ENU=Select this field if the purchase order is involved in an EU 3-party trade.;
                           SVE=Markera det hÑr fÑltet om inkîpsordern ingÜr i en EU trepartshandel.];
                SourceExpr="EU 3-Party Trade" }

    { 54  ;2   ;Field     ;
                ToolTipML=[ENU="Specifies the date you expect the items to be available in your warehouse. If you leave the field blank, it will be calculated as follows: Planned Receipt Date + Safety Lead Time + Inbound Warehouse Handling Time = Expected Receipt Date.";
                           NOR="Angir datoen da du forventer at varene skal vëre tilgjengelige pÜ lager. Hvis du lar dette feltet vëre tomt, blir det beregnet pÜ fõlgende mÜte: Planlagt mottaksdato + Sikkerhetsleveringstid + InngÜende lagerhÜndteringstid = Forventet mottaksdato.";
                           SVE="Anger det datum dÜ du vÑntar dig att artiklarna ska vara tillgÑngliga i distributionslagret. Om du inte anger nÜgot berÑknas det sÜ hÑr: Planerat inleveransdatum + SÑkerhetsledtid + Ankommande distributionslagerhanteringstid = FîrvÑntat inleveransdatum."];
                ApplicationArea=#Suite;
                SourceExpr="Expected Receipt Date" }

    { 1100525000;2;Field  ;
                SourceExpr="Your Reference" }

    { 136 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the VAT specification of the involved customer or vendor to link transactions made for this record with the appropriate general ledger account according to the VAT posting setup.;
                           NOR=Angir mva-spesifikasjonen for den involverte kunden eller leverandõren for Ü koble transaksjoner som ble utfõrt for denne posten, med riktig finanskonto i henhold til det generelle mva-bokfõringsoppsettet.;
                           SVE=Anger momsspecifikationen fîr den berîrda kunden eller leverantîren i syfte att koppla transaktioner som skapas fîr posten till det lÑmpliga redovisningskontot enligt momsbokfîringsinstÑllningen.];
                ApplicationArea=#Suite;
                SourceExpr="VAT Bus. Posting Group";
                Importance=Additional }

    { 34  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a formula that calculates the payment due date, payment discount date, and payment discount amount.;
                           NOR=Angir en formel som beregner forfallsdatoen for betalingen, kontantrabattdatoen og kontantrabattbelõpet.;
                           SVE=Anger en formel som berÑknar betalningsfîrfallodatumet, kassarabattsdatumet och kassarabattens belopp.];
                ApplicationArea=#Suite;
                SourceExpr="Payment Terms Code";
                Importance=Additional }

    { 78  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how to make payment, such as with bank transfer, cash, or check.;
                           NOR=Angir hvordan du utfõrer en betaling, for eksempel med bankoverfõring, kontanter eller sjekk.;
                           SVE=Anger hur kunden betalar, t.ex. med bankîverfîring, kontanter eller check.];
                ApplicationArea=#Suite;
                SourceExpr="Payment Method Code";
                Importance=Additional }

    { 56  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of transaction that the document represents, for the purpose of reporting to INTRASTAT.;
                           NOR=Angir transaksjonstypen som dokumentet representerer ved rapportering til INTRASTAT.;
                           SVE=Anger den transaktionstyp som dokumentet representerar fîr inrapportering till INTRASTAT.];
                ApplicationArea=#Suite;
                SourceExpr="Transaction Type";
                Importance=Promoted }

    { 100 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for Shortcut Dimension 1, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                           NOR=Angir koden til Snarveisdimensjon 1, som er Çn av to globale dimensjonskoder som du har definert i vinduet Finansoppsett.;
                           SVE=Anger koden fîr GenvÑg dimension 1, som Ñr en av tvÜ globala dimensionskoder som du stÑller in i fînstret RedovisningsinstÑllningar.];
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 1 Code";
                OnValidate=BEGIN
                             //**4PS Generated Code. Do Not Change.sn03
                             DPA_ChkDepartmentCodeAllowed(DPA_IsHardFilter);
                             //**4PS Generated Code.en03
                             ShortcutDimension1CodeOnAfterV;
                           END;
                            }

    { 102 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for Shortcut Dimension 2, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                           NOR=Angir koden til Snarveisdimensjon 2, som er Çn av to globale dimensjonskoder som du har definert i vinduet Finansoppsett.;
                           SVE=Anger koden fîr GenvÑg dimension 2, som Ñr en av tvÜ globala dimensionskoder som du stÑller in i fînstret RedovisningsinstÑllningar.];
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 2 Code";
                OnValidate=BEGIN
                             ShortcutDimension2CodeOnAfterV;
                           END;
                            }

    { 38  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the payment discount percentage that is granted if you pay on or before the date entered in the Pmt. Discount Date field. The discount percentage is specified in the Payment Terms Code field.;
                           NOR=Angir kontantrabattprosenten som gis hvis du betaler pÜ eller fõr datoen som er angitt i feltet Kont.rabattdato. Rabattprosenten er angitt i feltet Betalingsbet.kode.;
                           SVE=Anger den procentuella kassarabatten som ges om du betalar senast det datum som anges i fÑltet Kassarabattsdatum. Den procentuella rabatten anges i fÑltet Betalningsvillkorskod.];
                ApplicationArea=#Suite;
                SourceExpr="Payment Discount %";
                Importance=Additional }

    { 40  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the date on which the amount in the entry must be paid for a payment discount to be granted.;
                           NOR=Angir datoen da belõpet i posten mÜ vëre betalt for at det kan oppnÜs kontantrabatt.;
                           SVE=Anger datumet dÜ transaktionens belopp mÜste vara betalt fîr att orderns kassarabatt ska gÑlla.];
                ApplicationArea=#Suite;
                SourceExpr="Pmt. Discount Date" }

    { 104 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a code for the location where you want the items to be placed when they are received.;
                           NOR=Angir en kode for lokasjonen der du vil at de bestilte varene skal plasseres.;
                           SVE=Anger en kod fîr lagerstÑllet dÑr du vill att artiklarna placeras nÑr de har levererats.];
                ApplicationArea=#Suite;
                SourceExpr="Location Code";
                Importance=Promoted }

    { 52  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the delivery conditions of the related shipment, such as free on board (FOB).;
                           NOR=Angir leveringsbetingelsene for den tilknyttede leveringen, for eksempel Fritt ombord (FOB).;
                           SVE=Anger leveransvillkoren fîr den relaterade utleveransen, till exempel fritt ombord.];
                ApplicationArea=#Suite;
                SourceExpr="Shipment Method Code";
                Importance=Additional }

    { 106 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that the related entry represents an unpaid invoice for which either a payment suggestion, a reminder, or a finance charge memo exists.;
                           NOR=Angir at den relaterte oppfõringen representerer en ubetalt faktura som det finnes et betalingsforslag, en purring eller en rentenota for.;
                           SVE=Anger att den relaterade transaktionen representerar en obetald faktura som det finns ett betalningsfîrslag, en betalningspÜminnelse eller en rÑntefaktura fîr.];
                ApplicationArea=#Suite;
                SourceExpr="On Hold";
                Importance=Additional }

    { 1100285000;2;Field  ;
                SourceExpr="Prices Including VAT" }

    { 1906801201;1;Group  ;
                CaptionML=[ENU=Shipping and Payment;
                           NOR=Levering og betaling;
                           SVE=Leverans och betalning];
                GroupType=Group }

    { 1210190014;2;Field  ;
                SourceExpr="Ship-to Project";
                Importance=Standard }

    { 1210190017;2;Field  ;
                SourceExpr=Deliver;
                Importance=Promoted }

    { 1210190015;2;Field  ;
                SourceExpr="Ship-to Location" }

    { 23  ;2   ;Group     ;
                CaptionML=[ENU=Ship-to;
                           NOR=Lever til;
                           SVE=Leverans];
                GroupType=Group }

    { 1100528501;3;Group  ;
                Visible=(Deliver  = Deliver::"Customer Address") OR (Deliver = Deliver::"Customer Ship-to Address");
                GroupType=Group }

    { 1100528500;4;Field  ;
                ToolTipML=[ENU=Specifies the code for another delivery address than the vendor's own address, which is entered by default.;
                           SVE=Anger koden fîr en annan leveransadress Ñn kundens egna adress, som anges som standard.];
                ApplicationArea=#Suite;
                SourceExpr="Ship-to Code";
                Editable=("Sell-to Customer No." <> '') }

    { 42  ;3   ;Field     ;
                CaptionML=[ENU=Name;
                           NOR=Navn;
                           SVE=Namn];
                ToolTipML=[ENU=Specifies the name of the company at the address to which you want the items in the purchase order to be shipped.;
                           NOR=Angir navnet pÜ selskapet med adressen som du vil at varene i bestillingen skal leveres til.;
                           SVE=Anger namnet pÜ fîretaget som finns pÜ adressen dit du vill att artiklarna pÜ inkîpsordern ska levereras.];
                ApplicationArea=#Suite;
                SourceExpr="Ship-to Name";
                Editable=Deliver = Deliver::"Custom Address" }

    { 1210190018;3;Field  ;
                CaptionML=[ENU=Name 2;
                           SVE=Namn 2];
                SourceExpr="Ship-to Name 2";
                Importance=Additional;
                Editable=Deliver = Deliver::"Custom Address" }

    { 44  ;3   ;Field     ;
                CaptionML=[ENU=Address;
                           NOR=Adresse;
                           SVE=Adress];
                ToolTipML=[ENU=Specifies the address that you want the items in the purchase order to be shipped to.;
                           NOR=Angir adressen du vil at varene i bestillingen skal leveres til.;
                           SVE=Anger adressen dit du vill att artiklarna pÜ inkîpsordern ska levereras.];
                ApplicationArea=#Suite;
                SourceExpr="Ship-to Address";
                Importance=Additional;
                Editable=Deliver = Deliver::"Custom Address";
                QuickEntry=FALSE }

    { 46  ;3   ;Field     ;
                CaptionML=[ENU=Address 2;
                           NOR=Adresse 2;
                           SVE=Adress 2];
                ToolTipML=[ENU=Specifies additional address information.;
                           NOR=Angir ekstra adresseinformasjon.;
                           SVE=Anger ytterligare adressuppgifter.];
                ApplicationArea=#Suite;
                SourceExpr="Ship-to Address 2";
                Importance=Additional;
                Editable=Deliver = Deliver::"Custom Address";
                QuickEntry=FALSE }

    { 48  ;3   ;Field     ;
                CaptionML=[ENU=City;
                           NOR=Sted;
                           SVE=Ort];
                ToolTipML=[ENU=Specifies the city the items in the purchase order will be shipped to.;
                           NOR=Angir poststedet du vil at varene i bestillingen skal leveres til.;
                           SVE=Anger orten dit artiklarna pÜ inkîpsordern ska levereras.];
                ApplicationArea=#Suite;
                SourceExpr="Ship-to City";
                Importance=Additional;
                Editable=Deliver = Deliver::"Custom Address";
                QuickEntry=FALSE }

    { 109 ;3   ;Field     ;
                CaptionML=[ENU=Post Code;
                           NOR=Postnr.;
                           SVE=Postnr];
                ToolTipML=[ENU=Specifies the postal code.;
                           NOR=Angir postnummeret.;
                           SVE=Anger postnumret.];
                ApplicationArea=#Suite;
                SourceExpr="Ship-to Post Code";
                Importance=Additional;
                Editable=Deliver = Deliver::"Custom Address";
                QuickEntry=FALSE }

    { 1210190020;3;Field  ;
                SourceExpr="Ship-to Country/Region Code";
                Importance=Additional;
                Editable=Deliver = Deliver::"Custom Address" }

    { 50  ;3   ;Field     ;
                CaptionML=[ENU=Contact;
                           NOR=Kontakt;
                           SVE=Kontakt];
                ToolTipML=[ENU=Specifies the name of a contact person for the address where the items in the purchase order should be shipped.;
                           NOR=Angir navnet pÜ kontaktpersonen med adressen som varene i bestillingen skal leveres til.;
                           SVE=Anger namnet pÜ en kontaktperson pÜ adressen dit artiklarna pÜ inkîpsordern ska levereras.];
                ApplicationArea=#Suite;
                SourceExpr="Ship-to Contact";
                Importance=Additional }

    { 25  ;2   ;Group     ;
                CaptionML=[ENU=Pay-to;
                           NOR=Betal til;
                           SVE=Betalas];
                GroupType=Group }

    { 24  ;3   ;Field     ;
                CaptionML=[ENU=Name;
                           NOR=Navn;
                           SVE=Namn];
                ToolTipML=[ENU=Specifies the name of the vendor sending the invoice.;
                           NOR=Angir navnet pÜ leverandõren som sender fakturaen.;
                           SVE=Anger namnet pÜ leverantîren som skickar fakturan.];
                ApplicationArea=#Suite;
                SourceExpr="Pay-to Name";
                Importance=Promoted }

    { 26  ;3   ;Field     ;
                CaptionML=[ENU=Address;
                           NOR=Adresse;
                           SVE=Adress];
                ToolTipML=[ENU=Specifies the address of the vendor sending the invoice.;
                           NOR=Angir adressen til leverandõren som sender fakturaen.;
                           SVE=Anger adressen fîr leverantîren som skickar fakturan.];
                ApplicationArea=#Suite;
                SourceExpr="Pay-to Address";
                Importance=Additional;
                Enabled="Buy-from Vendor No." <> "Pay-to Vendor No.";
                Editable="Buy-from Vendor No." <> "Pay-to Vendor No.";
                QuickEntry=FALSE }

    { 28  ;3   ;Field     ;
                CaptionML=[ENU=Address 2;
                           NOR=Adresse 2;
                           SVE=Adress 2];
                ToolTipML=[ENU=Specifies additional address information.;
                           NOR=Angir ekstra adresseinformasjon.;
                           SVE=Anger ytterligare adressuppgifter.];
                ApplicationArea=#Suite;
                SourceExpr="Pay-to Address 2";
                Importance=Additional;
                Enabled="Buy-from Vendor No." <> "Pay-to Vendor No.";
                Editable="Buy-from Vendor No." <> "Pay-to Vendor No.";
                QuickEntry=FALSE }

    { 97  ;3   ;Field     ;
                CaptionML=[ENU=Post Code;
                           NOR=Postnr.;
                           SVE=Postnr];
                ToolTipML=[ENU=Specifies the postal code.;
                           NOR=Angir postnummeret.;
                           SVE=Anger postnumret.];
                ApplicationArea=#Suite;
                SourceExpr="Pay-to Post Code";
                Importance=Additional;
                Enabled="Buy-from Vendor No." <> "Pay-to Vendor No.";
                Editable="Buy-from Vendor No." <> "Pay-to Vendor No.";
                QuickEntry=FALSE }

    { 30  ;3   ;Field     ;
                CaptionML=[ENU=City;
                           NOR=Sted;
                           SVE=Ort];
                ToolTipML=[ENU=Specifies the city of the vendor sending the invoice.;
                           NOR=Angir poststedet for leverandõren som sender fakturaen.;
                           SVE=Anger orten dÑr leverantîren som skickar fakturan finns.];
                ApplicationArea=#Suite;
                SourceExpr="Pay-to City";
                Importance=Additional;
                Enabled="Buy-from Vendor No." <> "Pay-to Vendor No.";
                Editable="Buy-from Vendor No." <> "Pay-to Vendor No.";
                QuickEntry=FALSE }

    { 130 ;3   ;Field     ;
                CaptionML=[ENU=Contact No.;
                           NOR=Kontaktnr.;
                           SVE=Kontaktnr];
                ToolTipML=[ENU=Specifies the number of the contact who sends the invoice.;
                           NOR=Angir nummeret til kontakten som sender fakturaen.;
                           SVE=Anger numret fîr kontakten som skickar fakturan.];
                ApplicationArea=#Suite;
                SourceExpr="Pay-to Contact No.";
                Importance=Additional;
                Enabled="Buy-from Vendor No." <> "Pay-to Vendor No.";
                Editable="Buy-from Vendor No." <> "Pay-to Vendor No." }

    { 32  ;3   ;Field     ;
                CaptionML=[ENU=Contact;
                           NOR=Kontakt;
                           SVE=Kontakt];
                ToolTipML=[ENU=Specifies the name of the person to contact about an invoice from this vendor.;
                           NOR=Angir navnet pÜ den personen som skal kontaktes hvis det oppstÜr spõrsmÜl til en faktura fra denne leverandõren.;
                           SVE=Anger namnet pÜ personen att kontakta angÜende en faktura frÜn leverantîren.];
                ApplicationArea=#Suite;
                SourceExpr="Pay-to Contact";
                Importance=Additional;
                Enabled="Buy-from Vendor No." <> "Pay-to Vendor No.";
                Editable="Buy-from Vendor No." <> "Pay-to Vendor No." }

    { 1907468901;1;Group  ;
                CaptionML=[ENU=Foreign Trade;
                           NOR=Utenrikshandel;
                           SVE=Utlandshandel] }

    { 115 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a specification of the document's transaction, for the purpose of reporting to INTRASTAT.;
                           NOR=Angir en spesifikasjon for dokumentets transaksjon ved rapportering til INTRASTAT.;
                           SVE=Anger en specifikation av fîrsÑljningsdokumentets transaktion fîr inrapportering till INTRASTAT.];
                ApplicationArea=#Suite;
                SourceExpr="Transaction Specification";
                Importance=Additional }

    { 58  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the transport method, for the purpose of reporting to INTRASTAT.;
                           NOR=Angir transportmÜten ved rapportering til INTRASTAT.;
                           SVE=Anger transportsÑttet fîr inrapportering till INTRASTAT.];
                ApplicationArea=#Suite;
                SourceExpr="Transport Method";
                Importance=Additional }

    { 111 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code of the port of entry where the items pass into your country/region, for reporting to Intrastat.;
                           NOR=Angir koden for innfõrselsstedet der varene kommer inn i landet/omrÜdet, for rapportering til Intrastat.;
                           SVE=Anger koden fîr inskeppningshamnen dÑr artiklarna kommer till ditt land/din region, fîr rapportering till Intrastat.];
                ApplicationArea=#Suite;
                SourceExpr="Entry Point";
                Importance=Additional }

    { 113 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the area of the customer or vendor, for the purpose of reporting to INTRASTAT.;
                           NOR=Angir omrÜdet for kunden eller leverandõren ved rapportering til INTRASTAT.;
                           SVE=Anger omrÜdet i kundens eller leverantîrens adress fîr inrapportering till INTRASTAT.];
                ApplicationArea=#Suite;
                SourceExpr=Area;
                Importance=Additional }

    { 1100485006;2;Field  ;
                SourceExpr="Company VAT Registration No." }

    { 1100485004;2;Field  ;
                SourceExpr="VAT Registration No." }

    { 1100485001;2;Field  ;
                SourceExpr="Country of Origin" }

    { 1100485000;2;Field  ;
                SourceExpr="Country of Destination" }

    { 1900000007;0;Container;
                ContainerType=FactBoxArea }

    { 22  ;1   ;Part      ;
                Name=Attached Documents;
                CaptionML=[ENU=Attachments;
                           NOR=Vedlegg;
                           SVE=Bilagor];
                ApplicationArea=#All;
                SubPageLink=Table ID=CONST(38),
                            No.=FIELD(No.),
                            Document Type=FIELD(Document Type);
                PagePartID=Page1174;
                PartType=Page }

    { 5   ;1   ;Part      ;
                ApplicationArea=#Suite;
                SubPageLink=Table ID=CONST(38),
                            Document Type=FIELD(Document Type),
                            Document No.=FIELD(No.);
                PagePartID=Page9103;
                Visible=OpenApprovalEntriesExistForCurrUser;
                PartType=Page }

    { 1100529900;1;Part   ;
                Name=RegisterExternalDocumentFB;
                PagePartID=Page11125053;
                PartType=Page }

    { 1906354007;1;Part   ;
                Name=ApprovalFactBox;
                ApplicationArea=#Suite;
                PagePartID=Page9092;
                Visible=FALSE;
                PartType=Page }

    { 1901138007;1;Part   ;
                ApplicationArea=#Suite;
                SubPageLink=No.=FIELD(Buy-from Vendor No.);
                PagePartID=Page9093;
                PartType=Page }

    { 1904651607;1;Part   ;
                ApplicationArea=#Suite;
                SubPageLink=No.=FIELD(Pay-to Vendor No.);
                PagePartID=Page9094;
                PartType=Page }

    { 3   ;1   ;Part      ;
                ApplicationArea=#Suite;
                SubPageLink=Document Type=FIELD(Document Type),
                            Document No.=FIELD(Document No.),
                            Line No.=FIELD(Line No.);
                PagePartID=Page9100;
                ProviderID=60;
                Visible=FALSE;
                PartType=Page }

    { 20  ;1   ;Part      ;
                Name=WorkflowStatus;
                ApplicationArea=#Suite;
                PagePartID=Page1528;
                Visible=ShowWorkflowStatus;
                Enabled=FALSE;
                Editable=FALSE;
                PartType=Page;
                ShowFilter=No }

    { 1900383207;1;Part   ;
                ApplicationArea=#RecordLinks;
                Visible=FALSE;
                PartType=System;
                SystemPartID=RecordLinks }

    { 1905767507;1;Part   ;
                ApplicationArea=#Notes;
                PartType=System;
                SystemPartID=Notes }

  }
  CODE
  {
    VAR
      CopyPurchDoc@1005 : Report 492;
      DocPrint@1006 : Codeunit 229;
      UserMgt@1009 : Codeunit 5700;
      ArchiveManagement@1014 : Codeunit 5063;
      PurchCalcDiscByType@1001 : Codeunit 66;
      ChangeExchangeRate@1002 : Page 511;
      DocNoVisible@1000 : Boolean;
      OpenApprovalEntriesExist@1003 : Boolean;
      OpenApprovalEntriesExistForCurrUser@1007 : Boolean;
      ShowWorkflowStatus@1004 : Boolean;
      CanCancelApprovalForRecord@1008 : Boolean;
      gFromReference@1210190003 : Boolean;
      gPurchLineNo@1210190002 : Integer;
      DPA_IsHardFilter@1100000999 : Boolean;

    LOCAL PROCEDURE ApproveCalcInvDisc@1();
    BEGIN
      CurrPage.PurchLines.PAGE.ApproveCalcInvDisc;
    END;

    LOCAL PROCEDURE SaveInvoiceDiscountAmount@14();
    VAR
      DocumentTotals@1000 : Codeunit 57;
    BEGIN
      CurrPage.SAVERECORD;
      DocumentTotals.PurchaseRedistributeInvoiceDiscountAmountsOnDocument(Rec);
      CurrPage.UPDATE(FALSE);
    END;

    PROCEDURE InitSelectionFromReference@1210190002(IPurchLineNo@1210190004 : Integer);
    BEGIN
      //**4PS
      gFromReference := TRUE;
      gPurchLineNo := IPurchLineNo;
    END;

    LOCAL PROCEDURE PurchaserCodeOnAfterValidate@19046120();
    BEGIN
      CurrPage.PurchLines.PAGE.UpdateForm(TRUE);
    END;

    LOCAL PROCEDURE ShortcutDimension1CodeOnAfterV@19029405();
    BEGIN
      CurrPage.PurchLines.PAGE.UpdateForm(TRUE);
    END;

    LOCAL PROCEDURE ShortcutDimension2CodeOnAfterV@19008725();
    BEGIN
      CurrPage.PurchLines.PAGE.UpdateForm(TRUE);
    END;

    LOCAL PROCEDURE PricesIncludingVATOnAfterValid@19009096();
    BEGIN
      CurrPage.UPDATE;
    END;

    LOCAL PROCEDURE SetDocNoVisible@2();
    VAR
      DocumentNoVisibility@1001 : Codeunit 1400;
      DocType@1000 : 'Quote,Order,Invoice,Credit Memo,Blanket Order,Return Order,Reminder,FinChMemo';
    BEGIN
      DocNoVisible := DocumentNoVisibility.PurchaseDocumentNoIsVisible(DocType::"Blanket Order","No.");
    END;

    LOCAL PROCEDURE SetControlAppearance@5();
    VAR
      ApprovalsMgmt@1002 : Codeunit 1535;
    BEGIN
      OpenApprovalEntriesExistForCurrUser := ApprovalsMgmt.HasOpenApprovalEntriesForCurrentUser(RECORDID);
      OpenApprovalEntriesExist := ApprovalsMgmt.HasOpenApprovalEntries(RECORDID);

      CanCancelApprovalForRecord := ApprovalsMgmt.CanCancelApprovalForRecord(RECORDID);
    END;

    BEGIN
    {
      4PS 24-09-2009 PS, Approval removed
      4PS 30-03-18 DP01917 OLKOL: Action Approve changed
    }
    END.
  }
}

