OBJECT Page 54 Purchase Order Subform
{
  OBJECT-PROPERTIES
  {
    Date=;
    Time=;
    Version List=NAVW114.03,4PS14.00,NAVSE,EXF;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Lines;
               NOR=Linjer;
               SVE=Rader];
    MultipleNewLines=No;
    LinksAllowed=No;
    SourceTable=Table39;
    DelayedInsert=Yes;
    SourceTableView=WHERE(Document Type=FILTER(Order));
    PageType=ListPart;
    AutoSplitKey=Yes;
    RefreshOnActivate=Yes;
    OnInit=VAR
             ApplicationAreaMgmtFacade@1001 : Codeunit 9179;
           BEGIN
             PurchasesPayablesSetup.GET;
             TempOptionLookupBuffer.FillBuffer(TempOptionLookupBuffer."Lookup Type"::Purchases);
             IsFoundation := ApplicationAreaMgmtFacade.IsFoundationEnabled;
             Currency.InitRoundingPrecision;

             //**4PS.sn
             TradeItemEnabled := TRUE;
             NoIsEditable := TRUE;
             CostTypeEditable := TRUE;
             ItemEditable := TRUE;
             TariffNoEditable := TRUE;
             NetWeightEditable := TRUE;
             PlantTypeEditable := TRUE;
             PlantNoEditable := TRUE;
             CostComponentEditable := TRUE;
             TypeEditable := TRUE;
             QuantityEditable := TRUE;
             AmountEditable := TRUE;
             QtyToInvoiceEditable := TRUE;
             AmntToInvoiceEditable := TRUE;
             ExpectedBackOrderDateEditable := TRUE;
             AdditionalCostServiceEditable := TRUE;
             StratPurchaseFieldsEditable := TRUE;
             AmountIncludingVATEditable := TRUE;
           END;

    OnOpenPage=VAR
                 FPSLicenseManagement@1100527400 : Codeunit 11229289;
               BEGIN
                 //**4PS Generated Code. Do Not Change.sn01
                 DPA_IsHardFilter := DPA_SetFilters(CurrPage.OBJECTID(FALSE));
                 //**4PS Generated Code.en01

                 SetDimensionsVisibility;

                 //**4PS.sn
                 IF JobsSetup.GET THEN;
                 IF ServiceSetup.GET THEN;

                 PurchSetup.GET;
                 IF NOT FPSLicenseManagement.LicenseAndReadPermissionForTable(ItemSetup) THEN
                   TradeItemEnabled := FALSE;
                 InvtSetup.GET;

                 FILTERGROUP(4);
                 PurchaseHeader.SETRANGE("Document Type",PurchaseHeader."Document Type"::Order);
                 PurchaseHeader.SETFILTER("No.", GETFILTER("Document No."));
                 PurchaseHeader.SETRANGE("Amounts only", TRUE);
                 FILTERGROUP(0);
                 IF PurchaseHeader.FINDFIRST THEN
                   SCClaimsEnabled := TRUE;
                 //**4PS.en
               END;

    OnFindRecord=BEGIN
                   DocumentTotals.PurchaseCheckAndClearTotals(Rec,xRec,TotalPurchaseLine,VATAmount,InvoiceDiscountAmount,InvoiceDiscountPct);
                   EXIT(FIND(Which));
                 END;

    OnAfterGetRecord=BEGIN
                       ShowShortcutDimCode(ShortcutDimCode);
                       UpdateTypeText;
                       SetItemChargeFieldsStyle;

                       //**4PS.sn
                       IF "Document No." <> '' THEN BEGIN
                         "UnitCost/BaseUnit" := GetPurchaseUnitPrice(0);
                         "UnitPrice/BaseUnit" := GetPurchaseUnitPrice(1);
                         "UnitCost/PurchUnit":= GetPurchaseUnitPrice(2);
                         GetItemSpecifications;
                       END;
                       GetBaseQuanUnit(BaseQuan, BaseUnit);
                       IF gFromReference THEN BEGIN
                         gFromReference := FALSE;
                         SETRANGE("Line No.");
                       END;
                       DetermineBackOrderQuantity;

                       PurchaseLineExtension.GetPurchLineExtension("Document Type", "Document No.", "Line No.");
                       SetSaveFields();
                       //**4PS.en
                     END;

    OnNewRecord=BEGIN
                  InitType;
                  // Default to Item for the first line and to previous line type for the others
                  IF ApplicationAreaMgmtFacade.IsFoundationEnabled THEN
                    IF xRec."Document No." = '' THEN
                      Type := Type::Item;

                  //**4PS Generated Code. Do Not Change.sn02
                  DPA_SetDefaultDepartment;
                  //**4PS Generated Code.en02

                  CLEAR(ShortcutDimCode);
                  UpdateTypeText;

                  //**4PS.sn
                  CALCFIELDS("Balance Excl. VAT","Balance Incl. VAT");
                  RefQuote := '';
                  InitRecord;
                  IF PurchaseHeader.GET("Document Type","Document No.") THEN BEGIN
                    IF PurchaseHeader.Status = PurchaseHeader.Status::Open THEN BEGIN // C001383.n
                      GetVendorPreferenceAccountNo();
                      CheckRelatedVendor;  //C026292
                    END;
                  END;
                  ShowShortcutDimCode(ShortcutDimCode);
                  //**4PS.en
                END;

    OnInsertRecord=BEGIN
                     //**4PS.sn
                     IF (PurchaseLineExtension."Line No." = 0) AND
                        (PurchaseLineExtension.IsFilled) AND
                        ("Line No." > 0)
                     THEN
                       PurchaseLineExtension.UpdatePurchLineExtension("Document Type", "Document No.", "Line No.");
                     //**4PS.en
                   END;

    OnModifyRecord=BEGIN
                     DocumentTotals.PurchaseCheckIfDocumentChanged(Rec,xRec);
                   END;

    OnDeleteRecord=VAR
                     ReservePurchLine@1000 : Codeunit 99000834;
                   BEGIN
                     IF (Quantity <> 0) AND ItemExists("No.") THEN BEGIN
                       COMMIT;
                       IF NOT ReservePurchLine.DeleteLineConfirm(Rec) THEN
                         EXIT(FALSE);
                       ReservePurchLine.DeleteLine(Rec);
                     END;
                     DocumentTotals.PurchaseDocTotalsNotUpToDate;
                   END;

    OnAfterGetCurrRecord=BEGIN
                           GetTotalsPurchaseHeader;
                           CalculateTotals;
                           UpdateEditableOnRow;
                           UpdateTypeText;
                           SetItemChargeFieldsStyle;

                           //**4PS.sn
                           RefQuote := RouteRefMgtCU.GetQuoteOfReference("Purchase Route Reference");
                           PurchaseLineExtension.GetPurchLineExtension("Document Type", "Document No.", "Line No.");
                           SetEditable;
                           //**4PS.en
                         END;

    ActionList=ACTIONS
    {
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 11      ;1   ;Action    ;
                      Name=SelectMultiItems;
                      AccessByPermission=TableData 27=R;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Select items;
                                 NOR=Velg varer;
                                 SVE=VÑlj artiklar];
                      ToolTipML=[ENU=Add two or more items from the full list of your inventory items.;
                                 NOR=Legg til to eller flere varer fra den fullstendige listen over varer pÜ lager.;
                                 SVE=LÑgg till tvÜ eller flera artiklar frÜn den fullstÑndiga listan îver lagerartiklar.];
                      ApplicationArea=#Basic,#Suite;
                      Image=NewItem;
                      OnAction=BEGIN
                                 SelectMultipleItems;
                               END;
                                }
      { 1907935204;1 ;ActionGroup;
                      CaptionML=[ENU=&Line;
                                 NOR=&Linje;
                                 SVE=Ra&d];
                      Image=Line }
      { 1906421304;2 ;ActionGroup;
                      CaptionML=[ENU=Item Availability by;
                                 NOR=Varetilgjengelighet per;
                                 SVE=Artikeldisp. per];
                      Image=ItemAvailability }
      { 5       ;3   ;Action    ;
                      CaptionML=[ENU=Event;
                                 NOR=Hendelse;
                                 SVE=UtstÑllning];
                      ToolTipML=[ENU=View how the actual and the projected available balance of an item will develop over time according to supply and demand events.;
                                 NOR=Vis hvordan den aktuelle og forventede disponible beholdningen for en vare vil utvikle seg over tid i henhold til tilbud og etterspõrselhendelser.;
                                 SVE=Visa hur aktuell och planerad lagerutveckling fîr en artikel utvecklas med tiden enligt tillgÜngs- och efterfrÜgehÑndelser.];
                      ApplicationArea=#Basic,#Suite;
                      Image=Event;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromPurchLine(Rec,ItemAvailFormsMgt.ByEvent)
                               END;
                                }
      { 1902027204;3 ;Action    ;
                      CaptionML=[ENU=Period;
                                 NOR=Periode;
                                 SVE=Period];
                      ToolTipML=[ENU=Show the projected quantity of the item over time according to time periods, such as day, week, or month.;
                                 NOR=Viser beregnet antall av varen over tid i henhold til tidsperioder, for eksempel dag, uke eller mÜned.;
                                 SVE=Visa planerat antal fîr artikeln îver tiden enligt tidsperioder, sÜsom dag, vecka eller mÜnad.];
                      ApplicationArea=#Basic,#Suite;
                      Image=Period;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromPurchLine(Rec,ItemAvailFormsMgt.ByPeriod)
                               END;
                                }
      { 1901633104;3 ;Action    ;
                      CaptionML=[ENU=Variant;
                                 NOR=Variant;
                                 SVE=Variant];
                      ToolTipML=[ENU=View or edit the item's variants. Instead of setting up each color of an item as a separate item, you can set up the various colors as variants of the item.;
                                 NOR=Vis eller rediger varens varianter. Du kan definere de ulike fargene som varianter av varen i stedet for Ü definere hver variant som en egen vare.;
                                 SVE=Visa eller redigera artikelns varianter. I stÑllet fîr att registrera varje fÑrg pÜ en artikel som en separat artikel, kan du registrera de olika fÑrgerna som varianter av artikeln.];
                      ApplicationArea=#Planning;
                      Image=ItemVariant;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromPurchLine(Rec,ItemAvailFormsMgt.ByVariant)
                               END;
                                }
      { 1902479904;3 ;Action    ;
                      AccessByPermission=TableData 14=R;
                      CaptionML=[ENU=Location;
                                 NOR=Lokasjon;
                                 SVE=LagerstÑlle];
                      ToolTipML=[ENU=View the actual and projected quantity of the item per location.;
                                 NOR=Vis faktisk og beregnet antall av varen per lokasjon.;
                                 SVE=Visa aktuellt och planerat antal artiklar per lagerstÑlle.];
                      ApplicationArea=#Location;
                      Image=Warehouse;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromPurchLine(Rec,ItemAvailFormsMgt.ByLocation)
                               END;
                                }
      { 3       ;3   ;Action    ;
                      AccessByPermission=TableData 5870=R;
                      CaptionML=[ENU=BOM Level;
                                 NOR=StykklistenivÜ;
                                 SVE=StrukturnivÜ];
                      ToolTipML=[ENU=View availability figures for items on bills of materials that show how many units of a parent item you can make based on the availability of child items.;
                                 NOR=Vis tilgjengelighetstall for stykklistevarer som angir hvor mange enheter av en overordnet vare du kan lage basert pÜ tilgjengeligheten av underordnede varer.;
                                 SVE=Visa tillgÑnglighetssiffror fîr artiklar i strukturer som visar hur mÜnga enheter av en îverordnad artikel som gÜr att tillverka baserat pÜ underartiklarnas tillgÑnglighet.];
                      ApplicationArea=#Assembly;
                      Image=BOMLevel;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromPurchLine(Rec,ItemAvailFormsMgt.ByBOM)
                               END;
                                }
      { 1100528300;2 ;Action    ;
                      CaptionML=[ENU=I&tem Inventory by Company;
                                 SVE=Artikellager efter fîretag];
                      Image=IntercompanyOrder;
                      OnAction=BEGIN
                                 ShowItemInventoryByCompany;
                               END;
                                }
      { 1902085804;2 ;Action    ;
                      AccessByPermission=TableData 27=R;
                      CaptionML=[ENU=Reservation Entries;
                                 NOR=Reservasjonsposter;
                                 SVE=Reservationstransaktioner];
                      ToolTipML=[ENU=View the entries for every reservation that is made, either manually or automatically.;
                                 NOR=Vis postene for hver reservasjon som er foretatt, enten manuelt av deg eller automatisk.;
                                 SVE=Visa transaktionerna fîr varje reservation som har gjorts manuellt eller automatiskt.];
                      ApplicationArea=#Reservation;
                      Image=ReservationLedger;
                      OnAction=BEGIN
                                 ShowReservationEntries(TRUE);
                               END;
                                }
      { 1905987604;2 ;Action    ;
                      Name=Item Tracking Lines;
                      ShortCutKey=Shift+Ctrl+I;
                      CaptionML=[ENU=Item &Tracking Lines;
                                 NOR=Vare&sporingslinjer;
                                 SVE=Ar&tikelspÜrningsrader];
                      ToolTipML=[ENU=View or edit serial numbers and lot numbers that are assigned to the item on the document or journal line.;
                                 NOR=Vis eller rediger serienumre og partinumre som er tilordnet til varen i dokumentet eller pÜ kladdelinjen.;
                                 SVE=Visa eller redigera serie- och partinummer som har tilldelats artikeln pÜ dokument- eller journalraden.];
                      ApplicationArea=#ItemTracking;
                      Image=ItemTrackingLines;
                      OnAction=BEGIN
                                 OpenItemTrackingLines;
                               END;
                                }
      { 1903984904;2 ;Action    ;
                      Name=Dimensions;
                      AccessByPermission=TableData 348=R;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=[ENU=Dimensions;
                                 NOR=Dimensjoner;
                                 SVE=Dimensioner];
                      ToolTipML=[ENU=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
                                 NOR=Vis eller rediger dimensjoner, for eksempel omrÜde, prosjekt eller avdeling, som du kan tilordne til salgs- og kjõpsdokumenter for Ü distribuere kostnader og analysere transaksjonshistorikk.;
                                 SVE=Visa eller redigera mÜtt, till exempel omrÜde, projekt eller avdelning, som du kan tilldela till fîrsÑljnings- och inkîpsdokument fîr att fîrdela kostnader och analysera transaktionshistorik.];
                      ApplicationArea=#Dimensions;
                      Image=Dimensions;
                      OnAction=BEGIN
                                 ShowDimensions;
                               END;
                                }
      { 1903079404;2 ;Action    ;
                      CaptionML=[ENU=Co&mments;
                                 NOR=&Merknader;
                                 SVE=Ko&mmentarer];
                      ToolTipML=[ENU=View or add comments for the record.;
                                 NOR=Vis eller legg til kommentarer for posten.;
                                 SVE=Visa eller lÑgg till kommentarer till posten.];
                      ApplicationArea=#Comments;
                      Image=ViewComments;
                      OnAction=BEGIN
                                 ShowLineComments;
                               END;
                                }
      { 1907184504;2 ;Action    ;
                      Name=ItemChargeAssignment;
                      AccessByPermission=TableData 5800=R;
                      CaptionML=[ENU=Item Charge &Assignment;
                                 NOR=V&aregebyrtilordning;
                                 SVE=Art.omkost.&fîrdelning];
                      ToolTipML=[ENU=Assign additional direct costs, for example for freight, to the item on the line.;
                                 NOR=Tilordne ekstra direkte kostnader, for eksempel for frakt, til varen pÜ linjen.;
                                 SVE=Tilldela ytterligare direkta kostnader, t.ex. fîr frakt, till artikeln pÜ raden.];
                      ApplicationArea=#ItemCharges;
                      Image=ItemCosts;
                      OnAction=BEGIN
                                 ShowItemChargeAssgnt;
                                 SetItemChargeFieldsStyle;
                               END;
                                }
      { 1901542204;2 ;Action    ;
                      Name=DocumentLineTracking;
                      CaptionML=[ENU=Document &LineTracking;
                                 NOR=Sporing av &dokumentlinje;
                                 SVE=SpÜrn&ing av dokumentrad];
                      ToolTipML=[ENU=View related open, posted, or archived documents or document lines.;
                                 NOR=Vis relaterte Üpne, bokfõrte eller arkiverte dokumenter eller dokumentlinjer.;
                                 SVE=Visa relaterade îppna, bokfîrda eller arkiverade dokument eller dokumentrader.];
                      ApplicationArea=#Basic,#Suite;
                      OnAction=BEGIN
                                 ShowDocumentLineTracking;
                               END;
                                }
      { 23      ;2   ;Action    ;
                      Name=DeferralSchedule;
                      CaptionML=[ENU=Deferral Schedule;
                                 NOR=Tidsplan for periodisering;
                                 SVE=Periodiseringsschema];
                      ToolTipML=[ENU=View or edit the deferral schedule that governs how revenue made with this sales document is deferred to different accounting periods when the document is posted.;
                                 NOR=Vis eller rediger tidsplanen for periodisering som styrer hvordan inntekter fra dette salgsdokumentet periodiseres til ulike regnskapsperioder nÜr dokumentet bokfõres.;
                                 SVE=Visa eller redigera periodiseringsschemat som bestÑmmer hur intÑkter med det hÑr fîrsÑljningsdokumentet periodiseras till olika bokfîringsperioder nÑr dokumentet bokfîrs.];
                      ApplicationArea=#Suite;
                      Enabled="Deferral Code" <> '';
                      Image=PaymentPeriod;
                      OnAction=BEGIN
                                 ShowDeferralSchedule;
                               END;
                                }
      { 41      ;2   ;Action    ;
                      Name=DocAttach;
                      CaptionML=[ENU=Attachments;
                                 NOR=Vedlegg;
                                 SVE=Bilagor];
                      ToolTipML=[ENU=Add a file as an attachment. You can attach images as well as documents.;
                                 NOR=Legg til en fil som vedlegg. Du kan legge ved bilderˇog dokumenter.;
                                 SVE=LÑgg till en fil som en bilaga. Du kan bifoga bilder och dokument.];
                      ApplicationArea=#All;
                      Image=Attach;
                      OnAction=VAR
                                 DocumentAttachmentDetails@1000 : Page 1173;
                                 RecRef@1001 : RecordRef;
                               BEGIN
                                 RecRef.GETTABLE(Rec);
                                 DocumentAttachmentDetails.OpenForRecRef(RecRef);
                                 DocumentAttachmentDetails.RUNMODAL;
                               END;
                                }
      { 1905243004;2 ;Action    ;
                      ShortCutKey=Shift+Ctrl+N;
                      CaptionML=[ENU=Rental Rate External Rented Plant;
                                 SVE=Extern uthyrningsavgift fîr uthyrd Maskin];
                      Image=Payment;
                      OnAction=BEGIN
                                 //**4PS   C-013114: Nu onder knop 'Regel', was eerst een verborgen knop (functioneel ongewijzigd).
                                 //This functionality was copied from page #50. Unsupported part was commented. Please check it.
                                 {CurrPage.PurchLines.PAGE.}
                                 ShowPurchOrderPlantRentalRate();
                               END;
                                }
      { 1210190003;2 ;Action    ;
                      CaptionML=[ENU=Purchase Line D&etails;
                                 SVE=Inkîpsradsd&etaljer];
                      Image=ViewCheck;
                      OnAction=BEGIN
                                 //**4PS.n  //kzwerver, 110606, n, #27784
                                 EditLineDetails;
                               END;
                                }
      { 1904103004;2 ;Action    ;
                      CaptionML=[ENU=Purchase Route References;
                                 SVE=Referenser fîr inkîpsfîljd];
                      Image=ContactReference;
                      OnAction=BEGIN
                                 //**4PS
                                 //This functionality was copied from page #50. Unsupported part was commented. Please check it.
                                 {CurrPage.PurchLines.PAGE.}
                                 ShowPurchRouteRef;
                               END;
                                }
      { 1100409003;2 ;Action    ;
                      CaptionML=[ENU=Guarantee;
                                 SVE=Garanti];
                      RunObject=Page 11229266;
                      RunPageLink=Purchase Order=FIELD(Document No.),
                                  Purchase Line=FIELD(Line No.);
                      Image=Splitlines }
      { 1100528200;2 ;Action    ;
                      CaptionML=ENU=SC Applications;
                      RunObject=Page 11126620;
                      RunPageLink=Purchase Order=FIELD(Document No.),
                                  Purchase Line=FIELD(Line No.);
                      Enabled=SCClaimsEnabled;
                      Image=Splitlines }
      { 1100528201;2 ;Action    ;
                      CaptionML=ENU=Purchase Inspections;
                      RunObject=Page 11126650;
                      RunPageLink=Document Type=CONST(Order),
                                  Document No.=FIELD(Document No.),
                                  Document Line No.=FIELD(Line No.);
                      Image=CheckList }
      { 1905888504;2 ;Action    ;
                      CaptionML=[ENU=Text Block;
                                 SVE=Textblock];
                      Image=Text;
                      OnAction=BEGIN
                                 //**4PS
                                 //This functionality was copied from page #50. Unsupported part was commented. Please check it.
                                 {CurrPage.PurchLines.PAGE.}
                                 EditText;
                               END;
                                }
      { 1210190006;2 ;ActionGroup;
                      CaptionML=[ENU=GS1 Loggings;
                                 SVE=GS1-loggningar];
                      Image=Journals }
      { 1210190008;3 ;Action    ;
                      CaptionML=[ENU=GS1 Errors;
                                 SVE=GS1-fel];
                      Image=ErrorFALedgerEntries;
                      OnAction=BEGIN
                                 //**4PS
                                 GS1ErrorLogDrillDown;
                               END;
                                }
      { 1210190010;3 ;Action    ;
                      CaptionML=[ENU=GS1 Changes;
                                 SVE=GS1-Ñndringar];
                      Image=ChangeStatus;
                      OnAction=BEGIN
                                 //**4PS
                                 GS1PurchaseOrderLogDrillDown;
                               END;
                                }
      { 1906587504;1 ;ActionGroup;
                      CaptionML=[ENU=F&unctions;
                                 NOR=F&unksjoner;
                                 SVE=Fu&nktion];
                      Image=Action }
      { 1210190012;2 ;Action    ;
                      CaptionML=[ENU=Divide Agreed Amount;
                                 SVE=Dela avtalat belopp];
                      Image=AmountByPeriod;
                      OnAction=BEGIN
                                 //**4PS
                                 DivideAgreedAmount;
                               END;
                                }
      { 1210190030;2 ;Action    ;
                      CaptionML=[ENU=Calculate &Invoice Discount/Charge;
                                 SVE=BerÑkna &fakturarabatt];
                      Image=CalculateBalanceAccount;
                      OnAction=VAR
                                 PurchaseHeader@1210190001 : Record 38;
                                 lvPresentBeforeRun@1210190000 : Boolean;
                               BEGIN
                                 //**4PS.sn
                                 PurchaseHeader.GET("Document Type", "Document No.");
                                 IF (PurchaseHeader."Purchase Order Type" = PurchaseHeader."Purchase Order Type"::"Return Order") AND
                                    (PurchaseHeader."Vendor Posting Group" <> '')
                                 THEN
                                   lvPresentBeforeRun := CheckAdminCostLinePresent(FALSE);
                                 //**4PS.en

                                 ApproveCalcInvDisc;

                                 //**4PS.sn
                                 IF (PurchaseHeader."Purchase Order Type" = PurchaseHeader."Purchase Order Type"::"Return Order") AND
                                    (PurchaseHeader."Vendor Posting Group" <> '')
                                 THEN BEGIN
                                   IF NOT lvPresentBeforeRun THEN
                                     CheckAdminCostLinePresent(TRUE);
                                 END;
                                 //**4PS.en
                               END;
                                }
      { 1100528400;2 ;Action    ;
                      CaptionML=ENU=Update prices of selected lines;
                      Image=UpdateUnitCost;
                      OnAction=VAR
                                 PurchaseLine@1100528400 : Record 39;
                               BEGIN
                                 //**4PS
                                 CurrPage.SETSELECTIONFILTER(PurchaseLine);
                                 PurchaseLine.UpdatePriceOfLines;
                               END;
                                }
      { 1210190032;2 ;Action    ;
                      CaptionML=[ENU=&Rejection Registration;
                                 SVE=&Avslagsregistrering];
                      Image=MaintenanceRegistrations;
                      OnAction=VAR
                                 PurchaseHeader@1210190000 : Record 38;
                               BEGIN
                                 //**4PS
                                 PurchaseHeader.GET("Document Type", "Document No.");
                                 IF PurchaseHeader."Purchase Order Type" <> PurchaseHeader."Purchase Order Type"::"Return Order" THEN
                                   RejectRegistration
                                 ELSE
                                   ERROR(Text11012008); //**4PS.n
                               END;
                                }
      { 1901312904;2 ;Action    ;
                      AccessByPermission=TableData 90=R;
                      CaptionML=[ENU=E&xplode BOM;
                                 NOR=U&tfold stykkliste;
                                 SVE=E&xpandera struktur];
                      ToolTipML=[ENU=Insert new lines for the components on the bill of materials, for example to sell the parent item as a kit. CAUTION: The line for the parent item will be deleted and represented by a description only. To undo, you must delete the component lines and add a line the parent item again.;
                                 NOR=Sett inn nye linjer for komponentene pÜ stykklisten, for eksempel for Ü selge den overordnede varen som en pakke. OBS! Linjen for den overordnede varen blir slettet og representert av bare en beskrivelse. Hvis du vil angre, mÜ du slette komponentlinjene og legge til en linje for den overordnede varen pÜ nytt.;
                                 SVE=Infoga nya rader fîr strukturens komponenter, till exempel att sÑlja den îverordnade artikeln som ett paket. VARNING! Den îverordnade artikelns rad raderas representeras av en beskrivning. èngra genom att radera komponentraderna och pÜ nytt lÑgga till en rad fîr den îverordnade artikeln.];
                      ApplicationArea=#Suite;
                      Image=ExplodeBOM;
                      OnAction=BEGIN
                                 ExplodeBOM;
                               END;
                                }
      { 1901313304;2 ;Action    ;
                      Name=Insert Ext. Texts;
                      AccessByPermission=TableData 279=R;
                      CaptionML=[ENU=Insert &Ext. Texts;
                                 NOR=Sett inn &utv. tekster;
                                 SVE=Infoga e&xtratexter];
                      ToolTipML=[ENU=Insert the extended item description that is set up for the item that is being processed on the line.;
                                 NOR=Sett inn den utvidede varebeskrivelsen som er definert for varen som blir behandlet pÜ linjen.;
                                 SVE=Infoga den utîkade artikelbeskrivningen som du anger fîr den artikel som behandlas pÜ raden.];
                      ApplicationArea=#Suite;
                      Image=Text;
                      OnAction=BEGIN
                                 InsertExtendedText(TRUE);
                               END;
                                }
      { 1100525003;2 ;Action    ;
                      CaptionML=[ENU=Create Installments;
                                 SVE=Skapa avbetalningar];
                      Image=AmountByPeriod;
                      OnAction=BEGIN
                                 CreateInstallmentLines;
                               END;
                                }
      { 1906391504;2 ;Action    ;
                      Name=Reserve;
                      Ellipsis=Yes;
                      CaptionML=[ENU=&Reserve;
                                 NOR=Re&server;
                                 SVE=&Reservera];
                      ToolTipML=[ENU=Reserve the quantity that is required on the document line that you opened this window for.;
                                 NOR=Reserver mengden som kreves pÜ dokumentlinjen som du Üpnet dette vinduet for.;
                                 SVE=Reservera antalet som krÑvs pÜ dokumentraden som du har îppnat detta fînster fîr.];
                      ApplicationArea=#Reservation;
                      Image=Reserve;
                      OnAction=BEGIN
                                 FIND;
                                 ShowReservation;
                               END;
                                }
      { 1903502504;2 ;Action    ;
                      Name=OrderTracking;
                      CaptionML=[ENU=Order &Tracking;
                                 NOR=&Ordresporing;
                                 SVE=Order&spÜrning];
                      ToolTipML=[ENU=Tracks the connection of a supply to its corresponding demand. This can help you find the original demand that created a specific production order or purchase order.;
                                 NOR=Sporer forbindelsen mellom en forsyning og tilhõrende behov. Dette bidrar til Ü finne det opprinnelige behovet som opprettet en bestemt produksjonsordre eller bestilling.;
                                 SVE=SpÜrar anslutningen fîr en tillgÜng till dess motsvarande efterfrÜgan. Det hÑr hjÑlper dig att hitta den ursprungliga tillgÜngen som skapade en viss produktionsorder eller inkîpsorder.];
                      ApplicationArea=#Suite;
                      Image=OrderTracking;
                      OnAction=BEGIN
                                 ShowTracking;
                               END;
                                }
      { 1904848904;2 ;Action    ;
                      ShortCutKey=Ctrl+F11;
                      CaptionML=[ENU=Receive Collectively;
                                 SVE=Ta emot kollektivt];
                      Image=Approval;
                      OnAction=BEGIN
                                 //**4PS
                                 //This functionality was copied from page #50. Unsupported part was commented. Please check it.
                                 {CurrPage.PurchLines.PAGE.}
                                 ReceiveCollective;
                               END;
                                }
      { 1100525009;2 ;Action    ;
                      CaptionML=ENU=Select Material Inventory;
                      Image=Delegate;
                      OnAction=BEGIN
                                 //**4PS
                                 SelectMaterialInventory;
                               END;
                                }
      { 12013594;2   ;Separator  }
      { 12013595;2   ;Action    ;
                      Name=<Action1100285001>;
                      ShortCutKey=Ctrl+Alt+A;
                      CaptionML=[ENU=Approval;
                                 SVE=GodkÑnnande];
                      Image=Approvals;
                      OnAction=BEGIN
                                 // ExFlow
                                 ExFlow.Approve(Rec);
                               END;
                                }
      { 1210190022;2 ;ActionGroup;
                      CaptionML=[ENU=Budget Lines;
                                 SVE=Budgetrader];
                      Image=Journals }
      { 1210190024;3 ;Action    ;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Copy Budget Lines (by Purchase Action);
                                 SVE=Kopiera budgetrader (efter inkîpsÜtgÑrd)];
                      Image=Copy;
                      OnAction=BEGIN
                                 //**4PS
                                 IF ("Document No." <> '') THEN
                                   CopyBudgetLines;
                               END;
                                }
      { 1210190026;3 ;Action    ;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Copy Budget Lines;
                                 SVE=Kopiera budgetrader];
                      Image=Copy;
                      OnAction=VAR
                                 PurchaseHeader@1210190000 : Record 38;
                               BEGIN
                                 //**4PS
                                 IF ("Document No." <> '') THEN BEGIN
                                   PurchaseHeader.GET("Document Type", "Document No.");
                                   SelectBudgetLines(PurchaseHeader);
                                 END;
                               END;
                                }
      { 1905926804;1 ;ActionGroup;
                      CaptionML=[ENU=O&rder;
                                 NOR=&Ordre;
                                 SVE=O&rder];
                      Image=Order }
      { 1903621804;2 ;ActionGroup;
                      CaptionML=[ENU=Dr&op Shipment;
                                 NOR=Dire&kte levering;
                                 SVE=D&irektutleverans];
                      Image=Delivery }
      { 1903563204;3 ;Action    ;
                      AccessByPermission=TableData 110=R;
                      CaptionML=[ENU=Sales &Order;
                                 NOR=&Ordre;
                                 SVE=&FîrsÑljningsorder];
                      ToolTipML=[ENU=Create a new sales order for an item that is shipped directly from the vendor to the customer. The Drop Shipment check box must be selected on the sales order line, and the Vendor No. field must be filled on the item card.;
                                 NOR=Opprett en ny ordre for en vare som er levert direkte fra leverandõren til kunden. Det mÜ merkes av i avmerkingsboksen Direkte levering pÜ ordrelinjen, og feltet Leverandõrnr. mÜ fylles ut pÜ varekortet.;
                                 SVE=Skapa en ny fîrsÑljningsorder fîr en artikel som levererades direkt frÜn leverantîren till kunden. Kryssrutan Direktutleverans mÜste markeras pÜ fîrsÑljningsorderraden och fÑltet Leverantîrsnr mÜste fyllas i pÜ artikelkortet.];
                      ApplicationArea=#Suite;
                      Image=Document;
                      OnAction=BEGIN
                                 OpenSalesOrderForm;
                               END;
                                }
      { 1903169104;2 ;ActionGroup;
                      CaptionML=[ENU=Speci&al Order;
                                 NOR=Spesi&albestilling;
                                 SVE=Special&order];
                      Image=SpecialOrder }
      { 1901038504;3 ;Action    ;
                      AccessByPermission=TableData 110=R;
                      CaptionML=[ENU=Sales &Order;
                                 NOR=&Ordre;
                                 SVE=&FîrsÑljningsorder];
                      ToolTipML=[ENU=Create a new sales order for an item that is shipped directly from the vendor to the customer. The Drop Shipment check box must be selected on the sales order line, and the Vendor No. field must be filled on the item card.;
                                 NOR=Opprett en ny ordre for en vare som er levert direkte fra leverandõren til kunden. Det mÜ merkes av i avmerkingsboksen Direkte levering pÜ ordrelinjen, og feltet Leverandõrnr. mÜ fylles ut pÜ varekortet.;
                                 SVE=Skapa en ny fîrsÑljningsorder fîr en artikel som levererades direkt frÜn leverantîren till kunden. Kryssrutan Direktutleverans mÜste markeras pÜ fîrsÑljningsorderraden och fÑltet Leverantîrsnr mÜste fyllas i pÜ artikelkortet.];
                      ApplicationArea=#Suite;
                      Image=Document;
                      OnAction=BEGIN
                                 OpenSpecOrderSalesOrderForm;
                               END;
                                }
      { 29      ;2   ;Action    ;
                      Name=BlanketOrder;
                      CaptionML=[ENU=Blanket Order;
                                 NOR=Rammebestilling;
                                 SVE=Avropsorder];
                      ToolTipML=[ENU=View the blanket purchase order.;
                                 NOR=Vis rammebestillingen.;
                                 SVE=Visa avropsordern fîr inkîp.];
                      ApplicationArea=#Suite;
                      Image=BlanketOrder;
                      OnAction=VAR
                                 PurchaseHeader@1000 : Record 38;
                                 BlanketPurchaseOrder@1001 : Page 509;
                               BEGIN
                                 TESTFIELD("Blanket Order No.");
                                 PurchaseHeader.SETRANGE("No.","Blanket Order No.");
                                 IF NOT PurchaseHeader.ISEMPTY THEN BEGIN
                                   BlanketPurchaseOrder.SETTABLEVIEW(PurchaseHeader);
                                   BlanketPurchaseOrder.EDITABLE := FALSE;
                                   BlanketPurchaseOrder.RUN;
                                 END;
                               END;
                                }
      { 1210190034;1 ;Action    ;
                      CaptionML=[ENU=Hyperlink;
                                 SVE=HyperlÑnk];
                      ToolTipML=[ENU=Hyperlink;
                                 SVE=HyperlÑnk];
                      Image=Link;
                      OnAction=BEGIN
                                 //**4PS
                                 VendorItemHyperlink;
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                GroupType=Repeater }

    { 1100528800;2;Field  ;
                AssistEdit=Yes;
                SourceExpr="Line Type";
                Visible=FALSE;
                OnValidate=BEGIN
                             //**4PS
                             StartFastDataEntryForm;
                           END;

                OnAssistEdit=BEGIN
                               //**4PS
                               StartFastDataEntryForm;
                             END;
                              }

    { 126 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the related job. If you fill in this field and the Job Task No. field, then a job ledger entry will be posted together with the purchase line.;
                           NOR=Angir nummeret for det relaterte prosjektet. Hvis du fyller ut dette feltet og feltet Prosjektoppgavenr, bokfõres det deretter en prosjektpost sammen med kjõpslinjen.;
                           SVE=Anger det relaterade projektnumret. Om du fyller i det hÑr fÑltet och fÑltet Projektaktivitetsnr bokfîrs en projekttransaktion tillsammans med inkîpsraden.];
                ApplicationArea=#Jobs;
                SourceExpr="Job No.";
                OnValidate=BEGIN
                             //**4PS
                             // Entity No. might be changed in OnValidate of Job No.
                             PurchaseLineExtension.GetPurchLineExtension("Document Type", "Document No.", "Line No.");
                             SetEditable;
                             ShowShortcutDimCode(ShortcutDimCode);
                           END;

                OnLookup=BEGIN
                           OnLookupJobNo(TRUE);
                           SetEditable;
                         END;
                          }

    { 1101200002;2;Field  ;
                SourceExpr=Element;
                Visible=FALSE }

    { 1100529600;2;Field  ;
                Name=ElementDescription;
                CaptionML=[ENU=Element Description;
                           SVE=Elementbeskrivning];
                SourceExpr=ElementDescription;
                Visible=FALSE;
                Editable=FALSE;
                OnLookup=BEGIN
                           OnLookupElement(FALSE);//**4PS
                         END;
                          }

    { 1101200000;2;Field  ;
                SourceExpr="Extension Contract";
                Visible=FALSE }

    { 1100485018;2;Field  ;
                SourceExpr="Plot No.";
                Visible=FALSE }

    { 1100485008;2;Field  ;
                SourceExpr="Budget Adjustment";
                Visible=FALSE }

    { 1100525032;2;Field  ;
                SourceExpr="Tender Paragraph";
                Visible=FALSE }

    { 1100525034;2;Field  ;
                SourceExpr="Description Tender Paragraph";
                Visible=FALSE }

    { 1100525036;2;Field  ;
                SourceExpr="Tender Paragraph Text";
                Visible=FALSE }

    { 1100525038;2;Field  ;
                SourceExpr="Tender Paragraph Part";
                Visible=FALSE }

    { 1100525040;2;Field  ;
                SourceExpr="Descr Tender Paragraph Part";
                Visible=FALSE }

    { 1210190015;2;Field  ;
                SourceExpr="Service Order No.";
                OnValidate=BEGIN
                             ShowShortcutDimCode(ShortcutDimCode);
                             NoOnAfterValidate;
                             SetEditable; //**4PS.n
                           END;

                OnLookup=BEGIN
                           OnLookupServiceOrderNo(TRUE);
                           SetEditable;
                         END;
                          }

    { 1210190023;2;Field  ;
                SourceExpr="Service Contract No.";
                Visible=FALSE }

    { 1210190017;2;Field  ;
                SourceExpr="Service Location No.";
                Visible=FALSE }

    { 1100485030;2;Field  ;
                SourceExpr="Service Control Year";
                Visible=FALSE }

    { 1100485006;2;Field  ;
                SourceExpr="Additional Cost (Service)";
                Visible=FALSE;
                Editable=AdditionalCostServiceEditable }

    { 1100528500;2;Field  ;
                CaptionML=[ENU=Service Warranty Code;
                           SVE=Servicegarantikod];
                SourceExpr=PurchaseLineExtension."Service Warranty Code";
                TableRelation="Service Warranty";
                Visible=FALSE;
                OnValidate=BEGIN
                             //**4PS DP00121
                             ValidateAndSaveServiceWarrantyCode(PurchaseLineExtension);
                           END;
                            }

    { 1100485002;2;Field  ;
                SourceExpr="Rental Unit";
                Visible=FALSE }

    { 1101200004;2;Field  ;
                SourceExpr="Cost Type";
                Editable=CostTypeEditable;
                OnValidate=BEGIN
                             SetEditable;
                           END;
                            }

    { 1101200006;2;Field  ;
                SourceExpr="Item No.";
                Editable=ItemEditable;
                OnValidate=BEGIN
                             ItemOnAfterValidate;
                           END;

                OnLookup=BEGIN
                           //**4PS
                           IF HandleLookupItem(FIELDNO("Item No.")) THEN
                             CurrPage.UPDATE(TRUE)
                           ELSE
                             IF "Item No." <> xRec."Item No." THEN
                               InsertExtendedText(FALSE);
                           ItemOnAfterValidate;
                         END;

                OnAssistEdit=BEGIN
                               //**4PS
                               IF AssistEditItem THEN BEGIN
                                 InsertExtendedText(FALSE);
                                 CurrPage.UPDATE(TRUE);
                               END;
                             END;
                              }

    { 1210190051;2;Field  ;
                SourceExpr="Item Category Code";
                Visible=FALSE }

    { 32  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the variant of the item on the line.;
                           NOR=Angir varianten for varen pÜ linjen.;
                           SVE=Anger varianten av artikeln pÜ raden.];
                ApplicationArea=#Planning;
                SourceExpr="Variant Code";
                Visible=FALSE;
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                           END;
                            }

    { 1101200008;2;Field  ;
                SourceExpr=Manufacturer;
                Visible=FALSE;
                Enabled=TradeItemEnabled;
                Editable=ItemEditable }

    { 1101200010;2;Field  ;
                SourceExpr="Basic Item";
                Visible=FALSE;
                Enabled=TradeItemEnabled;
                Editable=ItemEditable;
                OnValidate=BEGIN
                             ItemOnAfterValidate;
                           END;

                OnLookup=BEGIN
                           //**4PS
                           IF HandleLookupItem(FIELDNO("Basic Item")) THEN
                             CurrPage.UPDATE(TRUE)
                           ELSE
                             IF "Basic Item" <> xRec."Basic Item" THEN
                               InsertExtendedText(FALSE);
                         END;
                          }

    { 1101200012;2;Field  ;
                SourceExpr="Vendor (Trade Item)";
                Enabled=TradeItemEnabled;
                Editable=ItemEditable }

    { 1101200014;2;Field  ;
                SourceExpr="Trade Item";
                Enabled=TradeItemEnabled;
                Editable=ItemEditable;
                OnValidate=BEGIN
                             ItemOnAfterValidate;
                           END;

                OnLookup=BEGIN
                           //**4PS
                           IF HandleLookupItem(FIELDNO("Trade Item")) THEN
                             CurrPage.UPDATE(TRUE)
                           ELSE
                             IF "Trade Item" <> xRec."Trade Item" THEN
                               InsertExtendedText(FALSE);
                           ItemOnAfterValidate;
                         END;

                OnAssistEdit=BEGIN
                               IF (HandleAssistEditItem(FIELDNO("Trade Item"))) THEN
                                 CurrPage.UPDATE(TRUE);
                             END;
                              }

    { 1100485012;2;Field  ;
                SourceExpr="Item Brand";
                Visible=FALSE }

    { 1100485014;2;Field  ;
                SourceExpr="Item Type";
                Visible=FALSE }

    { 1100485016;2;Field  ;
                SourceExpr="Item Series";
                Visible=FALSE }

    { 1100529100;2;Field  ;
                SourceExpr="Buy-from Vendor No.";
                Visible=FALSE }

    { 1100485020;2;Field  ;
                SourceExpr="Vendor Item No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1100525000;2;Field  ;
                SourceExpr="Tariff No.";
                Visible=FALSE;
                Editable=TariffNoEditable }

    { 1100525002;2;Field  ;
                SourceExpr="Net Weight";
                Visible=FALSE;
                Editable=NetWeightEditable }

    { 1210190027;2;Field  ;
                SourceExpr="Plant Type";
                Visible=FALSE;
                Editable=PlantTypeEditable;
                OnValidate=BEGIN
                             SetEditable;
                             CurrPage.UPDATE;
                           END;

                OnLookup=BEGIN
                           OnLookupPlantType(PlantTypeEditable);
                           SetEditable;
                         END;
                          }

    { 1100485000;2;Field  ;
                SourceExpr="Vendor Plant No.";
                Visible=FALSE;
                Editable=PlantTypeEditable;
                OnValidate=BEGIN
                             CurrPage.UPDATE;
                           END;
                            }

    { 1210190029;2;Field  ;
                SourceExpr="Plant No.";
                Visible=FALSE;
                Editable=PlantNoEditable;
                OnValidate=BEGIN
                             CurrPage.UPDATE;
                           END;
                            }

    { 1210190031;2;Field  ;
                SourceExpr="Cost Component Plant";
                Visible=FALSE;
                Editable=PlantNoEditable;
                OnValidate=BEGIN
                             IF "Cost Component Plant" <> xRec."Cost Component Plant" THEN
                               FillShipToLocWithPlantDepot();
                             CurrPage.UPDATE;
                           END;
                            }

    { 1100409000;2;Field  ;
                SourceExpr="Plant Location";
                Visible=FALSE }

    { 1100485911;2;Field  ;
                SourceExpr="Plant Transport Order No.";
                Visible=FALSE }

    { 1100485902;2;Field  ;
                SourceExpr="Plant Order No.";
                Visible=FALSE }

    { 1100485904;2;Field  ;
                Lookup=No;
                SourceExpr="Plant Order Line No.";
                Visible=FALSE }

    { 1100525005;2;Field  ;
                CaptionML=[ENU=Plant Inspection No.;
                           SVE=Maskininspektionsnr];
                SourceExpr=GetPlantInspectionNo;
                Visible=FALSE;
                Editable=false }

    { 1100485028;2;Field  ;
                SourceExpr="Expected Enddate Rent";
                Visible=FALSE }

    { 1100485906;2;Field  ;
                SourceExpr="Direct Delivery Plant";
                Visible=FALSE }

    { 1100529001;2;Field  ;
                SourceExpr="Subcontracting Activity";
                Visible=FALSE }

    { 1100525001;2;Field  ;
                SourceExpr="No Project Stock";
                Visible=FALSE;
                Editable=NoProjectStockEditable }

    { 78  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for Shortcut Dimension 1, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                           NOR=Angir koden til Snarveisdimensjon 1, som er Çn av to globale dimensjonskoder som du har definert i vinduet Finansoppsett.;
                           SVE=Anger koden fîr GenvÑg dimension 1, som Ñr en av tvÜ globala dimensionskoder som du stÑller in i fînstret RedovisningsinstÑllningar.];
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 1 Code";
                Visible=DimVisible1;
                OnValidate=BEGIN
                             //**4PS Generated Code. Do Not Change.sn03
                             DPA_ChkDepartmentCodeAllowed(DPA_IsHardFilter);
                             //**4PS Generated Code.en03
                           END;
                            }

    { 76  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for Shortcut Dimension 2, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                           NOR=Angir koden til Snarveisdimensjon 2, som er Çn av to globale dimensjonskoder som du har definert i vinduet Finansoppsett.;
                           SVE=Anger koden fîr GenvÑg dimension 2, som Ñr en av tvÜ globala dimensionskoder som du stÑller in i fînstret RedovisningsinstÑllningar.];
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 2 Code";
                Visible=DimVisible2;
                LookupPageID=Cost Object List;
                OnValidate=BEGIN
                             SetEditable;
                           END;
                            }

    { 1100485010;2;Field  ;
                SourceExpr="Cost Component";
                Visible=FALSE;
                Editable=CostComponentEditable }

    { 1100529000;2;Field  ;
                SourceExpr="FSC Type Code";
                Visible=FALSE }

    { 1100528901;2;Field  ;
                SourceExpr="Purchase Requisition No.";
                Visible=FALSE;
                OnDrillDown=VAR
                              PurchaseRequisition@1100527300 : Record 11229330;
                            BEGIN
                              //**4PS.sn
                              IF PurchaseRequisition.GET("Purchase Requisition No.") THEN
                                PAGE.RUN(PAGE::"Purchase Requisition Header", PurchaseRequisition);
                              //**4PS.en
                            END;
                             }

    { 1101200018;2;Field  ;
                SourceExpr="Purchase Action";
                Visible=FALSE;
                OnValidate=BEGIN
                             CurrPage.UPDATE;
                           END;
                            }

    { 1101200020;2;Field  ;
                SourceExpr="Purchase Phase";
                Visible=FALSE }

    { 62  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the cross-referenced item number. If you enter a cross reference between yours and your vendor's or customer's item number, then this number will override the standard item number when you enter the cross-reference number on a sales or purchase document.;
                           NOR=Angir varens kryssreferansenummer. Hvis du oppgir en kryssreferanse mellom ditt og leverandõrens eller kundens varenummer, vil dette nummeret overstyre standardvarenummeret nÜr du oppgir kryssreferansenummeret i et salgs- eller kjõpsdokument.;
                           SVE=Anger artikelnumret som korsrefereras. Om du anger en korsreferens mellan ditt och leverantîrens eller kundens artikelnummer, ÜsidosÑtter detta nummer standardartikelnumret nÑr du anger korsreferensnumret pÜ ett fîrsÑljnings- eller inkîpsdokument.];
                ApplicationArea=#Suite;
                SourceExpr="Cross-Reference No.";
                Visible=FALSE;
                OnValidate=BEGIN
                             CrossReferenceNoOnAfterValidat;
                             NoOnAfterValidate;
                             DeltaUpdateTotals;
                           END;

                OnLookup=BEGIN
                           CrossReferenceNoLookUp;
                           InsertExtendedText(FALSE);
                           NoOnAfterValidate;
                           OnCrossReferenceNoOnLookup(Rec);
                         END;
                          }

    { 1108;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code of the intercompany partner that the transaction is related to if the entry was created from an intercompany transaction.;
                           NOR=Angir koden for den konserninterne partneren som transaksjonen er relatert til hvis posten ble opprettet fra en konsernintern transaksjon.;
                           SVE=Anger koden fîr den koncerninterna partner som transaktionen Ñr relaterad till om transaktionen skapades genom en koncernintern transaktion.];
                ApplicationArea=#Intercompany;
                SourceExpr="IC Partner Code";
                Visible=FALSE }

    { 104 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the item or account in your IC partner's company that corresponds to the item or account on the line.;
                           NOR=Angir varen eller kontoen i KI-partnerselskapet som tilsvarer varen eller kontoen pÜ linjen.;
                           SVE=Anger den artikel eller det konto i den interna partnerns fîretag som motsvarar artikeln eller kontot pÜ raden.];
                ApplicationArea=#Intercompany;
                SourceExpr="IC Partner Ref. Type";
                Visible=FALSE }

    { 106 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the IC partner. If the line is being sent to one of your intercompany partners, this field is used together with the IC Partner Ref. Type field to indicate the item or account in your partner's company that corresponds to the line.;
                           NOR=Angir KI-partneren. Hvis linjen sendes til en av de konserninterne partnerne, brukes dette feltet sammen med feltet Referansetype for KI-partner til Ü angi varen eller kontoen i partnerens firma som tilsvarer linjen.;
                           SVE=Anger den interna partnern. Om raden skickas till en koncernintern partner anvÑnds det hÑr fÑltet tillsammans med fÑltet Ref.typ fîr konc.int. partner fîr att ange den artikel eller det konto i partnerfîretaget som motsvarar raden.];
                ApplicationArea=#Intercompany;
                SourceExpr="IC Partner Reference";
                Visible=FALSE }

    { 82  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that this item is a catalog item.;
                           NOR=Angir at denne varen er en katalogvare.;
                           SVE=Anger att den hÑr artikeln Ñr en katalogartikel.];
                ApplicationArea=#Suite;
                SourceExpr=Nonstock;
                Visible=FALSE }

    { 2   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the line type.;
                           NOR=Angir linjetypen.;
                           SVE=Anger radtypen.];
                ApplicationArea=#Advanced;
                SourceExpr=Type;
                Editable=TypeEditable;
                OnValidate=BEGIN
                             GetVendorPreferenceAccountNo();  //**4PS.n
                             NoOnAfterValidate;

                             UpdateEditableOnRow;
                             UpdateTypeText;
                             DeltaUpdateTotals;
                           END;
                            }

    { 31  ;2   ;Field     ;
                Name=FilteredTypeField;
                CaptionML=[ENU=Type;
                           NOR=Type;
                           SVE=Typ];
                ToolTipML=[ENU="Specifies the type of transaction that will be posted with the document line. If you select Comment, then you can enter any text in the Description field, such as a message to a customer. ";
                           NOR="Angir transaksjonstypen som skal bokfõres med dokumentlinjen. Hvis du velger Merknad, kan du angi tekst i feltet Beskrivelse, for eksempel en melding til en kunde. ";
                           SVE="Anger typen av transaktion som ska bokfîras med dokumentraden. Om du vÑljer Kommentar kan du skriva valfri text i fÑltet Beskrivning, till exempel ett meddelande till en kund. "];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=TypeAsText;
                TableRelation="Option Lookup Buffer"."Option Caption" WHERE (Lookup Type=CONST(Purchases));
                Visible=IsFoundation;
                Editable=CurrPageIsEditable;
                LookupPageID=Option Lookup List;
                OnValidate=BEGIN
                             TempOptionLookupBuffer.SetCurrentType(Type);
                             IF TempOptionLookupBuffer.AutoCompleteOption(TypeAsText,TempOptionLookupBuffer."Lookup Type"::Purchases) THEN
                               VALIDATE(Type,TempOptionLookupBuffer.ID);
                             TempOptionLookupBuffer.ValidateOption(TypeAsText);
                             UpdateEditableOnRow;
                             UpdateTypeText;
                             DeltaUpdateTotals;
                           END;
                            }

    { 4   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of a general ledger account, item, additional cost, or fixed asset, depending on what you selected in the Type field.;
                           NOR=Angir nummeret til en finanskonto, en vare, en tilleggskostnad eller et aktiva, avhengig av hva du valgte i feltet Type.;
                           SVE=Anger numret pÜ ett redovisningskonto, en artikel, en extra kostnad eller en anlÑggningstillgÜng, beroende pÜ vad du har valt i fÑltet Typ.];
                ApplicationArea=#Suite;
                SourceExpr="No.";
                Editable=NoIsEditable;
                OnValidate=BEGIN
                             ShowShortcutDimCode(ShortcutDimCode);
                             NoOnAfterValidate;

                             UpdateTypeText;
                             DeltaUpdateTotals;
                           END;

                OnLookup=BEGIN
                           //**4PS
                           OnLookupFieldNo(NoIsEditable);
                           SetEditable;  //C059221
                           InsertExtendedText(FALSE);
                         END;

                ShowMandatory=NOT IsCommentLine }

    { 6   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a description of the entry of the product to be purchased. To add a non-transactional text line, fill in the Description field only.;
                           NOR=Angir en beskrivelse av posten for produktet som skal kjõpes. Fyll ut bare feltet Beskrivelse hvis du vil legge til en ikke-transaksjonell tekstlinje.;
                           SVE=Anger en beskrivning av transaktionen fîr produkten som ska kîpas in. Om du vill lÑgga till en icke-transaktionell textrad fyller du bara i fÑltet Beskrivning.];
                ApplicationArea=#Suite;
                SourceExpr=Description;
                Editable=StratPurchaseFieldsEditable;
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                             NoOnAfterValidate;
                           END;
                            }

    { 1101200022;2;Field  ;
                SourceExpr="Description 2";
                Visible=FALSE }

    { 1210190025;2;Field  ;
                SourceExpr="Text Block";
                Visible=FALSE }

    { 1210190047;2;Field  ;
                CaptionML=[ENU=Comments;
                           SVE=Kommentarer];
                SourceExpr=LineCommentPresent();
                Visible=FALSE }

    { 1100525008;2;Field  ;
                SourceExpr="Comments for Logistics";
                Visible=FALSE }

    { 1210190033;2;Field  ;
                SourceExpr="Price Agreement";
                Visible=FALSE }

    { 80  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies if your vendor ships the items directly to your customer.;
                           NOR=Angir om leverandõren sender varene direkte til kunden.;
                           SVE=Anger om leverantîren levererar artiklarna direkt till din kund.];
                ApplicationArea=#Suite;
                SourceExpr="Drop Shipment";
                Visible=FALSE }

    { 88  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code explaining why the item was returned.;
                           NOR=Angir koden som forklarer hvorfor varen ble returnert.;
                           SVE=Anger koden som fîrklarar varfîr artikeln returnerades.];
                ApplicationArea=#Suite;
                SourceExpr="Return Reason Code";
                Visible=FALSE }

    { 74  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a code for the location where you want the items to be placed when they are received.;
                           NOR=Angir en kode for lokasjonen der du vil at de bestilte varene skal plasseres.;
                           SVE=Anger en kod fîr lagerstÑllet dÑr du vill att artiklarna placeras nÑr de har levererats.];
                ApplicationArea=#Location;
                SourceExpr="Location Code";
                Enabled=NOT IsBlankNumber;
                Editable=NOT IsBlankNumber;
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                           END;
                            }

    { 102 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the bin where the items are picked or put away.;
                           NOR=Angir hyllen der varene plukkes eller plasseres.;
                           SVE=Anger lagerplatsen dÑr artiklarna plockas eller fîrs in.];
                ApplicationArea=#Warehouse;
                SourceExpr="Bin Code";
                Visible=FALSE }

    { 1100485004;2;Field  ;
                SourceExpr="Shelf No.";
                Visible=FALSE }

    { 8   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of units of the item specified on the line.;
                           NOR=Angir antall enheter av varen som er angitt pÜ linjen.;
                           SVE=Anger antalet artiklar som anges pÜ raden.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr=Quantity;
                Enabled=NOT IsBlankNumber;
                Editable=NOT IsBlankNumber AND QuantityEditable;
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                             CurrPage.UPDATE(FALSE)  //**4PS.n
                           END;

                ShowMandatory=(NOT IsCommentLine) AND ("No." <> '') }

    { 42  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how many item units on this line have been reserved.;
                           NOR=Angir hvor mange vareenheter pÜ denne linjen som er reservert.;
                           SVE=Anger hur mÜnga artikelenheter pÜ raden som har reserverats.];
                ApplicationArea=#Reservation;
                BlankZero=Yes;
                SourceExpr="Reserved Quantity";
                Visible=FALSE;
                Editable=QuantityEditable }

    { 9   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the quantity that remains to complete a job.;
                           NOR=Angir antallet som gjenstÜr for Ü fullfõre en jobb.;
                           SVE=Anger det antal som ÜterstÜr fîr att slutfîra ett projekt.];
                ApplicationArea=#Jobs;
                BlankZero=Yes;
                SourceExpr="Job Remaining Qty.";
                Visible=FALSE }

    { 36  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how each unit of the item or resource is measured, such as in pieces or hours. By default, the value in the Base Unit of Measure field on the item or resource card is inserted.;
                           NOR=Angir hvordan hver enhet av varen eller ressursen mÜles, for eksempel i stykker eller timer. Verdien i feltet Lagerenhet pÜ vare- eller ressurskortet settes inn som standard.;
                           SVE=Anger hur varje enhet av artikeln eller resursen mÑts, till exempel i stycken eller timmar. Som standard infogas vÑrdet i fÑltet Basenhet pÜ artikel- eller resurskortet.];
                ApplicationArea=#Suite;
                SourceExpr="Unit of Measure Code";
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                           END;
                            }

    { 10  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the unit of measure.;
                           NOR=Angir enhet.;
                           SVE=Anger enheten.];
                ApplicationArea=#Suite;
                SourceExpr="Unit of Measure";
                Visible=FALSE }

    { 1100525024;2;Field  ;
                CaptionML=[ENU=Quantity (Base);
                           SVE=Antal (bas)];
                SourceExpr=BaseQuan;
                Visible=FALSE;
                Editable=FALSE }

    { 1100525026;2;Field  ;
                CaptionML=[ENU=Base Unit of Measure;
                           SVE=Basenhet];
                SourceExpr=BaseUnit;
                Visible=FALSE;
                Editable=FALSE }

    { 1210190009;2;Field  ;
                BlankZero=Yes;
                SourceExpr="ICM Quantity";
                Visible=FALSE }

    { 1210190011;2;Field  ;
                SourceExpr="ICM Unit";
                Visible=FALSE }

    { 1210190043;2;Field  ;
                SourceExpr="Extra Receipt Line";
                Visible=FALSE;
                Editable=FALSE }

    { 12  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the cost of one unit of the selected item or resource.;
                           NOR=Angir den kostnaden for Çn enhet av den valgte varen eller ressursen.;
                           SVE=Anger styckkostnaden fîr den valda artikeln eller resursen.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Direct Unit Cost";
                Enabled=NOT IsBlankNumber;
                Editable=NOT IsBlankNumber AND StratPurchaseFieldsEditable;
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                             CurrPage.UPDATE(FALSE);  //**4PS.n
                           END;

                ShowMandatory=(NOT IsCommentLine) AND ("No." <> '') }

    { 28  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the percentage of the item's last purchase cost that includes indirect costs, such as freight that is associated with the purchase of the item.;
                           NOR=Angir prosentandelen av varens siste kjõpskost som inkluderer indirekte kostnader, for eksempel frakt som er knyttet til kjõpet av varen.;
                           SVE=Anger andelen av artikelns senaste inkîpskostnad som inkluderar indirekta kostnader, till exempel frakt som Ñr kopplad till inkîp av artikeln.];
                ApplicationArea=#Suite;
                SourceExpr="Indirect Cost %";
                Visible=FALSE }

    { 68  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the unit cost of the item on the line.;
                           NOR=Angir enhetskosten for varen pÜ linjen.;
                           SVE=Anger styckkostnaden fîr artikeln pÜ raden.];
                ApplicationArea=#Suite;
                SourceExpr="Unit Cost (LCY)";
                Visible=FALSE }

    { 30  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the price, in LCY, for one unit of the item.;
                           NOR=Angir prisen, i NOK, for Çn enhet av varen.;
                           SVE=Anger styckkostnaden i BVA fîr artikeln.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Unit Price (LCY)";
                Visible=FALSE }

    { 16  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the discount percentage that is granted for the item on the line.;
                           NOR=Angir rabattprosenten som blir gitt for varen pÜ linjen.;
                           SVE=Anger rabattprocentsatsen som beviljas fîr artikeln pÜ raden.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Line Discount %";
                Visible=FALSE;
                Enabled=NOT IsBlankNumber;
                Editable=NOT IsBlankNumber AND StratPurchaseFieldsEditable;
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                           END;
                            }

    { 1210190041;2;Field  ;
                SourceExpr="Discount % (Item)";
                Visible=FALSE;
                OnValidate=BEGIN
                             CurrPage.UPDATE;
                           END;
                            }

    { 1100485032;2;Field  ;
                CaptionML=[ENU=Unit Cost per Item Purchase Unit;
                           SVE=Styckkostnad per artikelinkîpsenhet];
                SourceExpr="UnitCost/PurchUnit";
                Visible=FALSE;
                Editable=FALSE }

    { 1210190039;2;Field  ;
                CaptionML=[ENU=Unit Cost per Base Unit;
                           SVE=Styckkostnad per basenhet];
                SourceExpr="UnitCost/BaseUnit";
                Visible=FALSE;
                Editable=FALSE }

    { 1210190037;2;Field  ;
                CaptionML=[ENU=Unit Price per Base Unit;
                           SVE=Enhetspris per basenhet];
                SourceExpr="UnitPrice/BaseUnit";
                Visible=FALSE;
                Editable=FALSE }

    { 44  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the net amount, excluding any invoice discount amount, that must be paid for products on the line.;
                           NOR=Angir nettobelõpet, minus fakturarabattbelõp, som skal betales for produktene pÜ linjen.;
                           SVE=Anger nettobeloppet, exklusive eventuell fakturarabatt, som ska betalas fîr produkterna pÜ raden.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Line Amount";
                Enabled=NOT IsBlankNumber;
                Editable=NOT IsBlankNumber AND StratPurchaseFieldsEditable;
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                           END;
                            }

    { 1100525042;2;Field  ;
                SourceExpr="Currency Code";
                Visible=FALSE;
                Editable=FALSE }

    { 1100525044;2;Field  ;
                SourceExpr="Amount (LCY)";
                Visible=FALSE;
                Editable=FALSE }

    { 60  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the discount amount that is granted for the item on the line.;
                           NOR=Angir rabattbelõpet som blir gitt for varen pÜ linjen.;
                           SVE=Anger rabattbelopp som beviljas fîr artikeln pÜ raden.];
                ApplicationArea=#Suite;
                SourceExpr="Line Discount Amount";
                Visible=FALSE;
                Editable=StratPurchaseFieldsEditable;
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                           END;
                            }

    { 108 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the prepayment percentage to use to calculate the prepayment for purchases.;
                           NOR=Angir forskuddsprosenten du bruker til Ü beregne forskuddet for kjõp.;
                           SVE=Anger fîrskottsprocenten som anvÑnds fîr att berÑkna fîrskottet fîr inkîp.];
                ApplicationArea=#Prepayments;
                SourceExpr="Prepayment %";
                Visible=FALSE }

    { 110 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the prepayment amount of the line in the currency of the purchase document if a prepayment percentage is specified for the purchase line.;
                           NOR=Angir forskuddsbelõpet for linjen i valutaen som gjelder for kjõpsdokumentet hvis det er angitt en forskuddsprosent for kjõpslinjen.;
                           SVE=Anger fîrskottsbetalningsbeloppet pÜ raden i inkîpsdokumentets valuta om en fîrskottsbetalningsandel anges fîr inkîpsraden.];
                ApplicationArea=#Prepayments;
                SourceExpr="Prepmt. Line Amount";
                Visible=FALSE }

    { 112 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the prepayment amount that has already been invoiced to the customer for this purchase line.;
                           NOR=Angir forskuddsbelõpet som allerede er fakturert til kunden for denne kjõpslinjen.;
                           SVE=Anger fîrskottsbetalningen som kunden redan har fakturerats fîr den hÑr inkîpsraden.];
                ApplicationArea=#Prepayments;
                SourceExpr="Prepmt. Amt. Inv.";
                Visible=FALSE }

    { 58  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies if the invoice line is included when the invoice discount is calculated.;
                           NOR=Angir om fakturalinjen er inkludert nÜr fakturarabatten beregnes.;
                           SVE=Anger om fakturaraden ingÜr nÑr fakturarabatten berÑknas.];
                ApplicationArea=#Suite;
                SourceExpr="Allow Invoice Disc.";
                Visible=FALSE;
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                           END;
                            }

    { 26  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the total calculated invoice discount amount for the line.;
                           NOR=Angir det totale beregnede fakturarabattbelõpet for linjen.;
                           SVE=Anger det totala berÑknade fakturarabattbeloppet fîr raden.];
                ApplicationArea=#Suite;
                SourceExpr="Inv. Discount Amount";
                Visible=FALSE;
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                           END;
                            }

    { 39  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the actual invoice discount amount that will be posted for the line on the invoice.;
                           NOR=Angir det faktiske fakturarabattbelõpet som blir bokfõrt for linjen pÜ fakturaen.;
                           SVE=Anger det faktiska fakturarabattbeloppet som ska bokfîras fîr raden pÜ fakturan.];
                ApplicationArea=#Suite;
                SourceExpr="Inv. Disc. Amount to Invoice";
                Visible=FALSE }

    { 1100409002;2;Field  ;
                BlankZero=Yes;
                SourceExpr=Amount;
                Visible=FALSE }

    { 1100409001;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Amount Including VAT";
                Visible=FALSE;
                Editable=AmountIncludingVATEditable;
                OnValidate=BEGIN
                             CurrPage.UPDATE;  //**4PS.n
                           END;
                            }

    { 18  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the quantity of items that remains to be received.;
                           NOR=Angir hvor mange varer som fortsatt ikke er mottatt.;
                           SVE=Anger hur mÜnga artiklar som ÜterstÜr att inleverera.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Qty. to Receive";
                Editable=QuantityEditable;
                OnValidate=BEGIN
                             //**4PS.n
                             CurrPage.UPDATE;
                           END;
                            }

    { 11012000;2;Field    ;
                BlankZero=Yes;
                SourceExpr="Amnt. to Receive";
                Editable=AmountEditable }

    { 1100525028;2;Field  ;
                SourceExpr="Approve Receipt";
                Visible=FALSE }

    { 1100525030;2;Field  ;
                SourceExpr="Comment Receipt";
                Visible=FALSE }

    { 20  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how many units of the item on the line have been posted as received.;
                           NOR=Angir hvor mange enheter av varen pÜ linjen som allerede er bokfõrt som mottatt.;
                           SVE=Anger hur mÜnga enheter av artikeln pÜ raden som redan har bokfîrts som inlevererade.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Quantity Received" }

    { 11012002;2;Field    ;
                BlankZero=Yes;
                SourceExpr="Amnt. Received" }

    { 22  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the quantity that remains to be invoiced. It is calculated as Quantity - Qty. Invoiced.;
                           NOR=Angir antallet som ikke er fakturert ennÜ. Det blir beregnet som Antall - Ant. fakturert.;
                           SVE=Anger det antal som ÜterstÜr att faktureras. Det berÑknas som Antal minus Antal fakturerat.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Qty. to Invoice";
                Visible=FALSE;
                Editable=QtyToInvoiceEditable }

    { 11012004;2;Field    ;
                BlankZero=Yes;
                SourceExpr="Amnt. to Invoice";
                Visible=FALSE;
                Editable=AmntToInvoiceEditable }

    { 24  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how many units of the item on the line have been posted as invoiced.;
                           NOR=Angir hvor mange enheter av varen pÜ linjen som allerede er bokfõrt som fakturert.;
                           SVE=Anger hur mÜnga enheter av artikeln pÜ raden som redan har bokfîrts som fakturerade.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Quantity Invoiced";
                Visible=FALSE }

    { 11012006;2;Field    ;
                BlankZero=Yes;
                SourceExpr="Amnt. Invoiced";
                Visible=FALSE }

    { 114 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the prepayment amount that has already been deducted from ordinary invoices posted for this purchase order line.;
                           NOR=Angir forskuddsbelõpet som allerede er trukket fra ordinëre fakturaer som er bokfõrt for denne bestillingslinjen.;
                           SVE=Anger fîrskottsbetalningsbeloppet som redan har dragits av frÜn de ordinarie fakturor som bokfîrts fîr den hÑr inkîpsorderraden.];
                ApplicationArea=#Prepayments;
                SourceExpr="Prepmt Amt to Deduct";
                Visible=FALSE }

    { 116 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the prepayment amount that has already been deducted from ordinary invoices posted for this purchase order line.;
                           NOR=Angir forskuddsbelõpet som allerede er trukket fra ordinëre fakturaer som er bokfõrt for denne bestillingslinjen.;
                           SVE=Anger fîrskottsbetalningsbeloppet som redan har dragits av frÜn de ordinarie fakturor som bokfîrts fîr den hÑr inkîpsorderraden.];
                ApplicationArea=#Prepayments;
                SourceExpr="Prepmt Amt Deducted";
                Visible=FALSE }

    { 56  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that you can assign item charges to this line.;
                           NOR=Angir at du kan tilordne varegebyr til denne linjen.;
                           SVE=Anger att du kan tilldela raden artikelomkostnader.];
                ApplicationArea=#ItemCharges;
                SourceExpr="Allow Item Charge Assignment";
                Visible=FALSE }

    { 66  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how many units of the item charge will be assigned to the line.;
                           NOR=Angir hvor mange enheter av varegebyret som skal tilordnes linjen.;
                           SVE=Anger hur mÜnga enheter av artikelomkostnaden som kommer att tilldelas raden.];
                ApplicationArea=#ItemCharges;
                SourceExpr="Qty. to Assign";
                Visible=FALSE;
                StyleExpr=ItemChargeStyleExpression;
                OnDrillDown=BEGIN
                              CurrPage.SAVERECORD;
                              ShowItemChargeAssgnt;
                              UpdateForm(FALSE);
                            END;
                             }

    { 54  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how much of the item charge that has been assigned.;
                           NOR=Angir hvor mye av varegebyret som er tilordnet.;
                           SVE=Anger hur mycket av artikelomkostnaden som har tilldelats.];
                ApplicationArea=#ItemCharges;
                BlankZero=Yes;
                SourceExpr="Qty. Assigned";
                Visible=FALSE;
                OnDrillDown=BEGIN
                              CurrPage.SAVERECORD;
                              ShowItemChargeAssgnt;
                              UpdateForm(FALSE);
                            END;
                             }

    { 130 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of planning line that was created when the job ledger entry is posted from the purchase line. If the field is empty, no planning lines were created for this entry.;
                           NOR=Angir typen planleggingslinje som ble opprettet da prosjektposten ble bokfõrt fra kjõpslinjen. Hvis feltet er tomt, ble ingen planleggingslinjer opprettet for denne posten.;
                           SVE=Anger typen av planeringsrad som har skapats nÑr projekttransaktionen bokfîrs frÜn inkîpsraden. Om fÑltet Ñr tomt skapas inga planeringsrader fîr den hÑr transaktionen.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Type";
                Visible=FALSE }

    { 128 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the related job task.;
                           NOR=Angir nummeret for den relaterte prosjektoppgaven.;
                           SVE=Anger den relaterade projektaktivitetens nummer.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Task No.";
                Visible=FALSE }

    { 7   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the job planning line number to which the usage should be linked when the Job Journal is posted. You can only link to Job Planning Lines that have the Apply Usage Link option enabled.;
                           NOR=Angir nummeret for prosjektplanleggingslinjen som bruk skal tilknyttes nÜr prosjektkladden bokfõres. Du kan bare tilknytte prosjektplanleggingslinjer som alternativet Bruk brukskobling er aktivert for.;
                           SVE=Anger projektplaneringens radnummer som fîrbrukningen ska kopplas till nÑr projektjournalen bokfîrs. Du kan bara koppla till projektplaneringsrader som alternativet AnvÑnd fîrbrukningslÑnk Ñr aktiverat fîr.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Planning Line No.";
                Visible=FALSE }

    { 132 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the sales price per unit that applies to the item or general ledger expense that will be posted.;
                           NOR=Angir salgsprisen per enhet som gjelder varen eller salgsutgiften som skal bokfõres.;
                           SVE=Anger fîrsÑljningsstyckpriset som gÑller artikel- eller redovisningskostnaden som bokfîrs.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Unit Price";
                Visible=FALSE }

    { 134 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the line amount of the job ledger entry that is related to the purchase line.;
                           NOR=Angir linjebelõpet for prosjektposten som er relatert til kjõpslinjen.;
                           SVE=Anger radbeloppet fîr projekttransaktionen som Ñr relaterad till inkîpsraden.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Amount";
                Visible=FALSE }

    { 136 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the line discount amount of the job ledger entry that is related to the purchase line.;
                           NOR=Angir linjerabattbelõpet for prosjektposten som er relatert til kjõpslinjen.;
                           SVE=Anger radrabatten fîr projekttransaktionen som Ñr relaterad till inkîpsraden.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Discount Amount";
                Visible=FALSE }

    { 138 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the line discount percentage of the job ledger entry that is related to the purchase line.;
                           NOR=Angir linjerabattprosenten for prosjektposten som er relatert til kjõpslinjen.;
                           SVE=Anger radrabattens procentsats fîr projekttransaktionen som Ñr relaterad till inkîpsraden.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Discount %";
                Visible=FALSE }

    { 140 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the gross amount of the line that the purchase line applies to.;
                           NOR=Angir bruttobelõpet for linjen som bestillingslinjen gjelder.;
                           SVE=Anger bruttobeloppet fîr raden som inkîpsraden gÑller.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Total Price";
                Visible=FALSE }

    { 142 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the sales price per unit that applies to the item or general ledger expense that will be posted.;
                           NOR=Angir salgsprisen per enhet som gjelder varen eller salgsutgiften som skal bokfõres.;
                           SVE=Anger det fîrsÑljningsstyckpris som gÑller den artikel- eller redovisningskostnad som bokfîrs.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Unit Price (LCY)";
                Visible=FALSE }

    { 144 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the gross amount of the line, in the local currency.;
                           NOR=Angir bruttobelõpet for linjen, i lokal valuta.;
                           SVE=Anger bruttobeloppet fîr raden i den lokala valutan.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Total Price (LCY)";
                Visible=FALSE }

    { 146 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the line amount of the job ledger entry that is related to the purchase line.;
                           NOR=Angir linjebelõpet for prosjektposten som er relatert til kjõpslinjen.;
                           SVE=Anger radbeloppet fîr projekttransaktionen som Ñr relaterad till inkîpsraden.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Amount (LCY)";
                Visible=FALSE }

    { 148 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the line discount amount of the job ledger entry that is related to the purchase line.;
                           NOR=Angir linjerabattbelõpet for prosjektposten som er relatert til kjõpslinjen.;
                           SVE=Anger radrabatten fîr projekttransaktionen som Ñr relaterad till inkîpsraden.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Disc. Amount (LCY)";
                Visible=FALSE }

    { 34  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the date that you want the vendor to deliver to the ship-to address. The value in the field is used to calculate the latest date you can order the items to have them delivered on the requested receipt date. If you do not need delivery on a specific date, you can leave the field blank.;
                           NOR=Angir datoen da du vil at leverandõren skal levere til lever til-adressen. Verdien i feltet brukes til Ü beregne nÜr du sist kan bestille varene for Ü fÜ dem levert pÜ õnsket mottaksdato. Hvis leveringen ikke trenger Ü skje pÜ en bestemt dato, lar du feltet vëre tomt.;
                           SVE=Anger datum som du vill att leverantîren ska leverera ordern till leveransadressen. VÑrdet i fÑltet anvÑnds vid berÑkning av det sista datum dÜ du kan bestÑlla artiklarna fîr att de ska levereras pÜ begÑrt inleveransdatum. Om du inte behîver leverera pÜ en viss dag fyller du inte i fÑltet.];
                ApplicationArea=#Suite;
                SourceExpr="Requested Receipt Date" }

    { 90  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the date that the vendor has promised to deliver the order.;
                           NOR=Angir pÜ hvilken dato leverandõren har lovet Ü levere ordren.;
                           SVE=Anger det datum som leverantîren har lovat att leverera ordern.];
                ApplicationArea=#OrderPromising;
                SourceExpr="Promised Receipt Date";
                Visible=FALSE }

    { 92  ;2   ;Field     ;
                ToolTipML=[ENU="Specifies the date when the item is planned to arrive in inventory. Forward calculation: planned receipt date = order date + vendor lead time (per the vendor calendar and rounded to the next working day in first the vendor calendar and then the location calendar). If no vendor calendar exists, then: planned receipt date = order date + vendor lead time (per the location calendar). Backward calculation: order date = planned receipt date - vendor lead time (per the vendor calendar and rounded to the previous working day in first the vendor calendar and then the location calendar). If no vendor calendar exists, then: order date = planned receipt date - vendor lead time (per the location calendar).";
                           NOR="Angir datoen da varen er planlagt Ü ankomme lageret. Beregning fremover: planlagt mottaksdato = ordredato + leverandõrleveringstid (i forhold til leverandõrens kalender og rundet opp til neste virkedag i den fõrste leverandõrkalenderen og deretter lokasjonskalenderen). Hvis ingen leverandõrkalender eksisterer, ser beregningen slik ut: planlagt mottaksdato = ordredato + leverandõrleveringstid (i forhold til lokasjonskalenderen). Beregning bakover: ordredato = planlagt mottaksdato - leverandõrleveringstid (i forhold til leverandõrens kalender og rundet opp til forrige virkedag i den fõrste leverandõrkalenderen og deretter lokasjonskalenderen). Hvis ingen leverandõrkalender eksisterer, ser beregningen slik ut: ordredato = planlagt mottaksdato - leverandõrleveringstid (i forhold til lokasjonskalenderen).";
                           SVE="Anger datumet nÑr artikeln planeras att anlÑnda i lagret. BerÑkning framÜt: planerat inleveransdatum = orderdatum + leverantîrens ledtid (enligt leverantîrens kalender och avrundad till nÑsta arbetsdag i fîrst leverantîrskalendern och sedan i platskalendern). Om det inte finns nÜgon leverantîrskalender: planerat inleveransdatum = orderdatum + leverantîrens ledtid (enligt platskalendern). BerÑkning bakÜt: planerat inleveransdatum = orderdatum - leverantîrens ledtid (enligt leverantîrens kalender och avrundad till fîregÜende arbetsdag i fîrst leverantîrskalendern och sedan i platskalendern). Om det inte finns nÜgon leverantîrskalender: planerat inleveransdatum = orderdatum - leverantîrens ledtid (enligt platskalendern)."];
                ApplicationArea=#Suite;
                SourceExpr="Planned Receipt Date" }

    { 100 ;2   ;Field     ;
                ToolTipML=[ENU="Specifies the date you expect the items to be available in your warehouse. If you leave the field blank, it will be calculated as follows: Planned Receipt Date + Safety Lead Time + Inbound Warehouse Handling Time = Expected Receipt Date.";
                           NOR="Angir datoen da du forventer at varene skal vëre tilgjengelige pÜ lager. Hvis du lar dette feltet vëre tomt, blir det beregnet pÜ fõlgende mÜte: Planlagt mottaksdato + Sikkerhetsleveringstid + InngÜende lagerhÜndteringstid = Forventet mottaksdato.";
                           SVE="Anger det datum dÜ du vÑntar dig att artiklarna ska vara tillgÑngliga i distributionslagret. Om du inte anger nÜgot berÑknas det sÜ hÑr: Planerat inleveransdatum + SÑkerhetsledtid + Ankommande distributionslagerhanteringstid = FîrvÑntat inleveransdatum."];
                ApplicationArea=#Suite;
                SourceExpr="Expected Receipt Date";
                Visible=FALSE }

    { 94  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the date when the order was created.;
                           NOR=Angir datoen da ordren ble opprettet.;
                           SVE=Anger datumet nÑr ordern skapades.];
                ApplicationArea=#Suite;
                SourceExpr="Order Date";
                Visible=FALSE }

    { 96  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a date formula for the amount of time it takes to replenish the item.;
                           NOR=Angir en datoformel for tiden det tar Ü etterfylle varen.;
                           SVE=Anger en datumformel fîr tiden det tar att fylla pÜ artikeln.];
                ApplicationArea=#Suite;
                SourceExpr="Lead Time Calculation";
                Visible=FALSE }

    { 84  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether the supply represented by this line is considered by the planning system when calculating action messages.;
                           NOR=Angir om forsyningen, som representeres denne linjen, vurderes av planleggingssystemet ved beregning av handlingsmeldinger.;
                           SVE=Anger om leveransen som representeras av denna rad tas i beaktande av planeringssystemet nÑr ÜtgÑrdsmeddelanden berÑknas.];
                ApplicationArea=#Manufacturing;
                SourceExpr="Planning Flexibility";
                Visible=FALSE }

    { 40  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the related production order.;
                           NOR=Angir nummeret for den relaterte produksjonsordren.;
                           SVE=Anger den relaterade produktionsorderns nummer.];
                ApplicationArea=#Manufacturing;
                SourceExpr="Prod. Order No.";
                Visible=FALSE }

    { 86  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the related production order line.;
                           NOR=Angir nummeret for den relaterte produksjonsordrelinjen.;
                           SVE=Anger den relaterade produktionsorderradens nummer.];
                ApplicationArea=#Manufacturing;
                SourceExpr="Prod. Order Line No.";
                Visible=FALSE }

    { 64  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the related production operation.;
                           NOR=Angir nummeret for den relaterte produksjonsoperasjonen.;
                           SVE=Anger den relaterade produktionsoperationens nummer.];
                ApplicationArea=#Manufacturing;
                SourceExpr="Operation No.";
                Visible=FALSE }

    { 70  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the work center number of the journal line.;
                           NOR=Angir arbeidssenternummeret for kladdelinjen.;
                           SVE=Anger journalradens produktionsgruppsnummer.];
                ApplicationArea=#Manufacturing;
                SourceExpr="Work Center No.";
                Visible=FALSE }

    { 72  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that any related service or operation is finished.;
                           NOR=Angir at relaterte tjenester eller operasjoner er fullfõrt.;
                           SVE=Anger att alla relaterade tjÑnster och ÜtgÑrder Ñr avslutade.];
                ApplicationArea=#Manufacturing;
                SourceExpr=Finished;
                Visible=FALSE }

    { 38  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how many units on the purchase order line remain to be handled in warehouse documents.;
                           NOR=Angir hvor mange enheter pÜ bestillingslinjen som fremdeles mÜ hÜndteres i lagerdokumenter.;
                           SVE=Anger hur mÜnga enheter pÜ inkîpsorderraden som fortfarande mÜste hanteras i distributionslagerdokument.];
                ApplicationArea=#Warehouse;
                SourceExpr="Whse. Outstanding Qty. (Base)";
                Visible=FALSE }

    { 98  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the time it takes to make items part of available inventory, after the items have been posted as received.;
                           NOR=Angir hvor lang tid det tar Ü gjõre varene til en del av lageret, etter at varene er bokfõrt som mottatt.;
                           SVE=Anger hur lÜng tid det tar att fîra in artiklar i det disponibla lagret nÑr artiklarna har bokfîrts som inlevererade.];
                ApplicationArea=#Warehouse;
                SourceExpr="Inbound Whse. Handling Time";
                Visible=FALSE }

    { 46  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the blanket order that the record originates from.;
                           NOR=Angir nummeret pÜ rammeordren som posten stammer fra.;
                           SVE=Anger numret pÜ avropsordern som posten hÑrrîr frÜn.];
                ApplicationArea=#Suite;
                SourceExpr="Blanket Order No.";
                Visible=FALSE;
                OnValidate=BEGIN
                             CurrPage.UPDATE;
                           END;
                            }

    { 48  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the blanket order line that the record originates from.;
                           NOR=Angir nummeret pÜ rammebestillingslinjen som posten stammer fra.;
                           SVE=Anger numret pÜ avropsorderraden som posten hÑrrîr frÜn.];
                ApplicationArea=#Suite;
                SourceExpr="Blanket Order Line No.";
                Visible=FALSE;
                OnValidate=BEGIN
                             CurrPage.UPDATE;
                           END;
                            }

    { 52  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the item ledger entry that the document or journal line is applied -to.;
                           NOR=Angir nummeret for vareposten som dokumentet eller kladdelinjen er brukt for.;
                           SVE=Anger numret pÜ artikeltransaktionen som dokumentet eller journalraden Ñr kopplad till.];
                ApplicationArea=#Suite;
                SourceExpr="Appl.-to Item Entry";
                Visible=FALSE }

    { 1000000;2;Field     ;
                ToolTipML=[ENU=Specifies an automatic account group code.;
                           SVE=Anger koden fîr en automatisk redovisningsmall.];
                SourceExpr="Auto. Acc. Group" }

    { 21  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the deferral template that governs how expenses paid with this purchase document are deferred to the different accounting periods when the expenses were incurred.;
                           NOR=Angir periodiseringsmalen som styrer hvordan utgifter som er betalt med dette kjõpsdokumentet, periodiseres til de ulike regnskapsperiodene nÜr utgiftene pÜlõpte.;
                           SVE=Anger periodiseringsmallen som styr hur utgifter som betalades med detta inkîpsdokument periodiseras till de olika bokfîringsperioderna nÑr utgifterna genererades.];
                ApplicationArea=#Suite;
                SourceExpr="Deferral Code";
                TableRelation="Deferral Template"."Deferral Code";
                Enabled=(Type <> Type::"Fixed Asset") AND (Type <> Type::" ");
                OnAssistEdit=BEGIN
                               ShowDeferralSchedule;
                             END;
                              }

    { 300 ;2   ;Field     ;
                Name=ShortcutDimCode3;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[3];
                CaptionClass='1,2,3';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(3),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=DimVisible3;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(3,ShortcutDimCode[3]);

                             OnAfterValidateShortcutDimCode(Rec,ShortcutDimCode,3);
                           END;
                            }

    { 302 ;2   ;Field     ;
                Name=ShortcutDimCode4;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[4];
                CaptionClass='1,2,4';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(4),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=DimVisible4;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(4,ShortcutDimCode[4]);

                             OnAfterValidateShortcutDimCode(Rec,ShortcutDimCode,4);
                           END;
                            }

    { 304 ;2   ;Field     ;
                Name=ShortcutDimCode5;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[5];
                CaptionClass='1,2,5';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(5),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=DimVisible5;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(5,ShortcutDimCode[5]);

                             OnAfterValidateShortcutDimCode(Rec,ShortcutDimCode,5);
                           END;
                            }

    { 306 ;2   ;Field     ;
                Name=ShortcutDimCode6;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[6];
                CaptionClass='1,2,6';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(6),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=DimVisible6;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(6,ShortcutDimCode[6]);

                             OnAfterValidateShortcutDimCode(Rec,ShortcutDimCode,6);
                           END;
                            }

    { 308 ;2   ;Field     ;
                Name=ShortcutDimCode7;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[7];
                CaptionClass='1,2,7';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(7),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=DimVisible7;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(7,ShortcutDimCode[7]);

                             OnAfterValidateShortcutDimCode(Rec,ShortcutDimCode,7);
                           END;
                            }

    { 310 ;2   ;Field     ;
                Name=ShortcutDimCode8;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[8];
                CaptionClass='1,2,8';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(8),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=DimVisible8;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(8,ShortcutDimCode[8]);

                             OnAfterValidateShortcutDimCode(Rec,ShortcutDimCode,8);
                           END;
                            }

    { 25  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the document number.;
                           NOR=Angir dokumentnummeret.;
                           SVE=Anger dokumentnumret.];
                ApplicationArea=#Suite;
                SourceExpr="Document No.";
                Visible=FALSE;
                Editable=FALSE }

    { 27  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of this line.;
                           NOR=Angir nummeret pÜ denne linjen.;
                           SVE=Anger numret pÜ den hÑr raden.];
                ApplicationArea=#Suite;
                SourceExpr="Line No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1100525010;2;Field  ;
                SourceExpr="Sales Price";
                Visible=FALSE }

    { 1101200024;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Risc Coverage Amount (LCY)";
                Visible=FALSE;
                OnValidate=BEGIN
                             //**4PS
                             CurrPage.UPDATE;
                           END;
                            }

    { 1101200026;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Release Risc Coverage (LCY)";
                Visible=FALSE;
                OnValidate=BEGIN
                             //**4PS
                             CurrPage.UPDATE;
                           END;
                            }

    { 1100485026;2;Field  ;
                CaptionML=[ENU=Backorder Qty.;
                           SVE=Backorderantal];
                BlankZero=Yes;
                SourceExpr=BackOrderQuantity;
                Visible=FALSE;
                Editable=FALSE;
                OnValidate=BEGIN
                             SetEditable;
                           END;
                            }

    { 1100485024;2;Field  ;
                SourceExpr="Expected Back Order Date";
                Visible=FALSE;
                Editable=ExpectedBackOrderDateEditable }

    { 1101200028;2;Field  ;
                SourceExpr="Posting Date";
                Visible=FALSE;
                Editable=FALSE }

    { 1101200030;2;Field  ;
                SourceExpr="Gen. Prod. Posting Group";
                Visible=FALSE }

    { 1101200032;2;Field  ;
                SourceExpr="VAT Bus. Posting Group";
                Visible=FALSE;
                OnValidate=BEGIN
                             CurrPage.UPDATE;
                           END;
                            }

    { 14  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the VAT product posting group. Links business transactions made for the item, resource, or G/L account with the general ledger, to account for VAT amounts resulting from trade with that record.;
                           NOR=Angir mva-bokfõringsgruppen - vare. Kobler forretningstransaksjoner som er utfõrt for varen, ressursen eller finanskontoen, med Finans for Ü gjenspeile mva-belõpene fra handel med den posten.;
                           SVE=Anger produktbokfîringsmallen med moms. Kopplar affÑrstransaktioner gjorda fîr artikeln, resursen eller redovisningskontot med redovisningen fîr att redovisa momsbeloppet som uppkommer genom handel med den posten.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="VAT Prod. Posting Group";
                Visible=FALSE;
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                             CurrPage.UPDATE;
                           END;
                            }

    { 12013588;2;Field    ;
                SourceExpr=Approve;
                Visible=False }

    { 12013589;2;Field    ;
                SourceExpr="First Approver";
                Visible=False }

    { 12013590;2;Field    ;
                SourceExpr="Applied Template Rule";
                Visible=False }

    { 12013591;2;Field    ;
                SourceExpr="Template Rule";
                Visible=False }

    { 12013592;2;Field    ;
                SourceExpr="Approval Flow Modified";
                Visible=False }

    { 12013593;2;Field    ;
                SourceExpr="Fully Matched";
                Visible=False }

    { 1210190005;2;Field  ;
                SourceExpr="ICM Quantity Confirmed";
                Visible=FALSE }

    { 1210190049;2;Field  ;
                CaptionML=[ENU=GS1 Quantity Confirmed;
                           SVE=GS1-antal bekrÑftat];
                SourceExpr=PurchaseLineExtension."GS1 Quantity Confirmed";
                Visible=FALSE;
                Editable=FALSE }

    { 1210190057;2;Field  ;
                CaptionML=[ENU=GS1 Error Logs;
                           SVE=GS1-felloggar];
                SourceExpr=CheckIfGS1ErrorLogsExist;
                Visible=FALSE;
                Editable=FALSE }

    { 1210190007;2;Field  ;
                SourceExpr="ICM Quantity Error";
                Visible=FALSE }

    { 1210190013;2;Field  ;
                CaptionML=[ENU=Quote No.;
                           SVE=Offertnr];
                SourceExpr=RefQuote;
                Visible=FALSE;
                Editable=FALSE;
                OnLookup=VAR
                           lvPurchHeadRec@1210190000 : Record 38;
                         BEGIN
                           //**4PS
                           IF (RefQuote = '') THEN
                             EXIT;

                           IF (COPYSTR(RefQuote, 1, 1) = '<') THEN  // IF Quote No. is '<Nr.>', then more than one quote present
                             RouteRefMgtCU.ShowReferenceQuoteList("Purchase Route Reference")
                           ELSE BEGIN
                             lvPurchHeadRec.SETRANGE("Document Type", lvPurchHeadRec."Document Type"::Quote);
                             lvPurchHeadRec.SETRANGE("No.", RefQuote);
                             PAGE.RUNMODAL(PAGE::"Purchase Quote", lvPurchHeadRec);
                           END;
                         END;
                          }

    { 1210190035;2;Field  ;
                SourceExpr="Purchase Route Reference";
                Visible=FALSE }

    { 1100485022;2;Field  ;
                SourceExpr="Scheme Code";
                Visible=FALSE }

    { 1210190045;2;Field  ;
                Name=Yard No.;
                CaptionML=[ENU=Yard No.;
                           SVE=Platsnr];
                SourceExpr=PurchaseLineExtension."Yard No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1100525014;2;Field  ;
                Name=System No.;
                CaptionML=[ENU=System No.;
                           SVE=Systemnr];
                SourceExpr=PurchaseLineExtension."System No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1100525012;2;Field  ;
                Name=Entity Type;
                CaptionML=[ENU=Entity Type;
                           SVE=Enhetstyp];
                SourceExpr="Entity Type";
                Visible=FALSE;
                OnValidate=BEGIN
                             //**4PS
                             // Entity No. might be changed in OnValidate of Entity Type.
                             PurchaseLineExtension.GetPurchLineExtension("Document Type", "Document No.", "Line No.");
                             SetEditable;
                           END;
                            }

    { 1100525016;2;Field  ;
                Name=Entity No.;
                CaptionML=[ENU=Entity No.;
                           SVE=Enhetsnr];
                SourceExpr=PurchaseLineExtension."Entity No.";
                Visible=FALSE;
                OnValidate=BEGIN
                             //**4PS
                             ValidateAndSaveEntityNo(PurchaseLineExtension);
                           END;

                OnLookup=BEGIN
                           //**4PS
                           PurchaseLineExtension."Entity No." := GetLookupEntityNo(PurchaseLineExtension);
                           ValidateAndSaveEntityNo(PurchaseLineExtension);
                         END;
                          }

    { 1100525018;2;Field  ;
                Name=Cable Transit Pos.;
                CaptionML=[ENU=Cable Transit Postion;
                           SVE=Kabelîverfîringsposition];
                SourceExpr=PurchaseLineExtension."Cable Transit Pos.";
                Visible=FALSE;
                Editable=FALSE }

    { 1100529900;2;Field  ;
                CaptionML=[ENU=Requester ID;
                           SVE=AnvÑndar-ID fîr inkîpsanmodan];
                SourceExpr=PurchaseLineExtension."Requester ID";
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateAndSaveRequesterId(PurchaseLineExtension);
                           END;

                OnLookup=VAR
                           UserMgt@1100529900 : Codeunit 418;
                         BEGIN
                           UserMgt.LookupUserID(PurchaseLineExtension."Requester ID");
                           ValidateAndSaveRequesterId(PurchaseLineExtension);
                         END;
                          }

    { 1100485034;2;Field  ;
                SourceExpr="Inward Processing Relief";
                Visible=FALSE }

    { 1100525004;2;Field  ;
                SourceExpr="Sales Order No.";
                Visible=FALSE }

    { 1100525006;2;Field  ;
                SourceExpr="Sales Order Line No.";
                Visible=FALSE }

    { 1100528801;2;Field  ;
                SourceExpr="Special Order Sales No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1100525007;2;Field  ;
                SourceExpr="Special Order Sales Line No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1100525022;2;Field  ;
                SourceExpr="Contract Type";
                Visible=FALSE }

    { 1100528301;2;Field  ;
                SourceExpr="Reason Code";
                Visible=FALSE }

    { 1100409004;2;Field  ;
                CaptionML=ENU=Guarantee lines;
                SourceExpr=HasGuaranteeLines;
                Visible=FALSE;
                Editable=FALSE;
                OnDrillDown=BEGIN
                              ShowGuaranteeLines;
                            END;
                             }

    { 1100527401;2;Field  ;
                CaptionML=[ENU=Purchase Details;
                           SVE=Inkîpsdetaljer];
                SourceExpr=PurchaseDetailDescription;
                Visible=FALSE }

    { 1100528202;2;Field  ;
                SourceExpr="On Hold";
                Visible=FALSE }

    { 1100528203;2;Field  ;
                SourceExpr="Final Installment";
                Visible=FALSE }

    { 43  ;1   ;Group     ;
                Visible=FALSE;
                GroupType=Group }

    { 37  ;2   ;Group     ;
                Visible=FALSE;
                GroupType=Group }

    { 45  ;3   ;Field     ;
                Name=AmountBeforeDiscount;
                CaptionML=[ENU=Subtotal Excl. VAT;
                           NOR=Delsum uten mva;
                           SVE=Delsumma exkl. moms];
                ToolTipML=[ENU=Specifies the sum of the value in the Line Amount Excl. VAT field on all lines in the document.;
                           NOR=Angir summen av verdien i feltet for linjebelõp uten mva pÜ alle linjer i dokumentet.;
                           SVE=Anger summan av vÑrdena i fÑltet Radbelopp exkl. moms fîr alla rader i dokumentet.];
                ApplicationArea=#Suite;
                SourceExpr=TotalPurchaseLine."Line Amount";
                AutoFormatType=1;
                AutoFormatExpr="Currency Code";
                CaptionClass=DocumentTotals.GetTotalLineAmountWithVATAndCurrencyCaption(Currency.Code,TotalPurchaseHeader."Prices Including VAT");
                Editable=FALSE;
                OnValidate=BEGIN
                             DocumentTotals.PurchaseDocTotalsNotUpToDate;
                           END;
                            }

    { 35  ;3   ;Field     ;
                Name=Invoice Discount Amount;
                CaptionML=[ENU=Invoice Discount Amount;
                           NOR=Fakturarabattbelõp;
                           SVE=Fakturarabatt];
                ToolTipML=[ENU=Specifies the amount that is calculated and shown in the Invoice Discount Amount field. The invoice discount amount is deducted from the value shown in the Total Amount Incl. VAT field.;
                           NOR=Angir belõpe som beregnes og vises i feltet Fakturarabattbelõp. Fakturarabattbelõpet trekkes fra verdien som vises i feltet Totalbelõp inkl. mva.;
                           SVE=Anger beloppet som berÑknas och visas i fÑltet Fakturarabatt. Fakturarabatten dras av frÜn vÑrdet som visas i fÑltet Totalt belopp inkl. moms.];
                ApplicationArea=#Suite;
                SourceExpr=InvoiceDiscountAmount;
                AutoFormatType=1;
                AutoFormatExpr="Currency Code";
                CaptionClass=DocumentTotals.GetInvoiceDiscAmountWithVATAndCurrencyCaption(FIELDCAPTION("Inv. Discount Amount"),Currency.Code);
                Visible=FALSE;
                Editable=InvDiscAmountEditable;
                OnValidate=BEGIN
                             ValidateInvoiceDiscountAmount;
                             DocumentTotals.PurchaseDocTotalsNotUpToDate;
                           END;
                            }

    { 33  ;3   ;Field     ;
                Name=Invoice Disc. Pct.;
                CaptionML=[ENU=Invoice Discount %;
                           NOR=Fakturarabatt %;
                           SVE=Fakturarabatt %];
                ToolTipML=[ENU=Specifies a discount percentage that is granted if criteria that you have set up for the customer are met. The calculated discount amount is inserted in the Invoice Discount Amount field, but you can change it manually.;
                           NOR=Angir en rabattprosent som gis hvis kriteriene du har definert for kunden, blir oppfylt. Det beregnede rabattbelõpet settes inn i feltet Fakturarabattbelõp, men du kan endre det manuelt.;
                           SVE=Anger en rabattsats som gÑller om kriterierna som du har upprÑttat fîr kunden Ñr uppfyllda. Det berÑknade rabattbeloppet infogas i fÑltet Fakturarabatt, men du kan Ñndra det manuellt.];
                ApplicationArea=#Suite;
                DecimalPlaces=0:3;
                SourceExpr=InvoiceDiscountPct;
                Visible=FALSE;
                Editable=InvDiscAmountEditable;
                OnValidate=BEGIN
                             AmountWithDiscountAllowed := DocumentTotals.CalcTotalPurchAmountOnlyDiscountAllowed(Rec);
                             InvoiceDiscountAmount := ROUND(AmountWithDiscountAllowed * InvoiceDiscountPct / 100,Currency."Amount Rounding Precision");
                             ValidateInvoiceDiscountAmount;
                             DocumentTotals.PurchaseDocTotalsNotUpToDate;
                           END;
                            }

    { 19  ;2   ;Group     ;
                Visible=FALSE;
                GroupType=Group }

    { 17  ;3   ;Field     ;
                Name=Total Amount Excl. VAT;
                DrillDown=No;
                CaptionML=[ENU=Total Amount Excl. VAT;
                           NOR=Totalbelõp ekskl. mva;
                           SVE=Totalt belopp exkl. moms];
                ToolTipML=[ENU=Specifies the sum of the value in the Line Amount Excl. VAT field on all lines in the document minus any discount amount in the Invoice Discount Amount field.;
                           NOR=Angir summen av verdien i feltet Linjebelõp ekskl. MVA pÜ alle linjer i dokumentet, minus eventuelle rabattbelõp i feltet Fakturarabattbelõp.;
                           SVE=Anger summan av vÑrdet i fÑltet Radbelopp exkl. moms fîr alla rader i dokumentet med avdrag fîr rabattbelopp i fÑltet Fakturarabatt.];
                ApplicationArea=#Suite;
                SourceExpr=TotalPurchaseLine.Amount;
                AutoFormatType=1;
                AutoFormatExpr="Currency Code";
                CaptionClass=DocumentTotals.GetTotalExclVATCaption(Currency.Code);
                Visible=FALSE;
                Editable=FALSE }

    { 15  ;3   ;Field     ;
                Name=Total VAT Amount;
                CaptionML=[ENU=Total VAT;
                           NOR=Total mva;
                           SVE=Total moms];
                ToolTipML=[ENU=Specifies the sum of VAT amounts on all lines in the document.;
                           NOR=Angir summen av mva-belõpene pÜ alle linjene i dokumentet.;
                           SVE=Anger summan av momsbeloppen fîr alla rader i dokumentet.];
                ApplicationArea=#Suite;
                SourceExpr=VATAmount;
                AutoFormatType=1;
                AutoFormatExpr="Currency Code";
                CaptionClass=DocumentTotals.GetTotalVATCaption(Currency.Code);
                Visible=FALSE;
                Editable=FALSE }

    { 13  ;3   ;Field     ;
                Name=Total Amount Incl. VAT;
                CaptionML=[ENU=Total Amount Incl. VAT;
                           NOR=Totalbelõp inkl. mva;
                           SVE=Totalt belopp inkl. moms];
                ToolTipML=[ENU=Specifies the sum of the value in the Line Amount Incl. VAT field on all lines in the document minus any discount amount in the Invoice Discount Amount field.;
                           NOR=Angir summen av verdien i feltet Linjebelõp inkl. MVA pÜ alle linjer i dokumentet, minus eventuelle rabattbelõp i feltet Fakturarabattbelõp.;
                           SVE=Anger summan av vÑrdet i fÑltet Radbelopp inkl. moms fîr alla rader i dokumentet med avdrag fîr rabattbelopp i fÑltet Fakturarabatt.];
                ApplicationArea=#Suite;
                SourceExpr=TotalPurchaseLine."Amount Including VAT";
                AutoFormatType=1;
                AutoFormatExpr="Currency Code";
                CaptionClass=DocumentTotals.GetTotalInclVATCaption(Currency.Code);
                Visible=FALSE;
                Editable=FALSE }

  }
  CODE
  {
    VAR
      TotalPurchaseHeader@1009 : Record 38;
      TotalPurchaseLine@1008 : Record 39;
      PurchaseHeader@1005 : Record 38;
      Currency@1022 : Record 4;
      PurchasesPayablesSetup@1038 : Record 312;
      TempOptionLookupBuffer@1001 : TEMPORARY Record 1670;
      ApplicationAreaMgmtFacade@1000 : Codeunit 9179;
      TransferExtendedText@1002 : Codeunit 378;
      ItemAvailFormsMgt@1006 : Codeunit 353;
      Text001@1007 : TextConst 'ENU=You cannot use the Explode BOM function because a prepayment of the purchase order has been invoiced.;NOR=Du kan ikke bruke funksjonen Utfold stykkliste fordi det er fakturert et forskudd pÜ bestillingen.;SVE=Det gÜr inte att anvÑnda funktionen Expandera struktur eftersom en fîrskottsbetalning av inkîpsordern har fakturerats.';
      PurchCalcDiscByType@1010 : Codeunit 66;
      DocumentTotals@1017 : Codeunit 57;
      ShortcutDimCode@1003 : ARRAY [8] OF Code[20];
      VATAmount@1018 : Decimal;
      InvoiceDiscountAmount@1036 : Decimal;
      InvoiceDiscountPct@1037 : Decimal;
      AmountWithDiscountAllowed@1039 : Decimal;
      TypeAsText@1020 : Text[30];
      ItemChargeStyleExpression@1016 : Text;
      InvDiscAmountEditable@1012 : Boolean;
      IsCommentLine@1019 : Boolean;
      IsFoundation@1021 : Boolean;
      IsBlankNumber@1035 : Boolean;
      UpdateInvDiscountQst@1014 : TextConst 'ENU=One or more lines have been invoiced. The discount distributed to invoiced lines will not be taken into account.\\Do you want to update the invoice discount?;NOR=ên eller flere linjer er fakturert. Det tas ikke hensyn til rabatt som er fordelt pÜ fakturerte linjer.\\Vil du oppdatere fakturarabatten?;SVE=En eller flera rader har fakturerats. Rabatten som fîrdelas pÜ de fakturerade raderna kommer inte att beaktas.\\Vill du uppdatera fakturarabatten?';
      CurrPageIsEditable@1023 : Boolean;
      DimVisible1@1034 : Boolean;
      DimVisible2@1033 : Boolean;
      DimVisible3@1032 : Boolean;
      DimVisible4@1029 : Boolean;
      DimVisible5@1027 : Boolean;
      DimVisible6@1026 : Boolean;
      DimVisible7@1025 : Boolean;
      DimVisible8@1024 : Boolean;
      RouteRefMgtCU@1210190006 : Codeunit 11012045;
      InvtSetup@1100525004 : Record 313;
      ItemSetup@1100525000 : Record 11012300;
      PurchSetup@1100485003 : Record 312;
      Text11012001@1210190000 : TextConst 'ENU=Before editing text enter the line first;SVE=VÑlj rad innan du redigerar text.';
      JobsSetup@1100525012 : Record 315;
      ServiceSetup@1100525013 : Record 11012800;
      RefQuote@1100485002 : Code[20];
      gFromReference@1210190010 : Boolean;
      "UnitCost/PurchUnit"@1100485006 : Decimal;
      "UnitCost/BaseUnit"@1210190008 : Decimal;
      "UnitPrice/BaseUnit"@1210190014 : Decimal;
      BaseQuan@1100525002 : Decimal;
      BaseUnit@1100525003 : Code[20];
      Text11012005@1210190003 : TextConst 'ENU=Credit the administrative costs for the Return Order?;SVE=Kreditera administrativa kostnader fîr returordern?';
      Text11012008@1210190004 : TextConst 'ENU=Disapprove of Returnorders is not possible;SVE=Det gÜr inte att neka returorder';
      PurchaseLineExtension@1100525001 : Record 11020644;
      BackOrderQuantity@1100485005 : Decimal;
      DPA_IsHardFilter@1100000999 : Boolean;
      TradeItemEnabled@19042429 : Boolean INDATASET;
      NoIsEditable@1100525101 : Boolean INDATASET;
      CostTypeEditable@1100525005 : Boolean INDATASET;
      ItemEditable@1100525006 : Boolean INDATASET;
      TariffNoEditable@1100525007 : Boolean INDATASET;
      NetWeightEditable@1100525008 : Boolean INDATASET;
      PlantTypeEditable@1100525009 : Boolean INDATASET;
      PlantNoEditable@1100525010 : Boolean INDATASET;
      CostComponentEditable@1100525011 : Boolean INDATASET;
      TypeEditable@1100525014 : Boolean INDATASET;
      QuantityEditable@1100525015 : Boolean INDATASET;
      AmountEditable@1100525016 : Boolean INDATASET;
      QtyToInvoiceEditable@1100525017 : Boolean INDATASET;
      AmntToInvoiceEditable@1100525018 : Boolean INDATASET;
      ExpectedBackOrderDateEditable@1100525019 : Boolean INDATASET;
      AdditionalCostServiceEditable@1210190001 : Boolean INDATASET;
      StratPurchaseFieldsEditable@1210190002 : Boolean INDATASET;
      AmountIncludingVATEditable@1100409000 : Boolean INDATASET;
      NoProjectStockEditable@1100525020 : Boolean INDATASET;
      "*** ExFlow ***"@12013597 : Integer;
      ExFlow@12013598 : Codeunit 12013601;
      SCClaimsEnabled@1100528200 : Boolean INDATASET;
      Text11012009@1100525021 : TextConst 'ENU=No service order for record.';

    [External]
    PROCEDURE ApproveCalcInvDisc@7();
    BEGIN
      CODEUNIT.RUN(CODEUNIT::"Purch.-Disc. (Yes/No)",Rec);
      DocumentTotals.PurchaseDocTotalsNotUpToDate;
    END;

    LOCAL PROCEDURE ValidateInvoiceDiscountAmount@30();
    VAR
      ConfirmManagement@1000 : Codeunit 27;
    BEGIN
      PurchaseHeader.GET("Document Type","Document No.");
      IF PurchaseHeader.InvoicedLineExists THEN
        IF NOT ConfirmManagement.ConfirmProcess(UpdateInvDiscountQst,TRUE) THEN
          EXIT;

      DocumentTotals.PurchaseDocTotalsNotUpToDate;
      PurchCalcDiscByType.ApplyInvDiscBasedOnAmt(InvoiceDiscountAmount,PurchaseHeader);
      CurrPage.UPDATE(FALSE);
    END;

    LOCAL PROCEDURE ExplodeBOM@3();
    BEGIN
      IF "Prepmt. Amt. Inv." <> 0 THEN
        ERROR(Text001);
      CODEUNIT.RUN(CODEUNIT::"Purch.-Explode BOM",Rec);
      DocumentTotals.PurchaseDocTotalsNotUpToDate;
    END;

    LOCAL PROCEDURE OpenSalesOrderForm@5();
    VAR
      SalesHeader@1000 : Record 36;
      SalesOrder@1001 : Page 42;
    BEGIN
      TESTFIELD("Sales Order No.");
      SalesHeader.SETRANGE("No.","Sales Order No.");
      SalesOrder.SETTABLEVIEW(SalesHeader);
      SalesOrder.EDITABLE := FALSE;
      SalesOrder.RUN;
    END;

    [External]
    PROCEDURE InsertExtendedText@6(Unconditionally@1000 : Boolean);
    BEGIN
      OnBeforeInsertExtendedText(Rec);
      IF TransferExtendedText.PurchCheckIfAnyExtText(Rec,Unconditionally) THEN BEGIN
        CurrPage.SAVERECORD;
        TransferExtendedText.InsertPurchExtText(Rec);
      END;
      IF TransferExtendedText.MakeUpdate THEN
        UpdateForm(TRUE);
    END;

    [External]
    PROCEDURE ShowTracking@10();
    VAR
      TrackingForm@1000 : Page 99000822;
    BEGIN
      TrackingForm.SetPurchLine(Rec);
      TrackingForm.RUNMODAL;
    END;

    LOCAL PROCEDURE OpenSpecOrderSalesOrderForm@12();
    VAR
      SalesHeader@1000 : Record 36;
      SalesOrder@1001 : Page 42;
    BEGIN
      TESTFIELD("Special Order Sales No.");
      SalesHeader.SETRANGE("No.","Special Order Sales No.");
      SalesOrder.SETTABLEVIEW(SalesHeader);
      SalesOrder.EDITABLE := FALSE;
      SalesOrder.RUN;
    END;

    [External]
    PROCEDURE UpdateForm@13(SetSaveRecord@1000 : Boolean);
    BEGIN
      CurrPage.UPDATE(SetSaveRecord);
    END;

    LOCAL PROCEDURE NoOnAfterValidate@409();
    BEGIN
      UpdateEditableOnRow;
      InsertExtendedText(FALSE);
      IF (Type = Type::"Charge (Item)") AND ("No." <> xRec."No.") AND
         (xRec."No." <> '')
      THEN
        CurrPage.SAVERECORD;
    END;

    LOCAL PROCEDURE CrossReferenceNoOnAfterValidat@2059();
    BEGIN
      InsertExtendedText(FALSE);
    END;

    [External]
    PROCEDURE ShowDocumentLineTracking@24();
    VAR
      DocumentLineTracking@1000 : Page 6560;
    BEGIN
      CLEAR(DocumentLineTracking);
      DocumentLineTracking.SetDoc(1,"Document No.","Line No.","Blanket Order No.","Blanket Order Line No.",'',0);
      DocumentLineTracking.RUNMODAL;
    END;

    LOCAL PROCEDURE GetTotalsPurchaseHeader@15();
    BEGIN
      DocumentTotals.GetTotalPurchaseHeaderAndCurrency(Rec,TotalPurchaseHeader,Currency);
    END;

    LOCAL PROCEDURE CalculateTotals@16();
    BEGIN
      DocumentTotals.PurchaseCheckIfDocumentChanged(Rec,xRec);
      DocumentTotals.CalculatePurchaseSubPageTotals(
        TotalPurchaseHeader,TotalPurchaseLine,VATAmount,InvoiceDiscountAmount,InvoiceDiscountPct);
      DocumentTotals.RefreshPurchaseLine(Rec);
    END;

    LOCAL PROCEDURE DeltaUpdateTotals@2();
    BEGIN
      DocumentTotals.PurchaseDeltaUpdateTotals(Rec,xRec,TotalPurchaseLine,VATAmount,InvoiceDiscountAmount,InvoiceDiscountPct);
      CurrPage.SAVERECORD;
      SendLineInvoiceDiscountResetNotification;
    END;

    LOCAL PROCEDURE UpdateEditableOnRow@8();
    BEGIN
      IsCommentLine := Type = Type::" ";
      CurrPageIsEditable := CurrPage.EDITABLE;
      // IsBlankNumber := ("No." = '') OR IsCommentLine; //**4PS.o
      IsBlankNumber := (("No." = '') OR IsCommentLine) AND NOT (("Receiving Company" = '') AND (Type = Type::"Fixed Asset") AND ("Plant Type" <> '') AND ("Cost Component Plant" <> '')); //**4PS.n
      InvDiscAmountEditable := CurrPageIsEditable AND NOT PurchasesPayablesSetup."Calc. Inv. Discount";
    END;

    LOCAL PROCEDURE UpdateTypeText@14();
    VAR
      RecRef@1000 : RecordRef;
    BEGIN
      IF NOT IsFoundation THEN
        EXIT;

      RecRef.GETTABLE(Rec);
      TypeAsText := TempOptionLookupBuffer.FormatOption(RecRef.FIELD(FIELDNO(Type)));
    END;

    LOCAL PROCEDURE SetItemChargeFieldsStyle@77();
    BEGIN
      ItemChargeStyleExpression := '';
      IF AssignedItemCharge AND ("Qty. Assigned" <> Quantity) THEN
        ItemChargeStyleExpression := 'Unfavorable';
    END;

    LOCAL PROCEDURE SetDimensionsVisibility@11();
    VAR
      DimMgt@1000 : Codeunit 408;
    BEGIN
      DimVisible1 := FALSE;
      DimVisible2 := FALSE;
      DimVisible3 := FALSE;
      DimVisible4 := FALSE;
      DimVisible5 := FALSE;
      DimVisible6 := FALSE;
      DimVisible7 := FALSE;
      DimVisible8 := FALSE;

      DimMgt.UseShortcutDims(
        DimVisible1,DimVisible2,DimVisible3,DimVisible4,DimVisible5,DimVisible6,DimVisible7,DimVisible8);

      CLEAR(DimMgt);
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterValidateShortcutDimCode@27(VAR PurchaseLine@1000 : Record 39;VAR ShortcutDimCode@1001 : ARRAY [8] OF Code[20];DimIndex@1002 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeInsertExtendedText@9(VAR PurchaseLine@1000 : Record 39);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnCrossReferenceNoOnLookup@4(VAR PurchaseLine@1000 : Record 39);
    BEGIN
    END;

    PROCEDURE CopyBudgetLines@6501();
    BEGIN
      //**4PS
      CODEUNIT.RUN(CODEUNIT::"Copy Budget Lines",Rec);
    END;

    PROCEDURE SelectBudgetLines@1210190002(IPurchHeadRec@11012000 : Record 38);
    VAR
      lvBudgetRec@1210190011 : Record 11012001;
      lvBudgetListFrm@11012001 : Page 11012005;
    BEGIN
      //**4PS
      IF IPurchHeadRec."Job No." <> '' THEN
        lvBudgetRec.SETRANGE("Project No.", IPurchHeadRec."Job No.")
      ELSE
        IF "Job No." <> '' THEN
          lvBudgetRec.SETRANGE("Project No.", "Job No.");
      lvBudgetRec.SETFILTER("Cost Type", '%1..%2', lvBudgetRec."Cost Type"::Material, lvBudgetRec."Cost Type"::Sundry);
      lvBudgetRec.SETRANGE(Advised, FALSE);
      lvBudgetRec.SETFILTER("Currency Code", '%1|%2', '', "Currency Code");  //DP00885 (copy deviating currency from budget line result in convert to vendor currency of purchase header)

      lvBudgetListFrm.InitSelectionCopyToPurchOrder(Rec);
      lvBudgetListFrm.SETTABLEVIEW(lvBudgetRec);
      lvBudgetListFrm.RUNMODAL;
    END;

    PROCEDURE ReceiveCollective@6502();
    VAR
      lPurchLine@11012000 : Record 39;
    BEGIN
      //**4PS
      lPurchLine.SETRANGE("Document Type", "Document Type");
      lPurchLine.SETRANGE("Document No.", "Document No.");
      IF lPurchLine.FINDSET(TRUE, FALSE) THEN BEGIN
        GetHeader;
        REPEAT
          IF PurchaseHeader."Amounts only" THEN BEGIN
            lPurchLine."Amnt. to Receive" := lPurchLine."Outst. Amount exc. VAT";
            lPurchLine.InitAmntToInvoice;
          END ELSE BEGIN
            lPurchLine."Qty. to Receive" := lPurchLine."Outstanding Quantity";
            lPurchLine."Qty. to Receive (Base)" := lPurchLine."Outstanding Qty. (Base)";
            lPurchLine.InitQtyToInvoice;
          END;
          //**4PS.sn
          lPurchLine."Modified by" := USERID; //DP00469
          lPurchLine."Last Date Modified" := TODAY;//DP00469
          //**4PS.en
          lPurchLine.MODIFY;
        UNTIL lPurchLine.NEXT = 0
      END;
    END;

    PROCEDURE GetHeader@1000000005();
    BEGIN
      //**4PS
      IF "Document No." <> '' THEN
        PurchaseHeader.GET("Document Type","Document No.");
    END;

    PROCEDURE DivideAgreedAmount@1210190000();
    VAR
      lPurchLine@1210190002 : Record 39;
    BEGIN
      //**4PS
      GetHeader;
      PurchaseHeader.TESTFIELD("Document Type", "Document Type"::Order);
      PurchaseHeader.TESTFIELD("Agreed Amount");
      PurchaseHeader.CALCFIELDS(Amount);
      PurchaseHeader.TESTFIELD(Amount);
      lPurchLine.SETRANGE("Document Type", "Document Type");
      lPurchLine.SETRANGE("Document No.", "Document No.");
      lPurchLine.SETFILTER(Type, '>0');
      IF lPurchLine.FINDSET(TRUE, FALSE) THEN BEGIN
        REPEAT
          lPurchLine.VALIDATE("Line Discount Amount",
            lPurchLine."Line Discount Amount" +
            (PurchaseHeader.Amount - PurchaseHeader."Agreed Amount") / PurchaseHeader.Amount * lPurchLine."Line Amount" );
          //**4PS.sn
          lPurchLine."Modified by" := USERID; //DP00469
          lPurchLine."Last Date Modified" := TODAY;//DP00469
          //**4PS.en
          lPurchLine.MODIFY;
        UNTIL lPurchLine.NEXT = 0;
        PurchaseHeader.CALCFIELDS(Amount);
        IF PurchaseHeader.Amount <> PurchaseHeader."Agreed Amount" THEN BEGIN
          lPurchLine.VALIDATE("Line Discount Amount",
            lPurchLine."Line Discount Amount" +
            PurchaseHeader.Amount - PurchaseHeader."Agreed Amount");
          //**4PS.sn
          lPurchLine."Modified by" := USERID; //DP00469
          lPurchLine."Last Date Modified" := TODAY;//DP00469
          //**4PS.en
          lPurchLine.MODIFY;
        END;
      END;
    END;

    PROCEDURE EditText@1210190001();
    VAR
      TextFrm@11012001 : Page 11012120;
    BEGIN
      //**4PS
      IF "Line No." = 0 THEN
        ERROR(Text11012001);

      TextFrm.SetSelection(DATABASE::"Purchase Line","Document No.",
        '','','','','',"Line No.","Document Type");

      TextFrm.EDITABLE := CurrPage.EDITABLE;
      TextFrm.RUNMODAL;
      CLEAR(TextFrm);
    END;

    PROCEDURE ShowPurchRouteRef@1210190004();
    BEGIN
      //**4PS
      RouteRefMgtCU.ShowReferenceList("Purchase Route Reference");
    END;

    PROCEDURE InitSelectionFromReference@1210190008(IOrderLineNo@1210190000 : Integer);
    BEGIN
      //**4PS
      gFromReference := TRUE;
      SETRANGE("Line No.", IOrderLineNo);
      CurrPage.UPDATE(FALSE);
    END;

    PROCEDURE VendorItemHyperlink@1100485000();
    VAR
      lvVendorRec@1100485000 : Record 23;
      lvItem@1100485002 : Code[20];
    BEGIN
      //**4PS
      IF "Trade Item" <> '' THEN
        lvItem := "Trade Item"
      ELSE
        IF "Item No." <> '' THEN
          lvItem := "Item No.";

      IF lvItem <> '' THEN BEGIN
        GetHeader;
        IF lvVendorRec.GET(PurchaseHeader."Buy-from Vendor No.") THEN BEGIN
          lvVendorRec.TESTFIELD("URL Vendor");
          HYPERLINK(lvVendorRec."URL Vendor" + lvItem)
        END;
      END;
    END;

    PROCEDURE DetermineBackOrderQuantity@1100485001();
    BEGIN
      //**4PS
      BackOrderQuantity := Quantity - "Qty. to Receive" - "Quantity Received";
      IF BackOrderQuantity < 0 THEN
        BackOrderQuantity := 0;
      IF BackOrderQuantity = 0 THEN
        "Expected Back Order Date" := 0D;
    END;

    PROCEDURE ShowPurchOrderPlantRentalRate@1100525000();
    VAR
      lvPlantSetupRec@1100525000 : Record 11012550;
    BEGIN
      //**4PS
      TESTFIELD("Plant Type");
      TESTFIELD("Plant No.", '');
      lvPlantSetupRec.GET;
      IF lvPlantSetupRec."Cost Component Rent" <> '' THEN
        TESTFIELD("Cost Component Plant", lvPlantSetupRec."Cost Component Rent")
      ELSE
        TESTFIELD("Cost Component Plant");

      FormPurchOrderPlantRentalRate(Rec,FALSE);
    END;

    PROCEDURE RejectRegistration@1100525001();
    VAR
      PurchaseLine@1100525003 : Record 39;
      RejectionLine@1100525002 : Record 11020374;
      RejectionLines@1100525000 : Page 11072044;
    BEGIN
      //**4PS
      PurchaseLine.COPY(Rec);
      CurrPage.SETSELECTIONFILTER(PurchaseLine);
      PurchaseLine.SETRANGE("Document Type","Document Type");
      PurchaseLine.SETRANGE("Document No.","Document No.");
      IF PurchaseLine.FINDSET THEN
        REPEAT
          RejectionLine.CreateRejectionLines(PurchaseLine)
        UNTIL PurchaseLine.NEXT = 0;

      RejectionLine.SETCURRENTKEY("Document Type","Document No.","Purchase Receipts No.","Document Line No.");
      RejectionLine.SETRANGE("Document Type",PurchaseLine."Document Type");
      RejectionLine.SETRANGE("Document No.",PurchaseLine."Document No.");
      RejectionLines.SETTABLEVIEW(RejectionLine);
      RejectionLines.RUN;
    END;

    PROCEDURE CreatePlantNumbersUnique@1100525002();
    VAR
      PurchaseLine@1100525000 : Record 39;
    BEGIN
      //**4PS
      PurchaseLine.COPY(Rec);
      CurrPage.SETSELECTIONFILTER(PurchaseLine);
      PurchaseLine.SETRANGE("Document Type","Document Type");
      PurchaseLine.SETRANGE("Document No.","Document No.");
      CODEUNIT.RUN(CODEUNIT::"Create Plant Nos. Purch. Lines", PurchaseLine);
    END;

    PROCEDURE EditLineDetails@1210190003();
    BEGIN
      //**4PS
      IF EditPurchaseLineDetails(QuantityIsEditable) THEN
        CurrPage.UPDATE(FALSE);
    END;

    PROCEDURE StartFastDataEntryForm@1100528800();
    VAR
      PurchLine@1100525000 : Record 39;
      FastDataEntryOrderInvoice@1100525002 : Page 11125017;
    BEGIN
      //**4PS
      IF "Line Type" ='' THEN
        EXIT;

      COMMIT;
      PurchLine := Rec;
      PurchLine.SETRECFILTER;
      PurchLine.SETRANGE("Line Type", "Line Type");
      FastDataEntryOrderInvoice.SETTABLEVIEW(PurchLine);
      FastDataEntryOrderInvoice.LOOKUPMODE := FALSE;
      FastDataEntryOrderInvoice.SETRECORD(PurchLine);
      FastDataEntryOrderInvoice.RUNMODAL;
      CurrPage.UPDATE(FALSE);
    END;

    PROCEDURE GS1ErrorLogDrillDown@1210190005();
    VAR
      GS1ErrorLog@1210190000 : Record 11072078;
    BEGIN
      //**4PS
      GS1ErrorLog.SETRANGE("Document Type", "Document Type");
      GS1ErrorLog.SETRANGE("Document No.", "Document No.");
      GS1ErrorLog.SETRANGE("Line No.", "Line No.");
      GS1ErrorLog.TableDrillDown(GS1ErrorLog);
    END;

    PROCEDURE GS1PurchaseOrderLogDrillDown@1210190007();
    VAR
      GS1PurchaseOrderLog@1210190000 : Record 11072079;
    BEGIN
      //**4PS
      GS1PurchaseOrderLog.SETRANGE("Document Type", "Document Type");
      GS1PurchaseOrderLog.SETRANGE("Document No.", "Document No.");
      GS1PurchaseOrderLog.SETRANGE("Line No.", "Line No.");
      GS1PurchaseOrderLog.TableDrillDown(GS1PurchaseOrderLog);
    END;

    LOCAL PROCEDURE ItemOnAfterValidate@19061248();
    BEGIN
      //**4PS
      SetEditable;
      IF ("Cost Type" = "Cost Type"::Material) AND ("No." <> '') THEN
        InsertExtendedText(FALSE);
    END;

    PROCEDURE SetEditable@1100525003();
    VAR
      ServiceOrder@1210190000 : Record 11012823;
    BEGIN
      //**4PS
      GetHeader;
      UpdateEditableOnRow;  //C056784

      NoIsEditable := ("Plant Type" = '') AND
        ("Job No." = '') AND ("Service Order No." = '');

      CostTypeEditable := (
        ("Item No." + "Basic Item" + "Trade Item" = ''));

      ItemEditable := ("Cost Type" = "Cost Type"::Material) OR ("Cost Type" = "Cost Type"::" ");
      IF (ItemEditable) THEN
        ItemEditable := ("Quantity Received" = 0); //#C013024.n

      TariffNoEditable := ("Item No." = '');
      NetWeightEditable := ("Item No." = '');
      PlantTypeEditable := ("Job No." = '');
      PlantNoEditable := ("Plant Type" <> '');
      CostComponentEditable :=
        (("Job No." <> '') AND JobsSetup."Cost Component Editable") OR
        (("Service Order No." <> '') AND ServiceSetup."Cost Component Editable") OR
        (("Job No." = '') AND ("Service Order No." = ''));
      TypeEditable := ("Job No." = '') AND ("Service Order No." = '') AND ("Plant Type" = '');

      IF "Document No." <> '' THEN
        StratPurchaseFieldsEditable := NOT NonStratPurchaserVendNoContr //**4PS.n 31593
      ELSE
        // When NonStratPurchaserVendNoContr is called in OnNewRecord (Document No. = '')
        // the RTC crashes because in this function TESTFIELD("Document No.") is called.
        StratPurchaseFieldsEditable := TRUE;

      QuantityEditable := (NOT PurchaseHeader."Amounts only") AND StratPurchaseFieldsEditable
        AND (NOT "Removal Contribution");  //**4PS

      AmountEditable := PurchaseHeader."Amounts only";

      IF PurchSetup."Invoice Purchase Orders" THEN BEGIN
        QtyToInvoiceEditable := (NOT PurchaseHeader."Amounts only");
        AmntToInvoiceEditable := (PurchaseHeader."Amounts only");
      END ELSE BEGIN
        QtyToInvoiceEditable :=  FALSE;
        AmntToInvoiceEditable := FALSE;
      END;

      ExpectedBackOrderDateEditable := (BackOrderQuantity <> 0);

      IF "Service Order No." <> '' THEN BEGIN
        IF NOT ServiceOrder.GET("Service Order No.") THEN
          ServiceOrder.INIT;
        IF ServiceOrder."Service Contract No." <> '' THEN
          AdditionalCostServiceEditable := (ServiceOrder."Source Type" <> ServiceOrder."Source Type"::Direct);
      END ELSE
        AdditionalCostServiceEditable := TRUE;
      AmountIncludingVATEditable := ("Manually VAT Posting");

      //C021402.sn
      NoProjectStockEditable := TRUE;
      IF ("Job No." = '') THEN
        NoProjectStockEditable := FALSE
      ELSE BEGIN
        IF (NOT InvtSetup.JobInventoryByLocationShelf("Job No.")) THEN
          NoProjectStockEditable := FALSE;
      END;
      //C021402.en

      SCClaimsEnabled := PurchaseHeader."Amounts only"
    END;

    LOCAL PROCEDURE CheckAdminCostLinePresent@1100485004(IRewriteAllowed@1210190010 : Boolean) : Boolean;
    VAR
      lvVendPostingGrpRec@1100485002 : Record 93;
      lvPurchLineRec@1100485003 : Record 39;
      PurchaseHeader@1210190000 : Record 38;
    BEGIN
      //**4PS
      PurchaseHeader.GET("Document Type", "Document No.");
      IF NOT lvVendPostingGrpRec.GET(PurchaseHeader."Vendor Posting Group") THEN
        EXIT(FALSE);
      IF (lvVendPostingGrpRec."Service Charge Acc." = '') THEN
        EXIT(FALSE);

      IF IRewriteAllowed THEN
        COMMIT;

      lvPurchLineRec.SETRANGE("Document Type", PurchaseHeader."Document Type");
      lvPurchLineRec.SETRANGE("Document No.", PurchaseHeader."No.");
      lvPurchLineRec.SETRANGE(Type, lvPurchLineRec.Type::"G/L Account");
      lvPurchLineRec.SETRANGE("No.", lvVendPostingGrpRec."Service Charge Acc.");
      IF lvPurchLineRec.FINDFIRST THEN BEGIN
        IF IRewriteAllowed THEN BEGIN
          IF NOT CONFIRM(Text11012005, TRUE) THEN BEGIN
            lvPurchLineRec.VALIDATE(Quantity, -lvPurchLineRec.Quantity);
            //**4PS.sn
            lvPurchLineRec."Modified by" := USERID; //DP00469
            lvPurchLineRec."Last Date Modified" := TODAY;//DP00469
            //**4PS.en
            lvPurchLineRec.MODIFY;
            lvPurchLineRec.CreatePurchOrderControl(FALSE);
          END;
        END;
        EXIT(TRUE);
      END;

      EXIT(FALSE);
    END;

    PROCEDURE ShowItemInventoryByCompany@1100528300();
    VAR
      AdviceOrderMgt@1100528300 : Codeunit 11012041;
    BEGIN
      AdviceOrderMgt.RunItemInventoryByCompany("Item No.");
    END;

    PROCEDURE SetReceiveMarkedOnly@1100525005() : Boolean;
    VAR
      PurchaseLine@1100525000 : Record 39;
      lvTellert@1100409000 : Integer;
    BEGIN
      //**4PS DP00556
      PurchaseLine.COPY(Rec);
      PurchaseLine.SETRANGE("Document Type","Document Type");
      PurchaseLine.SETRANGE("Document No.","Document No.");
      PurchaseLine.MODIFYALL("Marked for Receipt Run", FALSE, FALSE);

      CurrPage.SETSELECTIONFILTER(PurchaseLine);
      PurchaseLine.SETRANGE("Document Type","Document Type");
      PurchaseLine.SETRANGE("Document No.","Document No.");

      IF PurchaseLine.ISEMPTY THEN BEGIN
        EXIT(FALSE);
      END;

      lvTellert :=  PurchaseLine.COUNT;

      PurchaseLine.MODIFYALL("Marked for Receipt Run", TRUE, FALSE);
      EXIT(TRUE);
    END;

    PROCEDURE ReSetReceiveMarkedOnly@1100525006();
    VAR
      PurchaseLine@1100525000 : Record 39;
    BEGIN
      //**4PS DP00556
      PurchaseLine.COPY(Rec);
      PurchaseLine.SETRANGE("Document Type","Document Type");
      PurchaseLine.SETRANGE("Document No.","Document No.");
      PurchaseLine.MODIFYALL("Marked for Receipt Run", FALSE, FALSE);
    END;

    LOCAL PROCEDURE SelectMaterialInventory@1100525004();
    VAR
      StdObjectMaterialInvent@1100525000 : Page 11125181;
      ObjectMaterialInventory@1100525001 : Record 11071712;
      ServiceOrder@1100525002 : Record 11012823;
      ServiceOrderObject@1100525003 : Record 11071724;
      ServiceObjectFilter@1100525004 : Text;
    BEGIN
      //**4PS DP01829
      IF ServiceOrder.GET("Service Order No.") THEN BEGIN
        ServiceOrderObject.SETRANGE("Service Order No.", ServiceOrder."No.");
        IF ServiceOrderObject.FINDSET THEN BEGIN
          REPEAT
            ServiceObjectFilter := ServiceObjectFilter + ServiceOrderObject."Object No." + '|';
          UNTIL ServiceOrderObject.NEXT = 0;
          ServiceObjectFilter := COPYSTR(ServiceObjectFilter, 1, STRLEN(ServiceObjectFilter) - 1);
        END;
        ObjectMaterialInventory.SETFILTER(Code, ServiceObjectFilter);
        StdObjectMaterialInvent.SETTABLEVIEW(ObjectMaterialInventory);
        StdObjectMaterialInvent.LOOKUPMODE(TRUE);
        IF StdObjectMaterialInvent.RUNMODAL = ACTION::LookupOK THEN BEGIN
          StdObjectMaterialInvent.GetSelectedLines(ObjectMaterialInventory);
          IF ObjectMaterialInventory.FINDSET THEN
            REPEAT
              InsertServiceOrderObjectMaterialInventoryItem(ServiceOrder."No.", ObjectMaterialInventory);
            UNTIL ObjectMaterialInventory.NEXT = 0;
        END;
      END ELSE
        MESSAGE(Text11012009);
    END;

    LOCAL PROCEDURE QuantityIsEditable@1100529600() : Boolean;
    BEGIN
      //**4PS
      IF NOT CurrPage.EDITABLE THEN
        EXIT(FALSE);
      IF NOT QuantityEditable THEN
        EXIT(FALSE);
      IF "Extra Receipt Line" OR "Order Correction Line" THEN
        EXIT(TRUE);
      PurchaseHeader.GET("Document Type", "Document No.");
      EXIT(PurchaseHeader.Status = PurchaseHeader.Status::Open);
    END;

    BEGIN
    {
      4PS
      - Switch off MultiNewlines (formparameter) because of misrepresentation after collective copy of items
      4PS, 18-05-2015, C023496, Group totals set to invisible
      4PS 07-11-16 UKR-C21173 KD: New project inventory screen (BI006) - Action "Procurement Inspections" renamed to "Purchase Inspections"
      --- ExFlow --->
      Field       : Approve
      Field       : First Approver
      Field       : Applied Template Rule
      Field       : Template Rule
      Field       : Approval Flow Modified
      Field       : Fully Matched
      Action      : Approve (Code)
      <-- ExFlow ---
    }
    END.
  }
}

