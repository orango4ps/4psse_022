OBJECT Page 5237 Employee Ledger Entries
{
  OBJECT-PROPERTIES
  {
    Date=;
    Time=;
    Version List=NAVW114.00;
  }
  PROPERTIES
  {
    Permissions=TableData 5222=m;
    CaptionML=[ENU=Employee Ledger Entries;
               NOR=Ansattposter;
               SVE=Personaltransaktioner];
    ApplicationArea=#BasicHR;
    InsertAllowed=No;
    DeleteAllowed=No;
    SourceTable=Table5222;
    PageType=List;
    UsageCategory=History;
    PromotedActionCategoriesML=[ENU=New,Process,Report,Entry;
                                NOR=Ny,Prosess,Rapport,Oppfõring;
                                SVE=Ny,Process,Rapport,Transaktion];
    ActionList=ACTIONS
    {
      { 22      ;0   ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 21      ;1   ;ActionGroup;
                      CaptionML=[ENU=Ent&ry;
                                 NOR=P&ost;
                                 SVE=Trans&aktion];
                      Image=Entry }
      { 18      ;2   ;Action    ;
                      CaptionML=[ENU=Applied E&ntries;
                                 NOR=Utlignede p&oster;
                                 SVE=Kopplade tra&nsaktioner];
                      ToolTipML=[ENU=View the ledger entries that have been applied to this record.;
                                 NOR=Vis postene som har blitt utlignet for denne posten.;
                                 SVE=Visa transaktionerna som har tillÑmpats pÜ denna post.];
                      ApplicationArea=#BasicHR;
                      RunObject=Page 63;
                      RunPageOnRec=Yes;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Approve;
                      PromotedCategory=Category4;
                      Scope=Repeater }
      { 17      ;2   ;Action    ;
                      AccessByPermission=TableData 348=R;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=[ENU=Dimensions;
                                 NOR=Dimensjoner;
                                 SVE=Dimensioner];
                      ToolTipML=[ENU=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
                                 NOR=Vis eller rediger dimensjoner, for eksempel omrÜde, prosjekt eller avdeling, som du kan tilordne til salgs- og kjõpsdokumenter for Ü distribuere kostnader og analysere transaksjonshistorikk.;
                                 SVE=Visa eller redigera mÜtt, till exempel omrÜde, projekt eller avdelning, som du kan tilldela till fîrsÑljnings- och inkîpsdokument fîr att fîrdela kostnader och analysera transaktionshistorik.];
                      ApplicationArea=#Dimensions;
                      Promoted=Yes;
                      Image=Dimensions;
                      PromotedCategory=Category4;
                      Scope=Repeater;
                      OnAction=BEGIN
                                 ShowDimensions;
                               END;
                                }
      { 15      ;2   ;Action    ;
                      ShortCutKey=Ctrl+F7;
                      CaptionML=[ENU=Detailed &Ledger Entries;
                                 NOR=Detaljerte &poster;
                                 SVE=Detaljerad &reskontra];
                      ToolTipML=[ENU=View a summary of the all posted entries and adjustments related to a specific employee ledger entry;
                                 NOR=Vis et sammendrag av alle bokfõrte poster og justeringer som er knyttet til en bestemt ansattpost;
                                 SVE=Visa en îversikt av alla bokfîrda transaktioner och justeringar som rîr en viss personaltransaktion.];
                      ApplicationArea=#BasicHR;
                      RunObject=Page 5238;
                      RunPageView=SORTING(Employee Ledger Entry No.,Posting Date);
                      RunPageLink=Employee Ledger Entry No.=FIELD(Entry No.),
                                  Employee No.=FIELD(Employee No.);
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=View;
                      PromotedCategory=Category4;
                      Scope=Repeater }
      { 30      ;2   ;Action    ;
                      Name=Navigate;
                      CaptionML=[ENU=&Navigate;
                                 NOR=&Naviger;
                                 SVE=Anal&ysera];
                      ToolTipML=[ENU=Find all entries and documents that exist for the document number and posting date on the selected entry or document.;
                                 NOR=Finn alle oppfõringer og dokumenter som finnes for dokumentnummeret og bokfõringsdatoen i den valgte oppfõringen eller dokumentet.;
                                 SVE=Sîk efter alla transaktioner och dokument som existerar fîr dokumentnumret och bokfîringsdatumet fîr den valda transaktionen eller det valda dokumentet.];
                      ApplicationArea=#BasicHR;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Navigate;
                      PromotedCategory=Category4;
                      OnAction=VAR
                                 Navigate@1000 : Page 344;
                               BEGIN
                                 Navigate.SetDoc("Posting Date","Document No.");
                                 Navigate.RUN;
                               END;
                                }
      { 14      ;0   ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 13      ;1   ;ActionGroup;
                      CaptionML=[ENU=F&unctions;
                                 NOR=F&unksjoner;
                                 SVE=F&unktion];
                      Image=Action }
      { 12      ;2   ;Action    ;
                      Name=ActionApplyEntries;
                      ShortCutKey=Shift+F11;
                      CaptionML=[ENU=Apply Entries;
                                 NOR=Utlign poster;
                                 SVE=Koppla transaktioner];
                      ToolTipML=[ENU=Select one or more ledger entries that you want to apply this record to so that the related posted documents are closed as paid or refunded.;
                                 NOR=Velg Çn eller flere poster du vil utligne mot denne posten slik at de relaterte bokfõrte dokumentene lukkes som betalte eller refunderte.;
                                 SVE=VÑlj en eller flera transaktioner som du vill tillÑmpa den hÑr posten pÜ sÜ att relaterade bokfîrda dokument anges vara betalda eller Üterbetalda.];
                      ApplicationArea=#BasicHR;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=ApplyEntries;
                      PromotedCategory=Process;
                      Scope=Repeater;
                      OnAction=VAR
                                 EmployeeLedgerEntry@1001 : Record 5222;
                                 EmplEntryApplyPostedEntries@1000 : Codeunit 224;
                               BEGIN
                                 EmployeeLedgerEntry.COPY(Rec);
                                 EmplEntryApplyPostedEntries.ApplyEmplEntryFormEntry(EmployeeLedgerEntry);
                                 Rec := EmployeeLedgerEntry;
                                 GET("Entry No.");
                                 CurrPage.UPDATE;
                               END;
                                }
      { 9       ;2   ;Separator  }
      { 8       ;2   ;Action    ;
                      Name=UnapplyEntries;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Unapply Entries;
                                 NOR=Opphev utligning;
                                 SVE=Ta bort koppling pÜ trans.];
                      ToolTipML=[ENU=Unselect one or more ledger entries that you want to unapply this record.;
                                 NOR=Opphev merkingen av Çn eller flere poster du vil oppheve utligningen av denne posten for.;
                                 SVE=Avmarkera en eller flera transaktioner som du inte lÑngre vill ska gÑlla denna post.];
                      ApplicationArea=#BasicHR;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=UnApply;
                      PromotedCategory=Process;
                      Scope=Repeater;
                      OnAction=VAR
                                 EmplEntryApplyPostedEntries@1000 : Codeunit 224;
                               BEGIN
                                 EmplEntryApplyPostedEntries.UnApplyEmplLedgEntry("Entry No.");
                               END;
                                }
      { 35      ;2   ;Action    ;
                      Name=CreatePayment;
                      CaptionML=[ENU=Create Payment;
                                 NOR=Opprett betaling;
                                 SVE=Skapa betalning];
                      ToolTipML=[ENU=Create a payment journal based on the selected entries.;
                                 NOR=Opprett en betalingskladd basert pÜ de valgte postene.;
                                 SVE=Skapa en utbetalningsjournal baserat pÜ de markerade transaktionerna.];
                      ApplicationArea=#BasicHR;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=SuggestVendorPayments;
                      PromotedCategory=Process;
                      OnAction=VAR
                                 EmployeeLedgerEntry@1000 : Record 5222;
                                 GenJournalBatch@1001 : Record 232;
                                 GenJnlManagement@1002 : Codeunit 230;
                               BEGIN
                                 CurrPage.SETSELECTIONFILTER(EmployeeLedgerEntry);
                                 IF CreateEmployeePayment.RUNMODAL = ACTION::OK THEN BEGIN
                                   CreateEmployeePayment.MakeGenJnlLines(EmployeeLedgerEntry);
                                   GetBatchRecord(GenJournalBatch);
                                   GenJnlManagement.TemplateSelectionFromBatch(GenJournalBatch);
                                   CLEAR(CreateEmployeePayment);
                                 END ELSE
                                   CLEAR(CreateEmployeePayment);
                               END;
                                }
      { 37      ;2   ;Action    ;
                      Name=ReverseTransaction;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Reverse Transaction;
                                 NOR=Tilbakefõr transaksjon;
                                 SVE=èterfîr transaktion];
                      ToolTipML=[ENU=Reverse an erroneous employee ledger entry.;
                                 NOR=Tilbakefõr en ansattpost som inneholder feil.;
                                 SVE=Ta bort en felaktig personaltransaktion.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Image=ReverseRegister;
                      PromotedCategory=Process;
                      Scope=Repeater;
                      OnAction=VAR
                                 ReversalEntry@1000 : Record 179;
                               BEGIN
                                 CLEAR(ReversalEntry);
                                 IF Reversed THEN
                                   ReversalEntry.AlreadyReversedEntry(TABLECAPTION,"Entry No.");
                                 IF "Journal Batch Name" = '' THEN
                                   ReversalEntry.TestFieldError;
                                 TESTFIELD("Transaction No.");
                                 ReversalEntry.ReverseTransaction("Transaction No.");
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1   ;0   ;Container ;
                ContainerType=ContentArea }

    { 2   ;1   ;Group     ;
                Name=Group;
                GroupType=Repeater }

    { 5   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the employee entry's posting date.;
                           NOR=Angir ansattpostens bokfõringsdato.;
                           SVE=Anger personaltransaktionens bokfîringsdatum.];
                ApplicationArea=#BasicHR;
                SourceExpr="Posting Date";
                Editable=FALSE }

    { 23  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the document type that the employee entry belongs to.;
                           NOR=Angir dokumenttypen som ansattposten tilhõrer.;
                           SVE=Anger dokumenttypen som personaltransaktionen hîr till.];
                ApplicationArea=#BasicHR;
                SourceExpr="Document Type";
                Editable=FALSE }

    { 6   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the employee entry's document number.;
                           NOR=Angir ansattpostens dokumentnummer.;
                           SVE=Anger personaltransaktionens verifikationsnummer.];
                ApplicationArea=#BasicHR;
                SourceExpr="Document No.";
                Editable=FALSE }

    { 4   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the employee that the entry is linked to.;
                           NOR=Angir nummeret for den ansatte som er knyttet til posten.;
                           SVE=Anger numret pÜ personal som transaktionen Ñr kopplad till.];
                ApplicationArea=#BasicHR;
                SourceExpr="Employee No.";
                Editable=FALSE }

    { 24  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the message exported to the payment file when you use the Export Payments to File function in the Payment Journal window.;
                           NOR=Angir meldingen som eksporteres til betalingsfilen nÜr du bruker funksjonen Eksporter betalinger til fil i vinduet Betalingskladd.;
                           SVE=Anger meddelandet som exporteras till betalningsfilen nÑr du anvÑnder funktionen Exportera betalningar till fil i fînstret Utbetalningsjournal.];
                ApplicationArea=#BasicHR;
                SourceExpr="Message to Recipient" }

    { 7   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a description of the employee entry.;
                           NOR=Angir en beskrivelse av ansattposten.;
                           SVE=Anger en beskrivning av personaltransaktionen.];
                ApplicationArea=#BasicHR;
                SourceExpr=Description;
                Editable=FALSE }

    { 25  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the payment method that was used to make the payment that resulted in the entry.;
                           NOR=Angir betalingsmÜten som ble brukt til Ü utfõre betalingen som resulterte i posten.;
                           SVE=Anger den betalningsmetod som anvÑndes fîr att gîra betalningen som resulterade i posten.];
                ApplicationArea=#BasicHR;
                SourceExpr="Payment Method Code" }

    { 11  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the amount of the original entry.;
                           NOR=Angir belõpet for den opprinnelige posten.;
                           SVE=Anger den ursprungliga transaktionens belopp.];
                ApplicationArea=#BasicHR;
                SourceExpr="Original Amount" }

    { 10  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the amount that the entry originally consisted of, in LCY.;
                           NOR=Angir belõpet som posten opprinnelig bestod av i NOK.;
                           SVE=Anger beloppet som transaktionen ursprungligen bestod av. Det visas i BVA.];
                ApplicationArea=#BasicHR;
                SourceExpr="Original Amt. (LCY)";
                Visible=FALSE }

    { 19  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the amount of the entry.;
                           NOR=Angir belõpet for posten.;
                           SVE=Anger transaktionsbeloppet.];
                ApplicationArea=#BasicHR;
                SourceExpr=Amount }

    { 26  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the amount of the entry in LCY.;
                           NOR=Angir belõpet for posten i NOK.;
                           SVE=Anger transaktionsbeloppet i BVA.];
                ApplicationArea=#BasicHR;
                SourceExpr="Amount (LCY)";
                Visible=FALSE }

    { 20  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the amount that remains to be applied to before the entry is totally applied to.;
                           NOR=Angir belõpet som gjenstÜr Ü bli utlignet, fõr posten utlignes helt.;
                           SVE=Anger beloppet som ÜterstÜr att anvÑnda innan transaktionen Ñr helt anvÑnd.];
                ApplicationArea=#BasicHR;
                SourceExpr="Remaining Amount" }

    { 27  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the amount that remains to be applied to before the entry is totally applied to.;
                           NOR=Angir belõpet som gjenstÜr Ü bli utlignet, fõr posten utlignes helt.;
                           SVE=Anger beloppet som ÜterstÜr att anvÑnda innan transaktionen Ñr helt anvÑnd.];
                ApplicationArea=#BasicHR;
                SourceExpr="Remaining Amt. (LCY)" }

    { 29  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of balancing account that is used for the entry.;
                           NOR=Angir hvilken type motkonto som brukes for posten.;
                           SVE=Anger typen av balanskonto som anvÑnds fîr transaktionen.];
                ApplicationArea=#BasicHR;
                SourceExpr="Bal. Account Type";
                Visible=FALSE;
                Editable=FALSE }

    { 28  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the balancing account that is used for the entry.;
                           NOR=Angir nummeret for motkontoen som brukes for posten.;
                           SVE=Anger numret pÜ balanskontot som anvÑnds fîr transaktionen.];
                ApplicationArea=#BasicHR;
                SourceExpr="Bal. Account No.";
                Visible=FALSE;
                Editable=FALSE }

    { 16  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether the amount on the entry has been fully paid or there is still a remaining amount that must be applied to.;
                           NOR=Angir om posten er helt utlignet, eller om det stadig gjenstÜr Ü utligne et belõp.;
                           SVE=Anger om postens belopp har betalats eller om det ÜterstÜr ett belopp som mÜste betalas.];
                ApplicationArea=#BasicHR;
                SourceExpr=Open;
                Editable=FALSE }

    { 31  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the amount to apply.;
                           NOR=Angir belõpet som skal utlignes.;
                           SVE=Anger belopp att koppla.];
                ApplicationArea=#BasicHR;
                SourceExpr="Amount to Apply";
                Visible=FALSE }

    { 32  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the ID of entries that will be applied to when you choose the Apply Entries action.;
                           NOR=Angir ID-en for postene som blir utlignet nÜr du velger handlingen Utlign poster.;
                           SVE=Anger ID-numret fîr transaktioner som kopplas nÑr du vÑljer ÜtgÑrden Koppla transaktioner.];
                ApplicationArea=#BasicHR;
                SourceExpr="Applies-to ID";
                Visible=FALSE }

    { 33  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether the entry will be applied to when you choose the Apply Entries action.;
                           NOR=Angir om posten blir utlignet nÜr du velger handlingen Utlign poster.;
                           SVE=Anger om transaktionen kopplas nÑr du vÑljer ÜtgÑrden Koppla transaktioner.];
                ApplicationArea=#BasicHR;
                SourceExpr="Applying Entry";
                Visible=FALSE }

    { 34  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that the entry was created as a result of exporting a payment journal line.;
                           NOR=Angir at posten ble opprettet som et resultat av eksport av en utbetalingskladdelinje.;
                           SVE=Anger att transaktionen skapades genom att en utbetalningsjournalrad exporterades.];
                ApplicationArea=#BasicHR;
                SourceExpr="Exported to Payment File";
                Visible=FALSE;
                Editable=TRUE }

    { 36  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the payment of the employee document.;
                           NOR=Angir betalingen for ansattdokumentet.;
                           SVE=Anger betalningen fîr personaldokumentet.];
                ApplicationArea=#BasicHR;
                SourceExpr="Payment Reference";
                Visible=FALSE }

    { 3   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the entry number that is assigned to the entry.;
                           NOR=Angir oppfõringsnummeret som er knyttet til posten.;
                           SVE=Anger det transaktionsnummer som har tilldelats transaktionen.];
                ApplicationArea=#BasicHR;
                SourceExpr="Entry No.";
                Editable=FALSE }

  }
  CODE
  {
    VAR
      CreateEmployeePayment@1000 : Page 1191;

    LOCAL PROCEDURE GetBatchRecord@1(VAR GenJournalBatch@1002 : Record 232);
    VAR
      GenJournalTemplate@1001 : Record 80;
      JournalTemplateName@1000 : Code[10];
      JournalBatchName@1003 : Code[10];
    BEGIN
      GenJournalTemplate.RESET;
      GenJournalTemplate.SETRANGE(Type,GenJournalTemplate.Type::Payments);
      GenJournalTemplate.SETRANGE(Recurring,FALSE);
      IF GenJournalTemplate.FINDFIRST THEN
        JournalTemplateName := GenJournalTemplate.Name;

      JournalBatchName := CreateEmployeePayment.GetBatchNumber;

      GenJournalTemplate.GET(JournalTemplateName);
      GenJournalBatch.GET(JournalTemplateName,JournalBatchName);
    END;

    BEGIN
    END.
  }
}

