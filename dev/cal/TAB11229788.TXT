OBJECT Table 11229788 Sales Recipe
{
  OBJECT-PROPERTIES
  {
    Date=;
    Time=;
    Version List=4PS14.00;
  }
  PROPERTIES
  {
    OnDelete=VAR
               RecipeLineRec@1100525000 : Record 11229789;
             BEGIN
               RecipeLineRec.SETRANGE("Sales Document Type", "Sales Document Type" );
               RecipeLineRec.SETRANGE("Sales Document No.",  "Sales Document No.");
               RecipeLineRec.SETRANGE("Sales Line No.", "Sales Line No.");
               RecipeLineRec.SETRANGE("Recipe Group","Recipe Group");
               RecipeLineRec.SETRANGE(Recipe,"No.");
               RecipeLineRec.DELETEALL(TRUE);
             END;

    CaptionML=[ENU=Recipe;
               NOR=Mal;
               SVE=Mall];
  }
  FIELDS
  {
    { 2   ;   ;Sales Document Type ;Option        ;CaptionML=[ENU=Document Type;
                                                              NOR=Bilagstype;
                                                              SVE=Dokumenttyp];
                                                   OptionCaptionML=[ENU=Quote,Order,Invoice,Credit Memo,Blanket Order,Return Order,Invoice Proposal;
                                                                    NOR=Tilbud,Ordre,Faktura,Kreditnota,Rammeordre ,Returordre,Fakturaforslag;
                                                                    SVE=Offert,Order,Faktura,Kreditnota,Avropsorder,Returorder,Fakturafîrslag];
                                                   OptionString=Quote,Order,Invoice,Credit Memo,Blanket Order,Return Order,Invoice Proposal }
    { 3   ;   ;Sales Document No.  ;Code20        ;TableRelation="Sales Header".No. WHERE (Document Type=FIELD(Sales Document Type));
                                                   CaptionML=[ENU=Document No.;
                                                              NOR=Dokumentnr.;
                                                              SVE=Dokumentnr] }
    { 4   ;   ;Sales Line No.      ;Integer       ;CaptionML=[ENU=Line No.;
                                                              NOR=Linjenr.;
                                                              SVE=Radnr] }
    { 5   ;   ;Recipe Group        ;Code10        ;TableRelation="Recipe Group";
                                                   CaptionML=[ENU=Recipe Group;
                                                              NOR=Maltype;
                                                              SVE=Malltyp];
                                                   NotBlank=Yes }
    { 10  ;   ;No.                 ;Code20        ;OnValidate=VAR
                                                                MainRec@1210190000 : Record 11229788;
                                                                RecipeLineRec@1100409007 : Record 11229789;
                                                                RecipeLineRec2@1100409006 : Record 11229789;
                                                                ChrgRec@1100409003 : Record 11229771;
                                                                ChrgRec2@1100409002 : Record 11229771;
                                                              BEGIN
                                                                //db.sn, 18-08-11: M28184
                                                                IF "No." <> xRec."No." THEN BEGIN
                                                                  MainRec := xRec;
                                                                  IF MainRec.FIND THEN BEGIN
                                                                    RecipeLineRec.SETRANGE("Sales Document Type", "Sales Document Type" );
                                                                    RecipeLineRec.SETRANGE("Sales Document No.",  "Sales Document No.");
                                                                    RecipeLineRec.SETRANGE("Sales Line No.", "Sales Line No.");
                                                                    RecipeLineRec.SETRANGE("Recipe Group",xRec."Recipe Group");
                                                                    RecipeLineRec.SETRANGE(Recipe,xRec."No.");
                                                                    IF RecipeLineRec.FINDSET(TRUE, FALSE) THEN BEGIN
                                                                      REPEAT
                                                                        RecipeLineRec2.COPY(RecipeLineRec);
                                                                        RecipeLineRec2."Recipe Group" := "Recipe Group";
                                                                        RecipeLineRec2.Recipe := "No.";
                                                                        RecipeLineRec2.INSERT;
                                                                      UNTIL RecipeLineRec.NEXT = 0;
                                                                      RecipeLineRec.DELETEALL;
                                                                    END;

                                                                    ChrgRec.SETFILTER("Estimate No.", '%1', '');
                                                                    ChrgRec.SETRANGE("Sales Document Type", "Sales Document Type" );
                                                                    ChrgRec.SETRANGE("Sales Document No.",  "Sales Document No.");
                                                                    ChrgRec.SETRANGE("Sales Line No.", "Sales Line No.");
                                                                    ChrgRec.SETRANGE("Recipe Group",xRec."Recipe Group");
                                                                    ChrgRec.SETRANGE(Recipe,xRec."No.");
                                                                    IF ChrgRec.FINDSET(TRUE, FALSE) THEN BEGIN
                                                                      REPEAT
                                                                        ChrgRec2.COPY(ChrgRec);
                                                                        ChrgRec2."Recipe Group" := "Recipe Group";
                                                                        ChrgRec2.Recipe := "No.";
                                                                        ChrgRec2.INSERT;
                                                                      UNTIL ChrgRec.NEXT = 0;
                                                                      ChrgRec.DELETEALL;
                                                                    END;
                                                                  END;
                                                                END;
                                                                //db.en, 18-08-11: M28184
                                                              END;

                                                   CaptionML=[ENU=No.;
                                                              NOR=Nr;
                                                              SVE=Nr];
                                                   NotBlank=Yes;
                                                   Description=Recipe Code }
    { 20  ;   ;Description         ;Text100       ;CaptionML=[ENU=Description;
                                                              NOR=Beskrivelse;
                                                              SVE=Beskrivning] }
    { 25  ;   ;Recipe Group Description;Text50    ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("Recipe Group".Description WHERE (No.=FIELD(Recipe Group)));
                                                   CaptionML=[ENU=Recipe Group Description;
                                                              NOR=Beskrivelse av maltype;
                                                              SVE=Malltypsbeskrivning];
                                                   Editable=No }
    { 30  ;   ;Unit of Measure     ;Code10        ;TableRelation="Unit of Measure".Code;
                                                   CaptionML=[ENU=Unit of Measure;
                                                              NOR=Enhet;
                                                              SVE=MÜttenhet] }
    { 40  ;   ;Manufacturer        ;Code20        ;TableRelation="ETIM Vendor - Central Mgt".Code;
                                                   CaptionML=[ENU=Manufacturer;
                                                              NOR=Produsent;
                                                              SVE=Tillverkare] }
    { 45  ;   ;Rate Group          ;Code10        ;TableRelation="Rate Group".No.;
                                                   CaptionML=[ENU=Rate Group;
                                                              NOR=Kostgruppe;
                                                              SVE=Kostnadsgrupp] }
    { 46  ;   ;Rate Code           ;Code10        ;TableRelation="Budget Rate".Code;
                                                   CaptionML=[ENU=Rate Code;
                                                              NOR=Avgiftskode;
                                                              SVE=Avgiftskod];
                                                   Description=[DP00381: lookup (TableRelation) changed; function CheckRate expired] }
    { 50  ;   ;Norm Group          ;Code10        ;TableRelation="Norm Group".Code;
                                                   OnValidate=VAR
                                                                RecipeLineRec@1100525000 : Record 11229789;
                                                              BEGIN
                                                                IF "Norm Group" <> xRec."Norm Group" THEN BEGIN
                                                                  TESTFIELD(Fixed, FALSE);
                                                                  IF CONFIRM(Text000,FALSE) THEN BEGIN
                                                                    RecipeLineRec.SETRANGE("Sales Document Type", "Sales Document Type" );
                                                                    RecipeLineRec.SETRANGE("Sales Document No.",  "Sales Document No.");
                                                                    RecipeLineRec.SETRANGE("Sales Line No.", "Sales Line No.");
                                                                    RecipeLineRec.SETRANGE("Recipe Group","Recipe Group");
                                                                    RecipeLineRec.SETRANGE(Recipe,"No.");
                                                                    IF RecipeLineRec.FINDSET(TRUE, FALSE) THEN BEGIN
                                                                      REPEAT
                                                                        RecipeLineRec."Norm Group" := "Norm Group";
                                                                        RecipeLineRec.DetermineNorm;
                                                                        RecipeLineRec.MODIFY;
                                                                      UNTIL RecipeLineRec.NEXT = 0;
                                                                    END;
                                                                  END;
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Norm Group;
                                                              NOR=Normgruppe;
                                                              SVE=Normgrupp] }
    { 60  ;   ;Hours               ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Sales Recipe Line".Hours WHERE (Sales Document Type=FIELD(Sales Document Type),
                                                                                                    Sales Document No.=FIELD(Sales Document No.),
                                                                                                    Sales Line No.=FIELD(Sales Line No.),
                                                                                                    Recipe Group=FIELD(Recipe Group),
                                                                                                    Recipe=FIELD(No.)));
                                                   CaptionML=[ENU=Hours;
                                                              NOR="Timer ";
                                                              SVE=Timmar];
                                                   DecimalPlaces=2:;
                                                   Editable=No }
    { 61  ;   ;Labor Cost Amount   ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Sales Recipe Line"."Labor Cost Amount" WHERE (Sales Document Type=FIELD(Sales Document Type),
                                                                                                                  Sales Document No.=FIELD(Sales Document No.),
                                                                                                                  Sales Line No.=FIELD(Sales Line No.),
                                                                                                                  Recipe Group=FIELD(Recipe Group),
                                                                                                                  Recipe=FIELD(No.)));
                                                   CaptionML=[ENU=Labor Cost Amount;
                                                              SVE=Arbetskraft];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 62  ;   ;Material Cost Amount;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Sales Recipe Line"."Net Cost Amount" WHERE (Sales Document Type=FIELD(Sales Document Type),
                                                                                                                Sales Document No.=FIELD(Sales Document No.),
                                                                                                                Sales Line No.=FIELD(Sales Line No.),
                                                                                                                Recipe Group=FIELD(Recipe Group),
                                                                                                                Recipe=FIELD(No.),
                                                                                                                Cost Type (Price)=CONST(Material)));
                                                   CaptionML=[ENU=Material Cost Amount;
                                                              SVE=Material];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 63  ;   ;Subcontracting Cost Amount;Decimal ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Sales Recipe Line"."Net Cost Amount" WHERE (Sales Document Type=FIELD(Sales Document Type),
                                                                                                                Sales Document No.=FIELD(Sales Document No.),
                                                                                                                Sales Line No.=FIELD(Sales Line No.),
                                                                                                                Recipe Group=FIELD(Recipe Group),
                                                                                                                Recipe=FIELD(No.),
                                                                                                                Cost Type (Price)=CONST(Subcontracting)));
                                                   CaptionML=[ENU=Subcontracting Cost Amount;
                                                              SVE=Underentreprenad];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 64  ;   ;Plant Cost Amount   ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Sales Recipe Line"."Net Cost Amount" WHERE (Sales Document Type=FIELD(Sales Document Type),
                                                                                                                Sales Document No.=FIELD(Sales Document No.),
                                                                                                                Sales Line No.=FIELD(Sales Line No.),
                                                                                                                Recipe Group=FIELD(Recipe Group),
                                                                                                                Recipe=FIELD(No.),
                                                                                                                Cost Type (Price)=CONST(Plant)));
                                                   CaptionML=[ENU=Plant Cost Amount;
                                                              SVE=Maskin];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 65  ;   ;Cost Amount         ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Sales Recipe Line"."Cost Amount" WHERE (Sales Document Type=FIELD(Sales Document Type),
                                                                                                            Sales Document No.=FIELD(Sales Document No.),
                                                                                                            Sales Line No.=FIELD(Sales Line No.),
                                                                                                            Recipe Group=FIELD(Recipe Group),
                                                                                                            Recipe=FIELD(No.)));
                                                   CaptionML=[ENU=Cost Amount;
                                                              NOR=Kostbelõp;
                                                              SVE=Kostnadsbelopp];
                                                   NotBlank=No;
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 66  ;   ;Material Gross Amount;Decimal      ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Sales Recipe Line"."Gross Amount" WHERE (Sales Document Type=FIELD(Sales Document Type),
                                                                                                             Sales Document No.=FIELD(Sales Document No.),
                                                                                                             Sales Line No.=FIELD(Sales Line No.),
                                                                                                             Recipe Group=FIELD(Recipe Group),
                                                                                                             Recipe=FIELD(No.),
                                                                                                             Cost Type (Price)=CONST(Material)));
                                                   CaptionML=[ENU=Material Gross Amount;
                                                              SVE=Bruttobelopp];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 67  ;   ;Buy Back Amount     ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Sales Recipe Line"."Buy Back Amount" WHERE (Sales Document Type=FIELD(Sales Document Type),
                                                                                                                Sales Document No.=FIELD(Sales Document No.),
                                                                                                                Sales Line No.=FIELD(Sales Line No.),
                                                                                                                Recipe Group=FIELD(Recipe Group),
                                                                                                                Recipe=FIELD(No.)));
                                                   CaptionML=[ENU=Buy Back Amount;
                                                              NOR=Tilbakekjõpsbelõp;
                                                              SVE=èterkîpsbelopp];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 68  ;   ;Total Weight        ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Sales Recipe Line"."Total Weight" WHERE (Sales Document Type=FIELD(Sales Document Type),
                                                                                                             Sales Document No.=FIELD(Sales Document No.),
                                                                                                             Sales Line No.=FIELD(Sales Line No.),
                                                                                                             Recipe Group=FIELD(Recipe Group),
                                                                                                             Recipe=FIELD(No.)));
                                                   CaptionML=[ENU=Total Weight;
                                                              NOR=Totalvekt;
                                                              SVE=Totalvikt];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 70  ;   ;Blocked             ;Boolean       ;CaptionML=[ENU=Blocked;
                                                              NOR=Blokkert;
                                                              SVE=SpÑrrad] }
    { 80  ;   ;Length              ;Decimal       ;OnValidate=BEGIN
                                                                VALIDATE(Volume);
                                                              END;

                                                   CaptionML=[ENU=Length;
                                                              NOR=Lengde;
                                                              SVE=LÑngd];
                                                   DecimalPlaces=0:5 }
    { 81  ;   ;Width               ;Decimal       ;OnValidate=BEGIN
                                                                VALIDATE(Volume);
                                                              END;

                                                   CaptionML=[ENU=Width;
                                                              NOR=Bredde;
                                                              SVE=Bredd];
                                                   DecimalPlaces=0:5 }
    { 82  ;   ;Height              ;Decimal       ;OnValidate=BEGIN
                                                                VALIDATE(Volume);
                                                              END;

                                                   CaptionML=[ENU=Height;
                                                              NOR=Hõyde;
                                                              SVE=Hîjd];
                                                   DecimalPlaces=0:5 }
    { 85  ;   ;Packaging Unit      ;Code10        ;TableRelation="Unit of Measure";
                                                   CaptionML=[ENU=Packaging Unit;
                                                              NOR=Pakkeenhet;
                                                              SVE=Fîrpackningsenhet] }
    { 86  ;   ;Volume              ;Decimal       ;OnValidate=VAR
                                                                lv1@1210190000 : Decimal;
                                                                lv2@1210190001 : Decimal;
                                                                lv3@1210190002 : Decimal;
                                                              BEGIN
                                                                lv1 := Length;
                                                                lv2 := Width;
                                                                lv3 := Height;
                                                                IF (lv1 = 0) AND (lv2 = 0) AND (lv3 = 0) THEN BEGIN
                                                                  Volume := 0;
                                                                  EXIT;
                                                                END;

                                                                IF Length = 0 THEN lv1 := 1;
                                                                IF Width = 0 THEN lv2 := 1;
                                                                IF Height = 0 THEN lv3 := 1;

                                                                Volume := lv1 * lv2 * lv3;
                                                              END;

                                                   CaptionML=[ENU=Volume;
                                                              NOR=Volum;
                                                              SVE=Volym];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 90  ;   ;Coding System       ;Code10        ;TableRelation="Coding System";
                                                   OnValidate=VAR
                                                                RecipeLineRec@1210190001 : Record 11229789;
                                                              BEGIN
                                                                RecipeLineRec.SETRANGE("Sales Document Type", "Sales Document Type" );
                                                                RecipeLineRec.SETRANGE("Sales Document No.",  "Sales Document No.");
                                                                RecipeLineRec.SETRANGE("Sales Line No.", "Sales Line No.");
                                                                RecipeLineRec.SETRANGE("Recipe Group", "Recipe Group");
                                                                RecipeLineRec.SETRANGE(Recipe, "No.");
                                                                RecipeLineRec.MODIFYALL(Code, '');
                                                              END;

                                                   CaptionML=[ENU=Coding System;
                                                              NOR=Kodingssystem;
                                                              SVE=Kodningssystem] }
    { 100 ;   ;Fixed               ;Boolean       ;CaptionML=[ENU=Fixed;
                                                              NOR=Fast;
                                                              SVE=Fast] }
    { 110 ;   ;Condition           ;Code10        ;TableRelation=Condition.Code;
                                                   CaptionML=[ENU=Condition;
                                                              NOR=Betingelse;
                                                              SVE=Villkor] }
    { 115 ;   ;Condition Group     ;Code20        ;TableRelation="Base Recipe".No. WHERE (Recipe Group=FIELD(Recipe Group));
                                                   CaptionML=[ENU=Condition Group;
                                                              NOR=Betingelsesgruppe;
                                                              SVE=Villkorsgrupp] }
    { 117 ;   ;Picture             ;BLOB          ;CaptionML=[ENU=Picture;
                                                              NOR=Bilde;
                                                              SVE=Bild];
                                                   SubType=Bitmap }
    { 120 ;   ;Comment             ;Boolean       ;FieldClass=FlowField;
                                                   CalcFormula=Exist("Comment Line (Group)" WHERE (Table Name=CONST(Estimate),
                                                                                                   Group=FIELD(Recipe Group),
                                                                                                   No.=FIELD(No.)));
                                                   CaptionML=[ENU=Comment;
                                                              NOR=Merknad;
                                                              SVE=Kommentar];
                                                   Editable=No }
    { 2000;   ;Sundry Cost Amount  ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Sales Recipe Line"."Net Cost Amount" WHERE (Sales Document Type=FIELD(Sales Document Type),
                                                                                                                Sales Document No.=FIELD(Sales Document No.),
                                                                                                                Sales Line No.=FIELD(Sales Line No.),
                                                                                                                Recipe Group=FIELD(Recipe Group),
                                                                                                                Recipe=FIELD(No.),
                                                                                                                Cost Type (Price)=CONST(Sundry)));
                                                   CaptionML=[ENU=Sundry Cost Amount;
                                                              SVE=Diverse];
                                                   Description=DP00381;
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 2010;   ;Labor Sales Amount  ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Sales Recipe Line"."Labor Sales Amount" WHERE (Sales Document Type=FIELD(Sales Document Type),
                                                                                                                   Sales Document No.=FIELD(Sales Document No.),
                                                                                                                   Sales Line No.=FIELD(Sales Line No.),
                                                                                                                   Recipe Group=FIELD(Recipe Group),
                                                                                                                   Recipe=FIELD(No.)));
                                                   CaptionML=[ENU=Labor Sales Amount;
                                                              NOR=Belõp salg arbied;
                                                              SVE=Arbetskraft fîrsÑljningsbelopp];
                                                   Description=DP00381;
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 2020;   ;Material Sales Amount;Decimal      ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Sales Recipe Line"."Net Sales Amount" WHERE (Sales Document Type=FIELD(Sales Document Type),
                                                                                                                 Sales Document No.=FIELD(Sales Document No.),
                                                                                                                 Sales Line No.=FIELD(Sales Line No.),
                                                                                                                 Recipe Group=FIELD(Recipe Group),
                                                                                                                 Recipe=FIELD(No.),
                                                                                                                 Cost Type (Price)=CONST(Material)));
                                                   CaptionML=[ENU=Material Sales Amount;
                                                              NOR=Belõp salg materialer;
                                                              SVE=FîrsÑljningsbelopp material];
                                                   Description=DP00381;
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 2030;   ;Subcontracting Sales Amount;Decimal;FieldClass=FlowField;
                                                   CalcFormula=Sum("Sales Recipe Line"."Net Sales Amount" WHERE (Sales Document Type=FIELD(Sales Document Type),
                                                                                                                 Sales Document No.=FIELD(Sales Document No.),
                                                                                                                 Sales Line No.=FIELD(Sales Line No.),
                                                                                                                 Recipe Group=FIELD(Recipe Group),
                                                                                                                 Recipe=FIELD(No.),
                                                                                                                 Cost Type (Price)=CONST(Subcontracting)));
                                                   CaptionML=[ENU=Subcontracting Sales Amount;
                                                              NOR=Belõp salg underentreprenõr;
                                                              SVE=Underentreprenad, fîrsÑljningsbelopp];
                                                   Description=DP00381;
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 2040;   ;Plant Sales Amount  ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Sales Recipe Line"."Net Sales Amount" WHERE (Sales Document Type=FIELD(Sales Document Type),
                                                                                                                 Sales Document No.=FIELD(Sales Document No.),
                                                                                                                 Sales Line No.=FIELD(Sales Line No.),
                                                                                                                 Recipe Group=FIELD(Recipe Group),
                                                                                                                 Recipe=FIELD(No.),
                                                                                                                 Cost Type (Price)=CONST(Plant)));
                                                   CaptionML=[ENU=Plant Sales Amount;
                                                              NOR=Belõp maskinsalg;
                                                              SVE=MaskinfîrsÑljningsbelopp];
                                                   Description=DP00381;
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 2050;   ;Sundry Sales Amount ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Sales Recipe Line"."Net Sales Amount" WHERE (Sales Document Type=FIELD(Sales Document Type),
                                                                                                                 Sales Document No.=FIELD(Sales Document No.),
                                                                                                                 Sales Line No.=FIELD(Sales Line No.),
                                                                                                                 Recipe Group=FIELD(Recipe Group),
                                                                                                                 Recipe=FIELD(No.),
                                                                                                                 Cost Type (Price)=CONST(Sundry)));
                                                   CaptionML=[ENU=Sundry Sales Amount;
                                                              SVE=FîrsÑljningsbelopp, diverse];
                                                   Description=DP00381;
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 2060;   ;Sales Amount        ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Sales Recipe Line"."Sales Amount" WHERE (Sales Document Type=FIELD(Sales Document Type),
                                                                                                             Sales Document No.=FIELD(Sales Document No.),
                                                                                                             Sales Line No.=FIELD(Sales Line No.),
                                                                                                             Recipe Group=FIELD(Recipe Group),
                                                                                                             Recipe=FIELD(No.)));
                                                   CaptionML=[ENU=Sales Amount;
                                                              NOR=Salgsbelõp;
                                                              SVE=FîrsÑljningsbelopp];
                                                   NotBlank=No;
                                                   Description=DP00381;
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 2070;   ;Automatic Ext. Texts;Boolean       ;CaptionML=[ENU=Automatic Ext. Texts;
                                                              NOR=Automatisk utv. tekster;
                                                              SVE=Extra textrader];
                                                   Description=DP00481 }
    { 2100;   ;Surcharge % Labor   ;Decimal       ;OnValidate=BEGIN
                                                                UpdateSurcharge(0);
                                                              END;

                                                   CaptionML=[ENU=Surcharge % Labor;
                                                              NOR=Tilleggsgebyrsprosent, arbeidskraft;
                                                              SVE=TillÑggsavgiftsprocent, arbetskraft];
                                                   BlankZero=Yes;
                                                   Description=DP00594 }
    { 2101;   ;Surcharge % Material;Decimal       ;OnValidate=BEGIN
                                                                UpdateSurcharge(1);
                                                              END;

                                                   CaptionML=[ENU=Surcharge % Material;
                                                              NOR=Tilleggsgebyrsprosent, Materiale;
                                                              SVE=TillÑggsavgiftsprocent, material];
                                                   BlankZero=Yes;
                                                   Description=DP00594 }
    { 2102;   ;Surcharge % Subcontracting;Decimal ;OnValidate=BEGIN
                                                                UpdateSurcharge(2);
                                                              END;

                                                   CaptionML=[ENU=Surcharge % Subcontracting;
                                                              NOR=Tilleggsgebyrsprosent, underentrepenõr;
                                                              SVE=TillÑggsavgiftsprocent, underentreprenad];
                                                   BlankZero=Yes;
                                                   Description=DP00594 }
    { 2103;   ;Surcharge % Plant   ;Decimal       ;OnValidate=BEGIN
                                                                UpdateSurcharge(3);
                                                              END;

                                                   CaptionML=[ENU=Surcharge % Plant;
                                                              NOR=Tilleggsgebyrsprosent, maskin;
                                                              SVE=TillÑggsavgiftsprocent, Maskin];
                                                   BlankZero=Yes;
                                                   Description=DP00594 }
    { 2104;   ;Surcharge % Sundry  ;Decimal       ;OnValidate=BEGIN
                                                                UpdateSurcharge(4);
                                                              END;

                                                   CaptionML=[ENU=Surcharge % Sundry;
                                                              NOR=PÜslagssatser, diverse;
                                                              SVE=TillÑggsavgiftsprocent, diverse];
                                                   BlankZero=Yes;
                                                   Description=DP00594 }
    { 11125678;;Plant Rates in Hours;Boolean      ;OnValidate=VAR
                                                                RecipeLine@1100525000 : Record 11229789;
                                                                EstRAWSetup@1100525001 : Record 11125673;
                                                                FPSLicenseManagement@1100527400 : Codeunit 11229289;
                                                              BEGIN
                                                                IF NOT FPSLicenseManagement.LicenseAndReadPermissionForTable(EstRAWSetup) THEN
                                                                  TESTFIELD("Plant Rates in Hours", FALSE);

                                                                RecipeLine.SETRANGE("Sales Document Type", "Sales Document Type" );
                                                                RecipeLine.SETRANGE("Sales Document No.",  "Sales Document No.");
                                                                RecipeLine.SETRANGE("Sales Line No.", "Sales Line No.");
                                                                RecipeLine.SETRANGE("Recipe Group", "Recipe Group");
                                                                RecipeLine.SETRANGE(Recipe, "No.");

                                                                IF RecipeLine.FINDSET(TRUE) THEN
                                                                  REPEAT
                                                                    //IF NOT "Plant Rates in Hours" THEN BEGIN  //db, 30-01-17
                                                                    //  RecipeLine."Norm (Plant)" := 0;
                                                                    //  RecipeLine."Production Rate (Plant)" := 0;
                                                                    //  RecipeLine."Hours (Plant)" := 0;
                                                                    //END;
                                                                    IF RecipeLine."Cost Type (Hours)" = RecipeLine."Cost Type (Hours)"::Plant THEN BEGIN  //DP01090
                                                                      RecipeLine.Norm := 0;
                                                                      RecipeLine."Production Rate" := 0;
                                                                      RecipeLine.Hours := 0;
                                                                    END;
                                                                    RecipeLine.DeterminePlantPrice;
                                                                    RecipeLine.MODIFY;
                                                                  UNTIL RecipeLine.NEXT = 0;
                                                              END;

                                                   CaptionML=[ENU=Plant Rates in Hours;
                                                              NOR=Maskingebyrer i timer;
                                                              SVE=Maskinavgifter i timmar];
                                                   Description=RAW }
  }
  KEYS
  {
    {    ;Sales Document Type,Sales Document No.,Sales Line No.,Recipe Group,No.;
                                                   Clustered=Yes }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      Text000@11012004 : TextConst 'ENU=Process default norm group in recipe lines ?;NOR=Vil du behandle Standardnormgruppen i Malrader?;SVE=Vill du behandla standardnormgruppen i mallrader?';

    PROCEDURE UpdateSurcharge@1100528902(CostType@1100485000 : Integer);
    VAR
      RcpLineRec@1100525000 : Record 11229789;
      EstSetup@1100529400 : Record 11012150;
    BEGIN
      //DP00594
      EstSetup.GET;
      IF EstSetup."Apply Surcharge Recipe Header" = EstSetup."Apply Surcharge Recipe Header"::Cumulative THEN EXIT;  //DP01183

      RcpLineRec.SETRANGE("Sales Document Type", "Sales Document Type" );
      RcpLineRec.SETRANGE("Sales Document No.",  "Sales Document No.");
      RcpLineRec.SETRANGE("Sales Line No.", "Sales Line No.");
      RcpLineRec.SETRANGE("Recipe Group", "Recipe Group");
      RcpLineRec.SETRANGE(Recipe, "No.");
      RcpLineRec.SETRANGE("Surcharge Type", RcpLineRec."Surcharge Type"::" ");
      RcpLineRec.SETRANGE("Recipe Header", FALSE);  //db, 05-11-15: C026570
      IF CostType = 0 THEN
        RcpLineRec.SETFILTER("Surcharge % Labor", '%1|%2', 0, xRec."Surcharge % Labor");
      IF CostType = 1 THEN
        RcpLineRec.SETFILTER("Surcharge % Price", '%1|%2', 0, xRec."Surcharge % Material");
      IF CostType = 2 THEN
        RcpLineRec.SETFILTER("Surcharge % Price", '%1|%2', 0, xRec."Surcharge % Subcontracting");
      IF CostType = 3 THEN
        RcpLineRec.SETFILTER("Surcharge % Price", '%1|%2', 0, xRec."Surcharge % Plant");
      IF CostType = 4 THEN
        RcpLineRec.SETFILTER("Surcharge % Price", '%1|%2', 0, xRec."Surcharge % Sundry");
      IF RcpLineRec.FINDSET(TRUE, FALSE) THEN BEGIN
        REPEAT
          IF CostType = 0 THEN
            RcpLineRec.VALIDATE("Surcharge % Labor", "Surcharge % Labor");
          IF CostType = 1 THEN
            IF RcpLineRec."Cost Type (Price)" = RcpLineRec."Cost Type (Price)"::Material THEN
              RcpLineRec.VALIDATE("Surcharge % Price", "Surcharge % Material");
          IF CostType = 2 THEN
            IF RcpLineRec."Cost Type (Price)" = RcpLineRec."Cost Type (Price)"::Subcontracting THEN
              RcpLineRec.VALIDATE("Surcharge % Price", "Surcharge % Subcontracting");
          IF CostType = 3 THEN
            IF RcpLineRec."Cost Type (Price)" = RcpLineRec."Cost Type (Price)"::Plant THEN
              RcpLineRec.VALIDATE("Surcharge % Price", "Surcharge % Plant");
          IF CostType = 4 THEN
            IF RcpLineRec."Cost Type (Price)" = RcpLineRec."Cost Type (Price)"::Sundry THEN
              RcpLineRec.VALIDATE("Surcharge % Price", "Surcharge % Sundry");
          RcpLineRec.MODIFY;
        UNTIL RcpLineRec.NEXT = 0;
      END;

      //C033781.sn
      RcpLineRec.SETRANGE("Sales Document Type", "Sales Document Type" );
      RcpLineRec.SETRANGE("Sales Document No.",  "Sales Document No.");
      RcpLineRec.SETRANGE("Sales Line No.", "Sales Line No.");
      RcpLineRec.SETRANGE("Recipe Group", "Recipe Group");
      RcpLineRec.SETRANGE(Recipe, "No.");
      RcpLineRec.SETRANGE("Surcharge Type", RcpLineRec."Surcharge Type"::" ");
      RcpLineRec.SETRANGE("Recipe Header", TRUE);  //db, 02-01-17 (update recipe-child header)
      IF CostType = 0 THEN
        RcpLineRec.SETFILTER("Surcharge % Labor", '%1|%2', 0, xRec."Surcharge % Labor");
      IF CostType = 1 THEN
        RcpLineRec.SETFILTER("Recipe Surcharge % Material", '%1|%2', 0, xRec."Surcharge % Material");
      IF CostType = 2 THEN
        RcpLineRec.SETFILTER("Recipe Surcharge % Subc.", '%1|%2', 0, xRec."Surcharge % Subcontracting");
      IF CostType = 3 THEN
        RcpLineRec.SETFILTER("Recipe Surcharge % Plant", '%1|%2', 0, xRec."Surcharge % Plant");
      IF CostType = 4 THEN
        RcpLineRec.SETFILTER("Recipe Surcharge % Sundry", '%1|%2', 0, xRec."Surcharge % Sundry");
      IF RcpLineRec.FINDSET(TRUE, FALSE) THEN BEGIN
        REPEAT
          IF CostType = 0 THEN
            RcpLineRec.VALIDATE("Surcharge % Labor", "Surcharge % Labor");
          IF CostType = 1 THEN
            RcpLineRec.VALIDATE("Recipe Surcharge % Material", "Surcharge % Material");
          IF CostType = 2 THEN
            RcpLineRec.VALIDATE("Recipe Surcharge % Subc.", "Surcharge % Subcontracting");
          IF CostType = 3 THEN
            RcpLineRec.VALIDATE("Recipe Surcharge % Plant", "Surcharge % Plant");
          IF CostType = 4 THEN
            RcpLineRec.VALIDATE("Recipe Surcharge % Sundry", "Surcharge % Sundry");
          RcpLineRec.MODIFY;
        UNTIL RcpLineRec.NEXT = 0;
      END;
      //C033781.en
    END;

    PROCEDURE RecalculateSurcharge@1100529400();
    VAR
      RcpLineRec@1100529401 : Record 11229789;
    BEGIN
      //DP01183
      RcpLineRec.SETRANGE("Sales Document Type", "Sales Document Type" );
      RcpLineRec.SETRANGE("Sales Document No.",  "Sales Document No.");
      RcpLineRec.SETRANGE("Sales Line No.", "Sales Line No.");
      RcpLineRec.SETRANGE("Recipe Group", "Recipe Group");
      RcpLineRec.SETRANGE(Recipe, "No.");
      IF RcpLineRec.FINDSET(TRUE, FALSE) THEN BEGIN
        REPEAT
          RcpLineRec.CalculateTotals;
          RcpLineRec.MODIFY;
        UNTIL RcpLineRec.NEXT = 0;
      END;
    END;

    PROCEDURE ExplodeRecipe@1210190009();
    VAR
      SalesLine@1100525001 : Record 37;
    BEGIN
      //C033781
      SalesLine.SETRANGE("Document Type", "Sales Document Type");
      SalesLine.SETRANGE("Document No.", "Sales Document No.");
      SalesLine.SETRANGE("Line No.", "Sales Line No.");
      SalesLine.SETFILTER(Recipe, '<>%1', '');
      IF SalesLine.FINDSET THEN BEGIN
        REPEAT
          SalesLine.ExplodeRecipe;
        UNTIL SalesLine.NEXT = 0;
      END;
    END;

    BEGIN
    END.
  }
}

