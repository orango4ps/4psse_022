OBJECT Page 44 Sales Credit Memo
{
  OBJECT-PROPERTIES
  {
    Date=;
    Time=;
    Version List=NAVW114.00,4PS14.00,NAVDK.NO;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Sales Credit Memo;
               NOR=Salgskreditnota;
               SVE=Fîrs.kreditnota];
    SourceTable=Table36;
    SourceTableView=WHERE(Document Type=FILTER(Credit Memo));
    PageType=Document;
    RefreshOnActivate=Yes;
    PromotedActionCategoriesML=[ENU=New,Process,Report,Approve,Release,Posting,Prepare,Credit Memo,Request Approval,Navigate,Mail Documents;
                                NOR=Ny,Prosess,Rapport,Godkjenn,Frigi,Bokfõring,Klargjõr,Kreditnota,Be om godkjenning,Naviger;
                                SVE=Ny,Process,Rapport,GodkÑnn,SlÑpp,Bokfîring,Fîrbered,Kreditnota,BegÑr godkÑnnande,Navigera];
    OnInit=VAR
             SalesReceivablesSetup@1000 : Record 311;
             GLSetup@1100285000 : Record 98;
           BEGIN
             JobQueueUsed := SalesReceivablesSetup.JobQueueActive;
             SetExtDocNoMandatoryCondition;
             SellToCustomerUsesOIOUBL := CustomerUsesOIOUBL("Sell-to Customer No.");  //NAVDK
             SellToCustomerUsesEInvoicing := CustomerUsesEInvoicing("Sell-to Customer No.");  //NAVNO
             //**4PS.sn
             "Interest DateVisible" := TRUE;
             CalculateBAmountsbasedonEditab := TRUE;
             "% to B AccountEditable" := TRUE;
             "% LaborEditable" := TRUE;
             "Job No.Editable" := TRUE;
             "Currency CodeEditable" := TRUE;
             "Bill-to Customer No.Editable" := TRUE;
             "Sell-to Customer No.Editable" := TRUE;
             //**4PS.en

             //4PSSE
             GLSetup.GET;
             DKinfoEnable := GLSetup."Danish Localization Active";
             NORlocalizationEnable := GLSetup."Norwegian Localization Active";
           END;

    OnOpenPage=VAR
                 PermissionManager@1000 : Codeunit 9002;
                 lvInterestCalcMgtCU@1210190000 : Codeunit 11012049;
               BEGIN
                 //**4PS Generated Code. Do Not Change.sn01
                 DPA_IsHardFilter := DPA_SetFilters(CurrPage.OBJECTID(FALSE));
                 //**4PS Generated Code.en01
                 IF UserMgt.GetSalesFilter <> '' THEN BEGIN
                   FILTERGROUP(2);
                   SETRANGE("Responsibility Center",UserMgt.GetSalesFilter);
                   FILTERGROUP(0);
                 END;

                 ActivateFields;

                 IsSaaS := PermissionManager.SoftwareAsAService;
                 SetDocNoVisible;
                 SetControlAppearance;
                 IF ("No." <> '') AND ("Sell-to Customer No." = '') THEN
                   DocumentIsPosted := (NOT GET("Document Type","No."));

                 //**4PS.sn
                 IF NOT lvInterestCalcMgtCU.PermissionInterestGranule() THEN
                   "Interest DateVisible" := (FALSE);
                 //**4PS.en
                 //4PSSE
                 GLSetup.GET;
                 NORlocalizationEnable := GLSetup."Norwegian Localization Active";
               END;

    OnAfterGetRecord=BEGIN
                       SetControlAppearance;
                       WorkDescription := GetWorkDescription;

                       //**4PS.sn
                       GeneratedCredMemo := IsGeneratedInvoice;
                       "Sell-to Customer No.Editable" := (NOT GeneratedCredMemo);
                       "Bill-to Customer No.Editable" := (NOT GeneratedCredMemo);
                       "Currency CodeEditable" := (NOT GeneratedCredMemo);
                       "Job No.Editable" := (NOT GeneratedCredMemo);
                       "% LaborEditable" := ("Specific WKA Percentages");
                       "% to B AccountEditable" := ("Specific WKA Percentages");
                       CalculateBAmountsbasedonEditab := ("Specific WKA Percentages");
                       SalesHeaderExtension.GetSalesHeadExtension("Document Type", "No.");
                       //**4PS.en
                     END;

    OnNewRecord=BEGIN
                  //**4PS Generated Code. Do Not Change.sn02
                  DPA_SetDefaultDepartment;
                  //**4PS Generated Code.en02

                  "Responsibility Center" := UserMgt.GetSalesFilter;
                  IF (NOT DocNoVisible) AND ("No." = '') THEN
                    SetSellToCustomerFromFilter;
                  SetControlAppearance;
                END;

    OnInsertRecord=VAR
                     xRecRef@1100000999 : RecordRef;
                   BEGIN
                     //**4PS Generated Code. Do Not Change.sn05
                     xRecRef.GETTABLE(xRec);
                     DPA_SetDefaultDpmtFromNoSeries(xRecRef);
                     //**4PS Generated Code.en05

                     IF DocNoVisible THEN
                       CheckCreditMaxBeforeInsert;
                   END;

    OnDeleteRecord=BEGIN
                     CurrPage.SAVERECORD;
                     EXIT(ConfirmDeletion);
                   END;

    OnQueryClosePage=BEGIN
                       IF NOT DocumentIsPosted THEN
                         EXIT(ConfirmCloseUnposted);
                     END;

    OnAfterGetCurrRecord=VAR
                           RecRef@1100527300 : RecordRef;
                         BEGIN
                           SellToCustomerUsesOIOUBL := CustomerUsesOIOUBL("Sell-to Customer No.");  //NAVDK
                           SellToCustomerUsesEInvoicing := CustomerUsesEInvoicing("Sell-to Customer No.");  //NAVNO
                           CurrPage.IncomingDocAttachFactBox.PAGE.LoadDataFromRecord(Rec);
                           CurrPage.ApprovalFactBox.PAGE.UpdateApprovalEntriesFromSourceRecord(RECORDID);
                           ShowWorkflowStatus := CurrPage.WorkflowStatus.PAGE.SetFilterOnWorkflowRecord(RECORDID);
                           SetControlAppearance;

                           //**4PS.sn
                           RecRef.GETTABLE(Rec);
                           CurrPage.RegisterExternalDocumentFB.PAGE.SetRecordReference(RecRef);
                           CurrPage.RegisterExternalDocumentFB.PAGE.SetByCompany(TRUE);
                           CurrPage.RegisterExternalDocumentFB.PAGE.SetDepartmentCode("Shortcut Dimension 1 Code");
                           //**4PS.en
                         END;

    ActionList=ACTIONS
    {
      { 1900000003;0 ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 49      ;1   ;ActionGroup;
                      CaptionML=[ENU=&Credit Memo;
                                 NOR=&Kreditnota;
                                 SVE=&Kreditnota];
                      Image=CreditMemo }
      { 51      ;2   ;Action    ;
                      Name=Statistics;
                      ShortCutKey=F7;
                      CaptionML=[ENU=Statistics;
                                 NOR=Statistikk;
                                 SVE=Statistik];
                      ToolTipML=[ENU=View statistical information, such as the value of posted entries, for the record.;
                                 NOR=Vis statistikkinformasjon, for eksempel verdien for bokfõrte poster, for posten.;
                                 SVE=Visa statistisk information fîr posten, till exempel vÑrdet pÜ bokfîrda transaktioner.];
                      ApplicationArea=#Basic,#Suite;
                      Enabled="No." <> '';
                      PromotedIsBig=Yes;
                      Image=Statistics;
                      OnAction=VAR
                                 Handled@1000 : Boolean;
                               BEGIN
                                 OnBeforeStatisticsAction(Rec,Handled);
                                 IF NOT Handled THEN BEGIN
                                   CalcInvDiscForHeader;
                                   COMMIT;
                                   PAGE.RUNMODAL(PAGE::"Sales Statistics",Rec);
                                   SalesCalcDiscByType.ResetRecalculateInvoiceDisc(Rec);
                                 END
                               END;
                                }
      { 52      ;2   ;Action    ;
                      Name=CreditMemo_CustomerCard;
                      ShortCutKey=Shift+F7;
                      CaptionML=[ENU=Customer;
                                 NOR=Kunde;
                                 SVE=Kund];
                      ToolTipML=[ENU=View or edit detailed information about the customer on the sales document.;
                                 NOR=Vis eller rediger detaljert informasjon om kunden i salgsdokumentet.;
                                 SVE=Visa eller redigera detaljerad information om kunden pÜ fîrsÑljningsdokumentet.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 21;
                      RunPageLink=No.=FIELD(Sell-to Customer No.);
                      Promoted=Yes;
                      Enabled=IsCustomerOrContactNotEmpty;
                      Image=EditLines;
                      PromotedCategory=Category10 }
      { 53      ;2   ;Action    ;
                      CaptionML=[ENU=Co&mments;
                                 NOR=&Merknader;
                                 SVE=Ko&mmentarer];
                      ToolTipML=[ENU=View or add comments for the record.;
                                 NOR=Vis eller legg til kommentarer for posten.;
                                 SVE=Visa eller lÑgg till kommentarer till posten.];
                      ApplicationArea=#Comments;
                      RunObject=Page 67;
                      RunPageLink=Document Type=FIELD(Document Type),
                                  No.=FIELD(No.),
                                  Document Line No.=CONST(0);
                      Promoted=Yes;
                      Image=ViewComments;
                      PromotedCategory=Category8 }
      { 121     ;2   ;Action    ;
                      Name=Approvals;
                      AccessByPermission=TableData 454=R;
                      CaptionML=[ENU=Approvals;
                                 NOR=Godkjenninger;
                                 SVE=GodkÑnnanden];
                      ToolTipML=[ENU=View a list of the records that are waiting to be approved. For example, you can see who requested the record to be approved, when it was sent, and when it is due to be approved.;
                                 NOR=Vis en liste med poster dom venter pÜ Ü bli godkjent. Du kan for eksempel se hvem som har bedt om godkjenning av posten, nÜr den ble sendt og nÜr den forfaller til godkjenning.;
                                 SVE=Visa en lista med poster som vÑntar pÜ att godkÑnnas. Du kan t.ex. se vem som begÑrde att posten skulle godkÑnnas, nÑr den skickades och nÑr den mÜste godkÑnnas.];
                      ApplicationArea=#Suite;
                      Promoted=Yes;
                      Visible=FALSE;
                      Image=Approvals;
                      PromotedCategory=Category8;
                      OnAction=VAR
                                 WorkflowsEntriesBuffer@1001 : Record 832;
                               BEGIN
                                 WorkflowsEntriesBuffer.RunWorkflowEntriesPage(RECORDID,DATABASE::"Sales Header","Document Type","No.");
                               END;
                                }
      { 1901458458;2 ;Action    ;
                      Name=DocAttach;
                      CaptionML=[ENU=Attachments;
                                 NOR=Vedlegg;
                                 SVE=Bilagor];
                      ToolTipML=[ENU=Add a file as an attachment. You can attach images as well as documents.;
                                 NOR=Legg til en fil som vedlegg. Du kan legge ved bilderˇog dokumenter.;
                                 SVE=LÑgg till en fil som en bilaga. Du kan bifoga bilder och dokument.];
                      ApplicationArea=#All;
                      Promoted=Yes;
                      Visible=FALSE;
                      Image=Attach;
                      PromotedCategory=Category8;
                      OnAction=VAR
                                 DocumentAttachmentDetails@1000 : Page 1173;
                                 RecRef@1001 : RecordRef;
                               BEGIN
                                 RecRef.GETTABLE(Rec);
                                 DocumentAttachmentDetails.OpenForRecRef(RecRef);
                                 DocumentAttachmentDetails.RUNMODAL;
                               END;
                                }
      { 1210190017;2 ;Action    ;
                      CaptionML=[ENU=&Documents;
                                 SVE=&Dokument];
                      Image=Documents;
                      OnAction=VAR
                                 RecRef@1210190001 : RecordRef;
                                 DocumentFilters@1210190000 : Codeunit 11012432;
                               BEGIN
                                 //**4PS
                                 RecRef.GETTABLE(Rec);
                                 DocumentFilters.CreateTempFilterAndExecute1(RecRef, "Shortcut Dimension 1 Code", FALSE, TRUE);
                               END;
                                }
      { 1210190018;2 ;Action    ;
                      CaptionML=[ENU=Document &Relations;
                                 SVE=Dokument&relationer];
                      RunObject=Page 11012413;
                      RunPageView=SORTING(Document Type,No.,Related Document No.)
                                  WHERE(Document Type=CONST(Sales Cr.Memo));
                      RunPageLink=No.=FIELD(No.);
                      Image=Relationship }
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 73      ;1   ;ActionGroup;
                      Name=Credit Memo;
                      CaptionML=[ENU=&Credit Memo;
                                 NOR=&Kreditnota;
                                 SVE=&Kreditnota];
                      Image=CreditMemo }
      { 72      ;2   ;Action    ;
                      ShortCutKey=Shift+F7;
                      CaptionML=[ENU=Customer;
                                 NOR=Kunde;
                                 SVE=Kund];
                      ToolTipML=[ENU=View or edit detailed information about the customer.;
                                 NOR=Vis eller rediger detaljert informasjon om kunden.;
                                 SVE=Visa eller redigera detaljerad information om kunden.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 21;
                      RunPageLink=No.=FIELD(Sell-to Customer No.);
                      Enabled=IsCustomerOrContactNotEmpty;
                      Image=Customer }
      { 64      ;2   ;Action    ;
                      Name=Dimensions;
                      AccessByPermission=TableData 348=R;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=[ENU=Dimensions;
                                 NOR=Dimensjoner;
                                 SVE=Dimensioner];
                      ToolTipML=[ENU=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
                                 NOR=Vis eller rediger dimensjoner, for eksempel omrÜde, prosjekt eller avdeling, som du kan tilordne til salgs- og kjõpsdokumenter for Ü distribuere kostnader og analysere transaksjonshistorikk.;
                                 SVE=Visa eller redigera mÜtt, till exempel omrÜde, projekt eller avdelning, som du kan tilldela till fîrsÑljnings- och inkîpsdokument fîr att fîrdela kostnader och analysera transaktionshistorik.];
                      ApplicationArea=#Dimensions;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Dimensions;
                      PromotedCategory=Category8;
                      OnAction=BEGIN
                                 ShowDocDim;
                                 CurrPage.SAVERECORD;
                               END;
                                }
      { 29      ;1   ;ActionGroup;
                      CaptionML=[ENU=Approval;
                                 NOR=Godkjenning;
                                 SVE=GodkÑnnande] }
      { 27      ;2   ;Action    ;
                      Name=Approve;
                      CaptionML=[ENU=Approve;
                                 NOR=Godkjenn;
                                 SVE=GodkÑnn];
                      ToolTipML=[ENU=Approve the requested changes.;
                                 NOR=Godkjenn de forespurte endringene.;
                                 SVE=GodkÑnn de begÑrda fîrÑndringarna.];
                      ApplicationArea=#All;
                      Promoted=Yes;
                      Visible=OpenApprovalEntriesExistForCurrUser;
                      PromotedIsBig=Yes;
                      Image=Approve;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 ApprovalsMgmt.ApproveRecordApprovalRequest(RECORDID);
                               END;
                                }
      { 25      ;2   ;Action    ;
                      Name=Reject;
                      CaptionML=[ENU=Reject;
                                 NOR=Avvis;
                                 SVE=Avvisa];
                      ToolTipML=[ENU=Reject the approval request.;
                                 NOR=Avvis godkjenningsforespõrselen.;
                                 SVE=Avvisa godkÑnnandebegÑran.];
                      ApplicationArea=#All;
                      Promoted=Yes;
                      Visible=OpenApprovalEntriesExistForCurrUser;
                      PromotedIsBig=Yes;
                      Image=Reject;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 ApprovalsMgmt.RejectRecordApprovalRequest(RECORDID);
                               END;
                                }
      { 23      ;2   ;Action    ;
                      Name=Delegate;
                      CaptionML=[ENU=Delegate;
                                 NOR=Deleger;
                                 SVE=Delegera];
                      ToolTipML=[ENU=Delegate the approval to a substitute approver.;
                                 NOR=Deleger godkjenningen til en stedfortredende godkjenner.;
                                 SVE=Delegera godkÑnnandet till en ersÑttare.];
                      ApplicationArea=#All;
                      Promoted=Yes;
                      Visible=OpenApprovalEntriesExistForCurrUser;
                      Image=Delegate;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 ApprovalsMgmt.DelegateRecordApprovalRequest(RECORDID);
                               END;
                                }
      { 31      ;2   ;Action    ;
                      Name=Comment;
                      CaptionML=[ENU=Comments;
                                 NOR=Merknader;
                                 SVE=Kommentarer];
                      ToolTipML=[ENU=View or add comments for the record.;
                                 NOR=Vis eller legg til kommentarer for posten.;
                                 SVE=Visa eller lÑgg till kommentarer till posten.];
                      ApplicationArea=#All;
                      Promoted=Yes;
                      Visible=OpenApprovalEntriesExistForCurrUser;
                      Image=ViewComments;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 ApprovalsMgmt.GetApprovalComment(Rec);
                               END;
                                }
      { 7       ;1   ;ActionGroup;
                      CaptionML=[ENU=Re&lease;
                                 NOR=Frigi;
                                 SVE=SlÑpp];
                      Image=ReleaseDoc }
      { 122     ;2   ;Action    ;
                      Name=Release;
                      ShortCutKey=Ctrl+F9;
                      CaptionML=[ENU=Re&lease;
                                 NOR=Fri&gi;
                                 SVE=&SlÑpp];
                      ToolTipML=[ENU=Release the document to the next stage of processing. When a document is released, it will be included in all availability calculations from the expected receipt date of the items. You must reopen the document before you can make changes to it.;
                                 NOR=Frigi dokumentet til neste behandlingsfase. NÜr et dokument frigis, tas det med i alle tilgjengelighetsberegninger fra den forventede mottaksdatoen for varene. Du mÜ Üpne dokumentet pÜ nytt fõr du kan gjõre endringer i det.;
                                 SVE=SlÑpp dokumentet till nÑsta etapp i bearbetningen. NÑr ett dokument slÑpps, tas det med i alla dispositionsberÑkningar frÜn och med artiklarnas planerade inleveransdatum. Du mÜste îppna dokumentet igen innan du kan Ñndra i det.];
                      ApplicationArea=#Suite;
                      Promoted=Yes;
                      Enabled=IsCustomerOrContactNotEmpty;
                      PromotedIsBig=Yes;
                      Image=ReleaseDoc;
                      PromotedCategory=Category5;
                      PromotedOnly=Yes;
                      OnAction=VAR
                                 ReleaseSalesDoc@1000 : Codeunit 414;
                               BEGIN
                                 ReleaseSalesDoc.PerformManualRelease(Rec);
                               END;
                                }
      { 123     ;2   ;Action    ;
                      Name=Reopen;
                      CaptionML=[ENU=Re&open;
                                 NOR=&èpne pÜ nytt;
                                 SVE=&ôppna igen];
                      ToolTipML=[ENU=Reopen the document to change it after it has been approved. Approved documents have the Released status and must be opened before they can be changed.;
                                 NOR=èpne dokumentet pÜ nytt for Ü endre det etter at det har blitt godkjent. Godkjente dokumenter har statusen Frigitt, og de mÜ Üpnes fõr de kan endres.;
                                 SVE=ôppna dokumentet igen och Ñndra det efter att det har godkÑnts. GodkÑnda dokument har statusen SlÑppt och mÜste îppnas innan de kan Ñndras.];
                      ApplicationArea=#Suite;
                      Promoted=Yes;
                      Enabled=Status <> Status::Open;
                      Image=ReOpen;
                      PromotedCategory=Category5;
                      PromotedOnly=Yes;
                      OnAction=VAR
                                 ReleaseSalesDoc@1001 : Codeunit 414;
                               BEGIN
                                 ReleaseSalesDoc.PerformManualReopen(Rec);
                               END;
                                }
      { 58      ;1   ;ActionGroup;
                      Name=FunctionsButton;
                      CaptionML=[ENU=F&unctions;
                                 NOR=F&unksjoner;
                                 SVE=Fu&nktion];
                      Image=Action }
      { 114     ;2   ;Action    ;
                      Name=CalculateInvoiceDiscount;
                      AccessByPermission=TableData 19=R;
                      CaptionML=[ENU=Calculate &Invoice Discount;
                                 NOR=&Beregn fakturarabatt;
                                 SVE=BerÑkna &fakturarabatt];
                      ToolTipML=[ENU=Calculate the invoice discount that applies to the sales credit memo.;
                                 NOR=Beregn fakturarabatten som gjelder for salgskreditnotaen.;
                                 SVE=BerÑkna fakturarabatten som gÑller fîrsÑljningskreditnotan.];
                      ApplicationArea=#Basic,#Suite;
                      Enabled=IsCustomerOrContactNotEmpty;
                      Image=CalculateInvoiceDiscount;
                      OnAction=BEGIN
                                 CheckGeneratedInvoice; //**4PS.n
                                 ApproveCalcInvDisc;
                                 SalesCalcDiscByType.ResetRecalculateInvoiceDisc(Rec);
                               END;
                                }
      { 1100485007;2 ;Action    ;
                      CaptionML=[ENU=Calculate Removal Contribution;
                                 SVE=BerÑkna borttagningsbidrag];
                      Visible=FALSE;
                      Image=FinChargeMemo;
                      OnAction=BEGIN
                                 //**4PS
                                 DetermineRemovalContribution;  //db, 14-12-05
                               END;
                                }
      { 117     ;2   ;Action    ;
                      CaptionML=[ENU=E&xplode BOM;
                                 SVE=E&xpandera struktur];
                      Visible=FALSE;
                      Image=ExplodeBOM;
                      OnAction=BEGIN
                                 CheckGeneratedInvoice; //**4PS.n
                                 CurrPage.SalesLines.PAGE.ExplodeBOM;
                               END;
                                }
      { 118     ;2   ;Action    ;
                      CaptionML=[ENU=Insert &Ext. Texts;
                                 SVE=Infoga e&xtratexter];
                      Visible=FALSE;
                      Image=SNInfo;
                      OnAction=BEGIN
                                 CheckGeneratedInvoice; //**4PS.n
                                 CurrPage.SalesLines.PAGE.InsertExtendedText(TRUE);
                               END;
                                }
      { 150     ;2   ;Action    ;
                      Name=ApplyEntries;
                      ShortCutKey=Shift+F11;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Apply Entries;
                                 NOR=Utlign poster;
                                 SVE=Koppla transaktioner];
                      ToolTipML=[ENU=Select one or more ledger entries that you want to apply this record to so that the related posted documents are closed as paid or refunded.;
                                 NOR=Velg Çn eller flere poster du vil utligne mot denne posten slik at de relaterte bokfõrte dokumentene lukkes som betalte eller refunderte.;
                                 SVE=VÑlj en eller flera transaktioner som du vill tillÑmpa den hÑr posten pÜ sÜ att relaterade bokfîrda dokument anges vara betalda eller Üterbetalda.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Enabled="No." <> '';
                      Image=ApplyEntries;
                      PromotedCategory=Category7;
                      OnAction=BEGIN
                                 CODEUNIT.RUN(CODEUNIT::"Sales Header Apply",Rec);
                               END;
                                }
      { 115     ;2   ;Action    ;
                      Name=CopyDocument;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Copy Document;
                                 NOR=Kopier dokument;
                                 SVE=Kopiera dokument];
                      ToolTipML=[ENU=Copy document lines and header information from another sales document to this document. You can copy a posted sales invoice into a new sales invoice to quickly create a similar document.;
                                 NOR=Kopier dokumentlinjer og hodeopplysninger fra et annet salgsdokument til dette dokumentet. Du kan kopiere en bokfõrt salgsfaktura til en ny salgsfaktura for Ü opprette et lignende dokument raskt.;
                                 SVE=Kopiera dokumentrader och huvudinformation frÜn andra fîrsÑljningsdokument till det hÑr dokumentet. Du kan kopiera en bokfîrd fîrsÑljningsfaktura till en ny fîrsÑljningsfaktura om du snabbt vill skapa ett liknande dokument.];
                      ApplicationArea=#Suite;
                      Promoted=Yes;
                      Enabled="No." <> '';
                      Image=CopyDocument;
                      PromotedCategory=Category7;
                      OnAction=BEGIN
                                 CheckGeneratedInvoice; //**4PS.n
                                 CopySalesDoc.SetSalesHeader(Rec);
                                 CopySalesDoc.RUNMODAL;
                                 CLEAR(CopySalesDoc);
                                 IF GET("Document Type","No.") THEN;
                               END;
                                }
      { 56      ;2   ;Action    ;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Move Negative Lines;
                                 NOR=Flytt negative linjer;
                                 SVE=Flytta negativa rader];
                      ToolTipML=[ENU=Prepare to create a replacement sales order in a sales return process.;
                                 NOR=Klargjõr for Ü opprette en erstatningsordre i salgsreturprosessen.;
                                 SVE=Fîrbered skapa en ersÑttningsfîrsÑljningsorder i en fîrsÑljningsreturprocess.];
                      ApplicationArea=#Basic,#Suite;
                      Visible=FALSE;
                      Image=MoveNegativeLines;
                      OnAction=BEGIN
                                 CheckGeneratedInvoice; //**4PS.n
                                 CLEAR(MoveNegSalesLines);
                                 MoveNegSalesLines.SetSalesHeader(Rec);
                                 MoveNegSalesLines.RUNMODAL;
                                 MoveNegSalesLines.ShowDocument;
                               END;
                                }
      { 47      ;2   ;ActionGroup;
                      Name=IncomingDocument;
                      CaptionML=[ENU=Incoming Document;
                                 NOR=InngÜende dokument;
                                 SVE=Inkommande dokument];
                      ActionContainerType=NewDocumentItems;
                      Visible=FALSE;
                      Image=Documents }
      { 45      ;3   ;Action    ;
                      Name=IncomingDocCard;
                      CaptionML=[ENU=View Incoming Document;
                                 NOR=Vis inngÜende dokument;
                                 SVE=Visa inkommande dokument];
                      ToolTipML=[ENU=View any incoming document records and file attachments that exist for the entry or document.;
                                 NOR=Vis poster og filvedlegg for innkommende dokument som finnes for oppfõringen eller dokumentet.;
                                 SVE=Visa alla poster med inkommande dokument och filbilagor som finns fîr transaktionen eller dokumentet.];
                      ApplicationArea=#Basic,#Suite;
                      Visible=FALSE;
                      Enabled=HasIncomingDocument;
                      Image=ViewOrder;
                      OnAction=VAR
                                 IncomingDocument@1000 : Record 130;
                               BEGIN
                                 IncomingDocument.ShowCardFromEntryNo("Incoming Document Entry No.");
                               END;
                                }
      { 43      ;3   ;Action    ;
                      Name=SelectIncomingDoc;
                      AccessByPermission=TableData 130=R;
                      CaptionML=[ENU=Select Incoming Document;
                                 NOR=Velg inngÜende dokument;
                                 SVE=VÑlj inkommande dokument];
                      ToolTipML=[ENU=Select an incoming document record and file attachment that you want to link to the entry or document.;
                                 NOR=Velg en post og et filvedlegg for innkommende dokument som du vil koble til oppfõringen eller dokumentet.;
                                 SVE=VÑlj en post fîr inkommande dokument och en filbilaga som du vill koppla till transaktionen eller dokumentet.];
                      ApplicationArea=#Basic,#Suite;
                      Visible=FALSE;
                      Image=SelectLineToApply;
                      OnAction=VAR
                                 IncomingDocument@1000 : Record 130;
                               BEGIN
                                 VALIDATE("Incoming Document Entry No.",IncomingDocument.SelectIncomingDocument("Incoming Document Entry No.",RECORDID));
                               END;
                                }
      { 41      ;3   ;Action    ;
                      Name=IncomingDocAttachFile;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Create Incoming Document from File;
                                 NOR=Opprett inngÜende dokument fra fil;
                                 SVE=Skapa inkommande dokument frÜn fil];
                      ToolTipML=[ENU=Create an incoming document record by selecting a file to attach, and then link the incoming document record to the entry or document.;
                                 NOR=Opprett en post for innkommende dokument ved Ü velge en fil som skal legges ved, og koble deretter posten for det innkommende dokumentet til oppfõringen eller dokumentet.;
                                 SVE=Skapa en post fîr inkommande dokument genom att vÑlja en fil att bifoga. Koppla sedan posten om det inkommande dokumentet till transaktionen eller dokumentet.];
                      ApplicationArea=#Basic,#Suite;
                      Visible=FALSE;
                      Enabled=NOT HasIncomingDocument;
                      Image=Attach;
                      OnAction=VAR
                                 IncomingDocumentAttachment@1000 : Record 133;
                               BEGIN
                                 IncomingDocumentAttachment.NewAttachmentFromSalesDocument(Rec);
                               END;
                                }
      { 37      ;3   ;Action    ;
                      Name=RemoveIncomingDoc;
                      CaptionML=[ENU=Remove Incoming Document;
                                 NOR=Fjern inngÜende dokument;
                                 SVE=Ta bort inkommande dokument];
                      ToolTipML=[ENU=Remove any incoming document records and file attachments.;
                                 NOR=Fjern eventuelle innkommende dokumentposter og filvedlegg.;
                                 SVE=Ta bort inkommande dokumentposter och filbilagor.];
                      ApplicationArea=#Basic,#Suite;
                      Visible=FALSE;
                      Enabled=HasIncomingDocument;
                      Image=RemoveLine;
                      OnAction=VAR
                                 IncomingDocument@1000 : Record 130;
                               BEGIN
                                 IF IncomingDocument.GET("Incoming Document Entry No.") THEN
                                   IncomingDocument.RemoveLinkToRelatedRecord;
                                 "Incoming Document Entry No." := 0;
                                 MODIFY(TRUE);
                               END;
                                }
      { 1100525002;2 ;ActionGroup;
                      CaptionML=[ENU=Receive data;
                                 SVE=Mottag data];
                      Image=GetLines }
      { 120     ;3   ;Action    ;
                      Name=GetPostedDocumentLinesToReverse;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Get Posted Doc&ument Lines to Reverse;
                                 NOR=Hent bokfõrte dok&umentlinjer som skal tilbakefõres;
                                 SVE=HÑmta bokfîrda dok&umentrader som ska Üterfîras];
                      ToolTipML=[ENU=Copy one or more posted sales document lines in order to reverse the original order.;
                                 NOR=Kopier Çn eller flere bokfõrte salgsdokumentlinjer for Ü tilbakefõre den opprinnelige ordren.;
                                 SVE=Kopiera en eller flera bokfîrda fîrsÑljningsdokumentrader fîr att Üterfîra den ursprungliga ordern.];
                      ApplicationArea=#Basic,#Suite;
                      Image=ReverseLines;
                      OnAction=BEGIN
                                 GetPstdDocLinesToRevere;
                               END;
                                }
      { 112     ;3   ;Action    ;
                      Name=GetStdCustSalesCodes;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Get St&d. Cust. Sales Codes;
                                 NOR=Hent st&d. salgskoder for kunde;
                                 SVE=HÑmta st&d. kundfîrs.koder];
                      ToolTipML=[ENU=View a list of the standard sales lines that have been assigned to the customer to be used for recurring sales.;
                                 NOR=Vis en liste over standard salgslinjer som er tilordnet den aktuelle kunden som skal brukes for gjentakende salg.;
                                 SVE=Visa en lista îver de standardfîrsÑljningsrader som har tilldelats kunden och som ska anvÑndas fîr Üterkommande fîrsÑljning.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Visible=FALSE;
                      Enabled=IsCustomerOrContactNotEmpty;
                      Image=CustomerCode;
                      PromotedCategory=Category7;
                      OnAction=VAR
                                 StdCustSalesCode@1000 : Record 172;
                               BEGIN
                                 StdCustSalesCode.InsertSalesLines(Rec);
                               END;
                                }
      { 1100525004;3 ;Action    ;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Get Return &Receipt Lines;
                                 SVE=HÑmta retur&inleveransrader];
                      Visible=FALSE;
                      Image=GetLines;
                      OnAction=BEGIN
                                 CheckGeneratedInvoice; //**4PS.n
                                 CurrPage.SalesLines.PAGE.GetReturnReceipt;
                               END;
                                }
      { 1100527451;2 ;Action    ;
                      Name=ChooseTradename;
                      CaptionML=ENU=Choose Tradename;
                      Visible=FALSE;
                      Image=CompareContacts;
                      OnAction=BEGIN
                                 //**4PS
                                 ChooseTradename;
                                 CurrPage.UPDATE(TRUE);
                               END;
                                }
      { 9       ;1   ;ActionGroup;
                      CaptionML=[ENU=Request Approval;
                                 NOR=Be om godkjenning;
                                 SVE=BegÑr godkÑnnande];
                      Image=Approval }
      { 139     ;2   ;Action    ;
                      Name=SendApprovalRequest;
                      CaptionML=[ENU=Send A&pproval Request;
                                 NOR=&Send godkjenningsforespõrsel;
                                 SVE=Skicka godk&ÑnnandebegÑran];
                      ToolTipML=[ENU=Request approval of the document.;
                                 NOR=Be om godkjenning av dokumentet.;
                                 SVE=BegÑr godkÑnnande av dokumentet.];
                      ApplicationArea=#Basic,#Suite;
                      Description=**4PS.o;
                      Promoted=Yes;
                      Visible=FALSE;
                      Enabled=NOT OpenApprovalEntriesExist AND CanRequestApprovalForFlow;
                      PromotedIsBig=Yes;
                      Image=SendApprovalRequest;
                      PromotedCategory=Category9;
                      OnAction=VAR
                                 ApprovalsMgmt@1001 : Codeunit 1535;
                               BEGIN
                                 IF ApprovalsMgmt.CheckSalesApprovalPossible(Rec) THEN
                                   ApprovalsMgmt.OnSendSalesDocForApproval(Rec);
                               END;
                                }
      { 140     ;2   ;Action    ;
                      Name=CancelApprovalRequest;
                      CaptionML=[ENU=Cancel Approval Re&quest;
                                 NOR=&Annuller godkjenningsforespõrsel;
                                 SVE=Annullera &godkÑnnandebegÑran];
                      ToolTipML=[ENU=Cancel the approval request.;
                                 NOR=Annuller godkjenningsforespõrselen.;
                                 SVE=Annullera godkÑnnandebegÑran.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Visible=FALSE;
                      Enabled=CanCancelApprovalForRecord OR CanCancelApprovalForFlow;
                      Image=CancelApprovalRequest;
                      PromotedCategory=Category9;
                      OnAction=VAR
                                 ApprovalsMgmt@1001 : Codeunit 1535;
                                 WorkflowWebhookMgt@1000 : Codeunit 1543;
                               BEGIN
                                 ApprovalsMgmt.OnCancelSalesApprovalRequest(Rec);
                                 WorkflowWebhookMgt.FindAndCancel(RECORDID);
                               END;
                                }
      { 215     ;2   ;ActionGroup;
                      CaptionML=[ENU=Flow;
                                 NOR=Flyt;
                                 SVE=Arbetsflîde];
                      Image=Flow }
      { 216     ;3   ;Action    ;
                      Name=CreateFlow;
                      CaptionML=[ENU=Create a Flow;
                                 NOR=Opprett en flyt;
                                 SVE=Skapa ett arbetsflîde];
                      ToolTipML=[ENU=Create a new Flow from a list of relevant Flow templates.;
                                 NOR=Opprett en ny flyt fra en liste over relevante flytmaler.;
                                 SVE=Skapa ett nytt arbetsflîde frÜn en lista med relevanta arbetsflîdesmallar.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Visible=IsSaaS;
                      Image=Flow;
                      PromotedCategory=Category9;
                      OnAction=VAR
                                 FlowServiceManagement@1001 : Codeunit 6400;
                                 FlowTemplateSelector@1000 : Page 6400;
                               BEGIN
                                 // Opens page 6400 where the user can use filtered templates to create new flows.
                                 FlowTemplateSelector.SetSearchText(FlowServiceManagement.GetSalesTemplateFilter);
                                 FlowTemplateSelector.RUN;
                               END;
                                }
      { 217     ;3   ;Action    ;
                      Name=SeeFlows;
                      CaptionML=[ENU=See my Flows;
                                 NOR=Se mine flyter;
                                 SVE=Visa mina arbetsflîden];
                      ToolTipML=[ENU=View and configure Flows that you created.;
                                 NOR=Vis og konfigurer flyter du har opprettet.;
                                 SVE=Visa och konfigurera arbetsflîden som du har skapat.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 6401;
                      Promoted=Yes;
                      Visible=FALSE;
                      Image=Flow;
                      PromotedCategory=Category9 }
      { 59      ;1   ;ActionGroup;
                      CaptionML=[ENU=P&osting;
                                 NOR=B&okfõring;
                                 SVE=B&okfîring];
                      Image=Post }
      { 61      ;2   ;Action    ;
                      Name=Post;
                      ShortCutKey=F9;
                      CaptionML=[ENU=P&ost;
                                 NOR=B&okfõr;
                                 SVE=&Bokfîr];
                      ToolTipML=[ENU=Finalize the document or journal by posting the amounts and quantities to the related accounts in your company books.;
                                 NOR=Fullfõr dokumentet eller kladden ved Ü bokfõre belõpene og antallene til de relaterte kontiene i selskapstablÜene.;
                                 SVE=Slutfîr dokumentet eller journalen genom att bokfîra beloppen och kvantiteterna till de relaterade kontona i fîretagets redovisning.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=PostOrder;
                      PromotedCategory=Category6;
                      OnAction=BEGIN
                                 Post(CODEUNIT::"Sales-Post (Yes/No)");
                               END;
                                }
      { 71      ;2   ;Action    ;
                      Name=TestReport;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Test Report;
                                 NOR=Kontrollrapport;
                                 SVE=Testrapport];
                      ToolTipML=[ENU=View a test report so that you can find and correct any errors before you perform the actual posting of the journal or document.;
                                 NOR=Vis en kontrollrapport slik at du kan finne og rette eventuelle feil fõr du bokfõrer kladden eller dokumentet.;
                                 SVE=Visa en testrapport sÜ att du kan hitta och rÑtta till eventuella fel innan du bokfîr journalen eller dokumentet.];
                      ApplicationArea=#Basic,#Suite;
                      Visible=FALSE;
                      Enabled="No." <> '';
                      Image=TestReport;
                      OnAction=BEGIN
                                 ReportPrint.PrintSalesHeader(Rec);
                               END;
                                }
      { 1100485002;2 ;Action    ;
                      CaptionML=[ENU=Check&List;
                                 SVE=Kontrol&lista];
                      Visible=FALSE;
                      Image=CheckList;
                      OnAction=VAR
                                 SalesHeaderRec@1100485001 : Record 36;
                                 SalesInvChecklist@1100525000 : Report 11012130;
                               BEGIN
                                 //**4PS
                                 SalesHeaderRec.SETRANGE("Document Type",SalesHeaderRec."Document Type"::"Credit Memo");
                                 SalesInvChecklist.SETTABLEVIEW(SalesHeaderRec);
                                 SalesInvChecklist.RUN;
                               END;
                                }
      { 1210190013;2 ;Action    ;
                      CaptionML=[ENU=Print Pro Forma Credit Memo;
                                 SVE=Proformakreditnota];
                      Image=Print;
                      OnAction=BEGIN
                                 ReportPrint.PrintProForma(Rec);
                               END;
                                }
      { 1100525006;2 ;Action    ;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Print Pro Forma Credit Memo incl. Attachment(s);
                                 SVE=Proformakreditnota inkl. bilagor];
                      Visible=FALSE;
                      Image=Print;
                      OnAction=BEGIN
                                 //**4PS
                                 PrintInvoiceIncludingAttachments;
                               END;
                                }
      { 68      ;2   ;Action    ;
                      Name=PostAndSend;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Post and &Send;
                                 NOR=Bokfõr og &send;
                                 SVE=Bokfîr och &skicka];
                      ToolTipML=[ENU=Finalize and prepare to send the document according to the customer's sending profile, such as attached to an email. The Send document to window opens first so you can confirm or select a sending profile.;
                                 NOR=Fullfõr og klargjõr for Ü sende dokumentet i henhold til kundens sendingsprofil, for eksempel vedlagt i en e-post. Vinduet Send dokument til Üpnes slik at du kan bekrefte eller velge en sendingsprofil.;
                                 SVE=Slutfîr och fîrbered att skicka dokumentet enligt kundens utskicksprofil, t.ex. som bilaga till ett e-postmeddelande. Fînstret Skicka dokument till îppnas fîrst sÜ att det gÜr att bekrÑfta eller vÑlja en utskicksprofil.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Visible=NewDocumentReportingVisible;
                      PromotedIsBig=Yes;
                      Image=PostSendTo;
                      PromotedCategory=Category6;
                      OnAction=BEGIN
                                 Post(CODEUNIT::"Sales-Post and Send");
                               END;
                                }
      { 1100525005;2 ;Action    ;
                      ShortCutKey=Shift+Ctrl+F9;
                      CaptionML=[ENU=Post and &Print/Send;
                                 SVE=Bokfîr och Skriv ut/sÑnd];
                      Promoted=Yes;
                      Image=PostPrint;
                      PromotedCategory=Category6;
                      OnAction=BEGIN
                                 //**4PS
                                 Post(CODEUNIT::"Sales-Post + Print");
                               END;
                                }
      { 3       ;2   ;Action    ;
                      CaptionML=[ENU=Remove From Job Queue;
                                 NOR=Fjern fra jobbkõ;
                                 SVE=Ta bort frÜn jobbkî];
                      ToolTipML=[ENU=Remove the scheduled processing of this record from the job queue.;
                                 NOR=Fjern den planlagte behandlingen av denne posten fra prosjektkõen.;
                                 SVE=Ta bort den schemalagda bearbetningen av den hÑr rapporten frÜn jobbkîn.];
                      ApplicationArea=#All;
                      Visible=JobQueueVisible;
                      Image=RemoveLine;
                      OnAction=BEGIN
                                 CancelBackgroundPosting;
                               END;
                                }
      { 35      ;2   ;Action    ;
                      CaptionML=[ENU=Preview Posting;
                                 NOR=ForhÜndsvis bokfõring;
                                 SVE=Fîrhandsgranska bokfîring];
                      ToolTipML=[ENU=Review the different types of entries that will be created when you post the document or journal.;
                                 NOR=Se gjennom de ulike typene poster som blir opprettet nÜr du bokfõrer dokumentet eller kladden.;
                                 SVE=Granska de olika typer av transaktioner som skapas nÑr du bokfîr dokumentet eller journalen.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=ViewPostedOrder;
                      PromotedCategory=Category6;
                      OnAction=BEGIN
                                 ShowPreview;
                               END;
                                }
      { 1100409001;1 ;ActionGroup;
                      CaptionML=[ENU=Mail Documents;
                                 SVE=E-postdokument];
                      ActionContainerType=NewDocumentItems }
      { 1100409002;2 ;Action    ;
                      CaptionML=[ENU=Mail Document to Sell-to Customer;
                                 SVE=FîrsÑljningskund];
                      Promoted=Yes;
                      Image=MailAttachment;
                      PromotedCategory=Category11;
                      OnAction=VAR
                                 Contact@1100409002 : Record 5050;
                                 Customer@1100409001 : Record 18;
                                 DocumentTemplate@1100409000 : Record 11012401;
                               BEGIN
                                 //**4PS
                                 TESTFIELD("Sell-to Customer No.");
                                 IF Contact.GetContactByCustomer("Sell-to Customer No.", Contact, TRUE) THEN BEGIN
                                   Customer.GET("Sell-to Customer No.");
                                   EditDocuments(
                                     "Document Type", STRSUBSTNO('%1', DocumentTemplate.Type::"Credit Memo"),
                                     Contact."No.", '', TRUE, Customer."E-Mail");
                                 END;
                               END;
                                }
      { 1100409000;2 ;Action    ;
                      CaptionML=[ENU=Mail Document to Sell-to Contact;
                                 SVE=Fîrs.kontaktperson];
                      Promoted=Yes;
                      Image=MailAttachment;
                      PromotedCategory=Category11;
                      OnAction=VAR
                                 Contact@1100409001 : Record 5050;
                                 DocumentTemplate@1100409000 : Record 11012401;
                               BEGIN
                                 //**4PS
                                 TESTFIELD("Sell-to Contact No.");
                                 IF Contact.GET("Sell-to Contact No.") THEN BEGIN
                                   IF Contact.IsContactPerson THEN
                                     EditDocuments(
                                       "Document Type", STRSUBSTNO('%1', DocumentTemplate.Type::"Credit Memo"),
                                       Contact."Company No.", Contact."No.", TRUE, Contact."E-Mail")
                                   ELSE
                                     EditDocuments(
                                       "Document Type", STRSUBSTNO('%1', DocumentTemplate.Type::"Credit Memo"),
                                       Contact."No.", '', TRUE, Contact."E-Mail");
                                 END;
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                CaptionML=[ENU=General;
                           NOR=Generelt;
                           SVE=AllmÑnt] }

    { 2   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the involved entry or record, according to the specified number series.;
                           NOR=Angir nummeret pÜ den aktuelle oppfõringen eller posten, i henhold til den angitte nummerserien.;
                           SVE=Anger numret fîr den berîrda transaktionen eller posten, enligt den angivna nummerserien.];
                ApplicationArea=#All;
                SourceExpr="No.";
                Importance=Standard;
                Visible=DocNoVisible;
                OnAssistEdit=BEGIN
                               IF AssistEdit(xRec) THEN
                                 CurrPage.UPDATE;
                             END;
                              }

    { 4   ;2   ;Field     ;
                CaptionML=[ENU=Customer No.;
                           NOR=Kundenr.;
                           SVE=Kundnr];
                ToolTipML=[ENU=Specifies the number of the customer who will receive the products and be billed by default.;
                           NOR=Angir nummeret pÜ kunden som mottar produktene og faktureres som standard.;
                           SVE=Anger numret pÜ den kund som ska ta emot produkterna och som ska faktureras som standard.];
                ApplicationArea=#Basic,#Suite;
                NotBlank=Yes;
                SourceExpr="Sell-to Customer No.";
                Importance=Additional;
                OnValidate=BEGIN
                             SelltoCustomerNoOnAfterValidate(Rec,xRec);
                             CurrPage.UPDATE;
                           END;
                            }

    { 6   ;2   ;Field     ;
                CaptionML=[ENU=Customer Name;
                           NOR=Kundens navn;
                           SVE=Kundens namn];
                ToolTipML=[ENU=Specifies the name of the customer who will receive the products and be billed by default.;
                           NOR=Angir navnet pÜ kunden som mottar produktene og faktureres som standard.;
                           SVE=Anger namnet pÜ kunden som ska ta emot produkterna och som ska faktureras som standard.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Sell-to Customer Name";
                Importance=Promoted;
                OnValidate=BEGIN
                             IF "No." = '' THEN
                               InitRecord;

                             SelltoCustomerNoOnAfterValidate(Rec,xRec);

                             SalesCalcDiscByType.ApplyDefaultInvoiceDiscount(0,Rec);

                             CurrPage.UPDATE;
                             SellToCustomerUsesOIOUBL := CustomerUsesOIOUBL("Sell-to Customer No.");  //NAVDK
                             SellToCustomerUsesEInvoicing := CustomerUsesEInvoicing("Sell-to Customer No."); //NAVNO
                           END;

                ShowMandatory=TRUE }

    { 17  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies additional posting information for the document. After you post the document, the description can add detail to vendor and customer ledger entries.;
                           NOR=Angir ekstra bokfõringsinformasjon for dokumentet. NÜr du bokfõrer dokumentet, kan beskrivelsen tilfõre detaljer til leverandõr- og kundeposter.;
                           SVE=Anger ytterligare bokfîringsinformation fîr dokumentet. NÑr du bokfîr dokumentet kan beskrivningen tillfîra detaljer i leverantîrs- och kundreskontratransaktioner.];
                ApplicationArea=#Suite;
                SourceExpr="Posting Description";
                Visible=FALSE }

    { 79  ;2   ;Group     ;
                CaptionML=[ENU=Sell-to;
                           NOR=Salg til;
                           SVE=Kund];
                GroupType=Group }

    { 65  ;3   ;Field     ;
                CaptionML=[ENU=Address;
                           NOR=Adresse;
                           SVE=Adress];
                ToolTipML=[ENU=Specifies the address where the customer is located.;
                           NOR=Angir adressen der kunden befinner seg.;
                           SVE=Anger kundens adress.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Sell-to Address";
                Importance=Additional;
                QuickEntry=FALSE }

    { 67  ;3   ;Field     ;
                CaptionML=[ENU=Address 2;
                           NOR=Adresse 2;
                           SVE=Adress 2];
                ToolTipML=[ENU=Specifies additional address information.;
                           NOR=Angir ekstra adresseinformasjon.;
                           SVE=Anger ytterligare adressuppgifter.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Sell-to Address 2";
                Importance=Additional;
                QuickEntry=FALSE }

    { 69  ;3   ;Field     ;
                CaptionML=[ENU=City;
                           NOR=Sted;
                           SVE=Ort];
                ToolTipML=[ENU=Specifies the city of the customer on the sales document.;
                           NOR=Angir bostedet for kunden pÜ salgsdokumentet.;
                           SVE=Anger kundens ort pÜ fîrsÑljningsdokumentet.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Sell-to City";
                Importance=Additional;
                QuickEntry=FALSE }

    { 36  ;3   ;Group     ;
                Visible=IsSellToCountyVisible;
                GroupType=Group }

    { 34  ;4   ;Field     ;
                CaptionML=[ENU=County;
                           NOR=Fylke/delstat;
                           SVE=LÑn];
                ToolTipML=[ENU=Specifies the state, province or county of the address.;
                           NOR=Angir delstat, omrÜde eller fylke i adressen.;
                           SVE=Anger delstat, region eller lÑn i adressen.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Sell-to County";
                Importance=Additional;
                QuickEntry=FALSE }

    { 18  ;3   ;Field     ;
                CaptionML=[ENU=Post Code;
                           NOR=Postnummer;
                           SVE=Postnummer];
                ToolTipML=[ENU=Specifies the postal code.;
                           NOR=Angir postnummeret.;
                           SVE=Anger postnumret.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Sell-to Post Code";
                Importance=Additional;
                QuickEntry=FALSE }

    { 32  ;3   ;Field     ;
                CaptionML=[ENU=Country/Region;
                           NOR=Land/omrÜde;
                           SVE=Land/region];
                ToolTipML=[ENU=Specifies the country or region of the address.;
                           NOR=Angir landet eller omrÜdet i adressen.;
                           SVE=Anger adressens land eller region.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Sell-to Country/Region Code";
                Importance=Additional;
                OnValidate=BEGIN
                             IsSellToCountyVisible := FormatAddress.UseCounty("Sell-to Country/Region Code");
                           END;

                QuickEntry=FALSE }

    { 57  ;3   ;Field     ;
                CaptionML=[ENU=Contact No.;
                           NOR=Kontaktnr.;
                           SVE=Kontaktnr];
                ToolTipML=[ENU=Specifies the number of the contact that the sales document will be sent to.;
                           NOR=Angir nummeret til kontakten som salgsdokumentet vil bli sendt til.;
                           SVE=Anger numret fîr den kontakt som fîrsÑljningsdokumentet ska skickas till.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Sell-to Contact No.";
                Importance=Additional;
                OnValidate=BEGIN
                             IF GETFILTER("Sell-to Contact No.") = xRec."Sell-to Contact No." THEN
                               IF "Sell-to Contact No." <> xRec."Sell-to Contact No." THEN
                                 SETRANGE("Sell-to Contact No.");
                           END;
                            }

    { 1210190005;2;Field  ;
                SourceExpr="Sell-to Customer Name 2" }

    { 8   ;2   ;Field     ;
                CaptionML=[ENU=Contact;
                           NOR=Kontakt;
                           SVE=Kontakt];
                ToolTipML=[ENU=Specifies the name of the person to contact at the customer.;
                           NOR=Angir navnet pÜ kontaktpersonen hos kunden.;
                           SVE=Anger namnet pÜ kundkontakten.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Sell-to Contact";
                Editable="Sell-to Customer No." <> '';
                OnLookup=BEGIN
                           LookupShipToContactPerson; //**4PS.n
                         END;
                          }

    { 1060007;2;Field     ;
                ToolTipML=ENU=Specifies the telephone number of the contact person at the customer.;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Sell-to Contact Phone No.";
                Visible=DKinfoEnable }

    { 1060003;2;Field     ;
                ToolTipML=ENU="Specifies the fax number of the contact person at the customer. ";
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Sell-to Contact Fax No.";
                Visible=DKinfoEnable }

    { 1101100000;2;Field  ;
                ToolTipML=[ENU=Specifies the email address of the contact person at the customer.;
                           SVE=Anger den ursprungliga fakturan.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Sell-to Contact E-Mail";
                Importance=Additional;
                Visible=DKinfoEnable }

    { 1060005;2;Field     ;
                ToolTipML=ENU=Specifies the role of the contact person at the customer.;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Sell-to Contact Role";
                Importance=Additional;
                Visible=DKinfoEnable }

    { 21  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the customer's reference. The contents will be printed on sales documents.;
                           NOR=Angir kundens referanse. Innholdet vil bli skrevet ut pÜ salgsdokumenter.;
                           SVE=Anger kundens referens. InnehÜllet skrivs ut pÜ fîrsÑljningsdokumenten.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Your Reference";
                Importance=Additional;
                ShowMandatory=SellToCustomerUsesEInvoicing }

    { 12  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the date when the posting of the sales document will be recorded.;
                           NOR=Angir datoen nÜr bokfõringen av salgsdokumentet blir registrert.;
                           SVE=Anger datumet dÜ bokfîring av fîrsÑljningsdokumentet registreras.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Posting Date";
                Importance=Promoted;
                OnValidate=BEGIN
                             SaveInvoiceDiscountAmount;
                           END;
                            }

    { 39  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the date when the related document was created.;
                           NOR=Angir datoen da de relaterte dokumentet ble opprettet.;
                           SVE=Anger datumet nÑr det relaterade dokumentet skapades.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Document Date";
                Importance=Additional }

    { 133 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies when the related sales invoice must be paid.;
                           NOR=Angir nÜr den relaterte salgsfakturaen mÜ betales.;
                           SVE=Anger nÑr den relaterade fîrsÑljningsfakturan mÜste vara betald.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Due Date";
                Importance=Standard }

    { 11  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the incoming document that this sales document is created for.;
                           NOR=Angir nummeret pÜ det innkommende dokumentet som dette salgsdokumentet er opprettet for.;
                           SVE=Anger numret pÜ det inkommande dokument som detta fîrsÑljningsdokument skapas fîr.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Incoming Document Entry No.";
                Importance=Additional;
                Visible=FALSE }

    { 54  ;2   ;Field     ;
                Name=FunctionsButton;
                ToolTipML=[ENU=Specifies a document number that refers to the customer's or vendor's numbering system.;
                           NOR=Angir et dokumentnummer som henviser til kundens eller leverandõrens nummereringssystem.;
                           SVE=Anger ett dokumentnummer som refererar till kundens eller leverantîrens nummersystem.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="External Document No.";
                Importance=Additional;
                ShowMandatory=ExternalDocNoMandatory OR SellToCustomerUsesOIOUBL OR SellToCustomerUsesEInvoicing }

    { 10  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the name of the salesperson who is assigned to the customer.;
                           NOR=Angir navnet pÜ selgeren som er knyttet til kunden.;
                           SVE=Anger namnet pÜ den sÑljare som Ñr tilldelad kunden.];
                ApplicationArea=#Suite;
                SourceExpr="Salesperson Code";
                Importance=Additional;
                Visible=FALSE;
                OnValidate=BEGIN
                             CALCFIELDS("Salesperson Name");
                               SalespersonCodeOnAfterValidate;
                           END;
                            }

    { 1100525001;2;Field  ;
                DrillDown=No;
                SourceExpr="Salesperson Name";
                Importance=Additional;
                Visible=FALSE }

    { 1100528401;2;Field  ;
                SourceExpr="Sales Representative Code";
                Visible=FALSE }

    { 104 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the campaign that the document is linked to.;
                           NOR=Angir nummeret pÜ kampanjen som dokumentet er knyttet til.;
                           SVE=Anger kampanjnumret som dokumentet Ñr lÑnkat till.];
                ApplicationArea=#RelationshipMgmt;
                SourceExpr="Campaign No.";
                Importance=Additional;
                Visible=FALSE }

    { 1101200000;2;Field  ;
                SourceExpr="Job No.";
                Editable="Job No.Editable";
                OnLookup=BEGIN
                           //LookupJobNo(CurrPage."Job No.".EDITABLE);
                           LookupJobNo("Job No.Editable");
                         END;
                          }

    { 107 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code of the responsibility center, such as a distribution hub, that is associated with the involved user, company, customer, or vendor.;
                           NOR=Angir koden til ansvarssenteret, for eksempel en distribusjonshub, som er knyttet til den involverte brukeren, selskapet, kunden eller leverandõren.;
                           SVE=Anger koden fîr ansvarsenheten, till exempel ett distributionsnav, som associeras med anvÑndaren, fîretaget, kunden eller leverantîren i frÜga.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Responsibility Center";
                Importance=Additional;
                Visible=FALSE }

    { 1100485000;2;Field  ;
                SourceExpr="Related Sales Order No.";
                Visible=FALSE }

    { 1100485005;2;Field  ;
                SourceExpr="Principal Reference" }

    { 5   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the status of a job queue entry or task that handles the posting of sales credit memos.;
                           NOR=Angir status for en jobbkõpost eller oppgave som hÜndterer bokfõring av salgskreditnotaer.;
                           SVE=Anger statusen fîr en jobbkîtransaktion eller en aktivitet som hanterar bokfîringen av fîrsÑljningskreditnotor.];
                ApplicationArea=#All;
                SourceExpr="Job Queue Status";
                Importance=Additional;
                Visible=JobQueueUsed }

    { 110 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether the document is open, waiting to be approved, has been invoiced for prepayment, or has been released to the next stage of processing.;
                           NOR=Angir om dokumentet er Üpent, om det venter pÜ godkjenning, om det er fakturert for forskudd eller om det er frigitt til neste fase i behandlingen.;
                           SVE=Anger om dokumentet Ñr îppet, vÑntar pÜ att godkÑnnas, har fakturerats fîr fîrskottsbetalning eller har slÑppts till nÑsta steg i behandlingen.];
                ApplicationArea=#Suite;
                SourceExpr=Status;
                Importance=Additional }

    { 14  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of the posted document that this document or journal line will be applied to when you post, for example to register payment.;
                           NOR=Angir typen bokfõrt dokument som dette dokumentet eller denne kladdelinjen blir utlignet til nÜr du bokfõrer, for eksempel for Ü registrere utbetaling.;
                           SVE=Anger typen fîr det bokfîrda dokument som den hÑr dokument- eller journalraden tillÑmpas pÜ nÑr du bokfîr, t.ex. fîr att registrera en betalning.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Applies-to Doc. Type";
                Importance=Promoted }

    { 16  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the posted document that this document or journal line will be applied to when you post, for example to register payment.;
                           NOR=Angir nummeret for det bokfõrte dokumentet som dette dokumentet eller denne kladdelinjen blir utlignet til nÜr du bokfõrer, for eksempel for Ü registrere utbetaling.;
                           SVE=Anger numret pÜ det bokfîrda dokument som den hÑr dokument- eller journalraden tillÑmpas pÜ nÑr du bokfîr, t.ex. fîr att registrera en betalning.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Applies-to Doc. No.";
                Importance=Promoted }

    { 94  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the ID of entries that will be applied to when you choose the Apply Entries action.;
                           NOR=Angir ID-en for postene som blir utlignet nÜr du velger handlingen Utlign poster.;
                           SVE=Anger id-numret fîr transaktioner som kommer att tillÑmpas nÑr du vÑljer ÜtgÑrden Koppla transaktioner.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Applies-to ID";
                Importance=Additional }

    { 62  ;2   ;Group     ;
                CaptionML=[ENU=Work Description;
                           NOR=Arbeidsbeskrivelse;
                           SVE=Arbetsbeskrivning];
                GroupType=Group }

    { 60  ;3   ;Field     ;
                ToolTipML=[ENU=Specifies the products or services being offered.;
                           NOR=Angir produktene eller tjenestene som tilbys.;
                           SVE=Anger erbjudna produkter eller tjÑnster.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=WorkDescription;
                Importance=Additional;
                Visible=FALSE;
                MultiLine=Yes;
                OnValidate=BEGIN
                             SetWorkDescription(WorkDescription);
                           END;

                ShowCaption=No }

    { 1100527000;2;Field  ;
                SourceExpr="Return Order No.";
                Visible=FALSE }

    { 1100527001;2;Field  ;
                SourceExpr="Service Order No." }

    { 1101101000;2;Field  ;
                ToolTipML=[ENU=Specifies the original invoice.;
                           SVE=Anger den ursprungliga fakturan.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Source Inv. No." }

    { 1101101002;2;Field  ;
                ToolTipML=[ENU=Specifies the VAT amount for the original invoice.;
                           SVE=Anger momsbeloppet fîr den ursprungliga fakturan.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Source Inv. VAT" }

    { 1101101004;2;Field  ;
                ToolTipML=[ENU=Specifies the total amount for the original invoice.;
                           SVE=Anger det totala beloppet fîr den ursprungliga fakturan.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Source Inv. Total" }

    { 1100527450;2;Field  ;
                SourceExpr="Service Contract No." }

    { 1101285000;2;Field  ;
                SourceExpr="Inserted By";
                Visible=FALSE }

    { 48  ;1   ;Part      ;
                Name=SalesLines;
                ApplicationArea=#Basic,#Suite;
                SubPageLink=Document No.=FIELD(No.);
                PagePartID=Page96;
                Enabled=(("Sell-to Customer No." <> '') OR ("Plant Invoice"));
                Editable=(("Sell-to Customer No." <> '') OR ("Plant Invoice"));
                UpdatePropagation=Both }

    { 1906801201;1;Group  ;
                CaptionML=[ENU=Credit Memo Details;
                           NOR=Kreditnotadetaljer;
                           SVE=Kreditnotainformation];
                GroupType=Group }

    { 1905885101;1;Group  ;
                CaptionML=[ENU=Billing;
                           NOR=Fakturering;
                           SVE=Fakturering];
                GroupType=Group }

    { 1100528701;2;Field  ;
                CaptionML=[ENU=E-Mail (Invoices);
                           SVE=E-post (fakturor)];
                SourceExpr=SalesHeaderExtension."E-Mail (Invoices)";
                OnValidate=BEGIN
                             //**4PS.sn
                             SalesHeaderExtension.VALIDATE("E-Mail (Invoices)");
                             SalesHeaderExtension.UpdateSalesHeadExtension("Document Type", "No.");
                             //**4PS.en
                             //CurrPage.SAVERECORD; //**4PS.o
                             SalesCalcDiscByType.ApplyDefaultInvoiceDiscount(0,Rec);
                           END;
                            }

    { 1100528702;2;Field  ;
                CaptionML=[ENU=Electronic Invoicing;
                           SVE=Elektronisk fakturering];
                OptionCaptionML=[ENU=Print,,E-Mail,,GLN (XML),eVerbinding,Svefaktura (XML),OIOUBL (DK),UBL (NO);
                                 SVE=Skriv ut,,Email,,GLN (XML),Digipoort (XML),Svefaktura (XML),OIOUBL (DK),UBL (NO)];
                SourceExpr=SalesHeaderExtension."Electronic Invoicing";
                OnValidate=BEGIN
                             //**4PS.n
                             SalesHeaderExtension.VALIDATE("Electronic Invoicing");
                             SalesHeaderExtension.UpdateSalesHeadExtension("Document Type", "No.");
                             //CurrPage.SAVERECORD; //C034513.o
                           END;
                            }

    { 1100528703;2;Field  ;
                CaptionML=ENU=Combine E-Mail Attachments;
                SourceExpr=SalesHeaderExtension."Combine E-Mail Attachments";
                OnValidate=BEGIN
                             //**4PS.n
                             SalesHeaderExtension.VALIDATE("Combine E-Mail Attachments");
                             SalesHeaderExtension.UpdateSalesHeadExtension("Document Type", "No.");
                             //CurrPage.SAVERECORD; //C034513.o
                           END;
                            }

    { 1210190014;2;Field  ;
                SourceExpr="Interest Date";
                Visible="Interest DateVisible" }

    { 1100525003;2;Field  ;
                SourceExpr="Invoice Layout Code";
                Visible=FALSE }

    { 1100485015;2;Field  ;
                SourceExpr="Reason Code";
                Visible=FALSE }

    { 30  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the VAT specification of the involved customer or vendor to link transactions made for this record with the appropriate general ledger account according to the VAT posting setup.;
                           NOR=Angir mva-spesifikasjonen for den involverte kunden eller leverandõren for Ü koble transaksjoner som ble utfõrt for denne posten, med riktig finanskonto i henhold til det generelle mva-bokfõringsoppsettet.;
                           SVE=Anger momsspecifikationen fîr den berîrda kunden eller leverantîren i syfte att koppla transaktioner som skapas fîr posten till det lÑmpliga redovisningskontot enligt momsbokfîringsinstÑllningen.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="VAT Bus. Posting Group";
                OnValidate=VAR
                             ApplicationAreaMgmtFacade@1000 : Codeunit 9179;
                           BEGIN
                             IF ApplicationAreaMgmtFacade.IsFoundationEnabled THEN
                               SalesCalcDiscByType.ApplyDefaultInvoiceDiscount(0,Rec);
                           END;
                            }

    { 131 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a formula that calculates the payment due date, payment discount date, and payment discount amount.;
                           NOR=Angir en formel som beregner forfallsdatoen for betalingen, kontantrabattdatoen og kontantrabattbelõpet.;
                           SVE=Anger en formel som berÑknar betalningsfîrfallodatumet, kassarabattsdatumet och kassarabattens belopp.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Payment Terms Code";
                Importance=Standard }

    { 1060004;2;Field     ;
                ToolTipML=ENU=Specifies the Offentlig Information Online UBL (OIOUBL) payment method for the document.;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Payment Channel";
                Visible=DKinfoEnable }

    { 142 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how to make payment, such as with bank transfer, cash, or check.;
                           NOR=Angir hvordan du utfõrer en betaling, for eksempel med bankoverfõring, kontanter eller sjekk.;
                           SVE=Anger hur kunden betalar, t.ex. med bankîverfîring, kontanter eller check.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Payment Method Code";
                Importance=Additional }

    { 74  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for Shortcut Dimension 1, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                           NOR=Angir koden til Snarveisdimensjon 1, som er Çn av to globale dimensjonskoder som du har definert i vinduet Finansoppsett.;
                           SVE=Anger koden fîr GenvÑg dimension 1, som Ñr en av tvÜ globala dimensionskoder som du stÑller in i fînstret RedovisningsinstÑllningar.];
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 1 Code";
                OnValidate=BEGIN
                             //**4PS Generated Code. Do Not Change.sn03
                             DPA_ChkDepartmentCodeAllowed(DPA_IsHardFilter);
                             //**4PS Generated Code.en03
                               ShortcutDimension1CodeOnAfterV;
                           END;
                            }

    { 78  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for Shortcut Dimension 2, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                           NOR=Angir koden til Snarveisdimensjon 2, som er Çn av to globale dimensjonskoder som du har definert i vinduet Finansoppsett.;
                           SVE=Anger koden fîr GenvÑg dimension 2, som Ñr en av tvÜ globala dimensionskoder som du stÑller in i fînstret RedovisningsinstÑllningar.];
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 2 Code";
                Visible=FALSE;
                LookupPageID=Cost Object List;
                OnValidate=BEGIN
                             ShortcutDimension2CodeOnAfterV;
                           END;
                            }

    { 135 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the payment discount percentage granted if the customer pays on or before the date entered in the Pmt. Discount Date field.;
                           NOR=Angir kontantrabattprosenten som gis hvis kunden betaler innen den datoen som er satt inn i feltet Kont.rabattdato.;
                           SVE=Anger den procentuella kassarabatten som anvÑnds om kunden betalar senast det datum som anges i fÑltet Kassarabattsdatum.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Payment Discount %";
                Visible=FALSE }

    { 137 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the date on which the amount in the entry must be paid for a payment discount to be granted.;
                           NOR=Angir datoen da belõpet i posten mÜ vëre betalt for at det kan oppnÜs kontantrabatt.;
                           SVE=Anger datumet dÜ transaktionens belopp mÜste vara betalt fîr att orderns kassarabatt ska gÑlla.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Pmt. Discount Date";
                Importance=Additional;
                Visible=FALSE }

    { 80  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the location from where inventory items to the customer on the sales document are to be shipped by default.;
                           NOR=Angir plasseringen der lagervarer til kunden pÜ salgsdokumentet leveres fra som standard.;
                           SVE=Anger det lagerstÑlle frÜn vilket lagerartiklar till kunden pÜ fîrsÑljningsdokument ska levereras som standard.];
                ApplicationArea=#Location;
                SourceExpr="Location Code";
                Importance=Additional;
                Visible=FALSE }

    { 13  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies if the transaction is related to trade with a third party within the EU.;
                           NOR=Angir om transaksjonen er relatert til handel med en tredjepart innen EU.;
                           SVE=Anger om transaktionen Ñr relaterad till handel med tredje part inom EU.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="EU 3-Party Trade";
                Visible=FALSE }

    { 96  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies when items on the document are shipped or were shipped. A shipment date is usually calculated from a requested delivery date plus lead time.;
                           NOR=Angir om varer i dokumentet skal leveres eller er levert. En leveringsdato beregnes vanligvis fra en õnsket leveringsdato pluss leveringstid.;
                           SVE=Anger nÑr artiklarna i dokumentet ska levereras eller har levererats. Ett utleveransdatum berÑknas vanligtvis frÜn ett begÑrt leveransdatum plus ledtiden.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Shipment Date";
                Importance=Standard;
                Visible=FALSE }

    { 1210190000;2;Field  ;
                SourceExpr="Alternative Bill-to Address" }

    { 1210190009;2;Field  ;
                SourceExpr="Ship-to Name 2" }

    { 77  ;2   ;Group     ;
                CaptionML=[ENU=Bill-to;
                           NOR=Faktura til;
                           SVE=Faktureras];
                GroupType=Group }

    { 20  ;3   ;Field     ;
                CaptionML=[ENU=Name;
                           NOR=Navn;
                           SVE=Namn];
                ToolTipML=[ENU=Specifies the customer to whom you will send the sales invoice, when different from the customer that you are selling to.;
                           NOR=Angir kunden som du sender salgsfakturaen til, nÜr det er en annen enn kunden som du selger til.;
                           SVE=Anger kunden som fîrsÑljningsfakturan ska skickas till om kunden Ñr en annan Ñn kunden du sÑljer till.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Bill-to Name";
                Importance=Promoted;
                OnValidate=BEGIN
                             IF GETFILTER("Bill-to Customer No.") = xRec."Bill-to Customer No." THEN
                               IF "Bill-to Customer No." <> xRec."Bill-to Customer No." THEN
                                 SETRANGE("Bill-to Customer No.");

                             SalesCalcDiscByType.ApplyDefaultInvoiceDiscount(0,Rec);

                             CurrPage.UPDATE;
                           END;
                            }

    { 1210190007;3;Field  ;
                SourceExpr="Bill-to Name 2" }

    { 22  ;3   ;Field     ;
                CaptionML=[ENU=Address;
                           NOR=Adresse;
                           SVE=Adress];
                ToolTipML=[ENU=Specifies the address of the customer that you will send the invoice to.;
                           NOR=Angir adressen til kunden som fakturaen skal sendes til.;
                           SVE=Anger adressen till kunden som du ska skicka fakturan till.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Bill-to Address";
                Importance=Additional;
                QuickEntry=FALSE }

    { 24  ;3   ;Field     ;
                CaptionML=[ENU=Address 2;
                           NOR=Adresse 2;
                           SVE=Adress 2];
                ToolTipML=[ENU=Specifies additional address information.;
                           NOR=Angir ekstra adresseinformasjon.;
                           SVE=Anger ytterligare adressuppgifter.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Bill-to Address 2";
                Importance=Additional;
                QuickEntry=FALSE }

    { 26  ;3   ;Field     ;
                CaptionML=[ENU=City;
                           NOR=Sted;
                           SVE=Ort];
                ToolTipML=[ENU=Specifies the city of the customer on the sales document.;
                           NOR=Angir bostedet for kunden pÜ salgsdokumentet.;
                           SVE=Anger kundens ort pÜ fîrsÑljningsdokumentet.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Bill-to City";
                Importance=Additional;
                QuickEntry=FALSE }

    { 55  ;3   ;Group     ;
                Visible=IsBillToCountyVisible;
                GroupType=Group }

    { 42  ;4   ;Field     ;
                CaptionML=[ENU=County;
                           NOR=Fylke/delstat;
                           SVE=LÑn];
                ToolTipML=[ENU=Specifies the state, province or county of the address.;
                           NOR=Angir delstat, omrÜde eller fylke i adressen.;
                           SVE=Anger delstat, region eller lÑn i adressen.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Bill-to County";
                Importance=Additional;
                QuickEntry=FALSE }

    { 38  ;3   ;Field     ;
                CaptionML=[ENU=Post Code;
                           NOR=Postnummer;
                           SVE=Postnummer];
                ToolTipML=[ENU=Specifies the postal code.;
                           NOR=Angir postnummeret.;
                           SVE=Anger postnumret.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Bill-to Post Code";
                Importance=Additional;
                QuickEntry=FALSE }

    { 40  ;3   ;Field     ;
                CaptionML=[ENU=Country/Region;
                           NOR=Land/omrÜde;
                           SVE=Land/region];
                ToolTipML=[ENU=Specifies the country or region of the address.;
                           NOR=Angir landet eller omrÜdet i adressen.;
                           SVE=Anger adressens land eller region.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Bill-to Country/Region Code";
                Importance=Additional;
                OnValidate=BEGIN
                             IsBillToCountyVisible := FormatAddress.UseCounty("Bill-to Country/Region Code");
                           END;

                QuickEntry=FALSE }

    { 124 ;3   ;Field     ;
                CaptionML=[ENU=Contact No;
                           NOR=Kontaktnr.;
                           SVE=Kontaktnr];
                ToolTipML=[ENU=Specifies the number of the contact the invoice will be sent to.;
                           NOR=Angir nummeret til kontakten som fakturaen vil bli sendt til.;
                           SVE=Anger numret fîr kontakten som fakturan ska skickas till.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Bill-to Contact No.";
                Importance=Additional }

    { 28  ;3   ;Field     ;
                CaptionML=[ENU=Contact;
                           NOR=Kontakt;
                           SVE=Kontakt];
                ToolTipML=[ENU=Specifies the name of the person you should contact at the customer who you are sending the invoice to.;
                           NOR=Angir navnet pÜ kontaktperson hos kunden som fakturaen blir sendt til.;
                           SVE=Anger namnet pÜ den person du bîr kontakta hos kunden som du skickar fakturan till.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Bill-to Contact" }

    { 1060000;2;Field     ;
                ToolTipML=ENU=Specifies the EAN location number for the customer.;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="EAN No.";
                Visible=DKinfoEnable }

    { 1600002;2;Field     ;
                ToolTipML=[ENU=Specifies the account code of the customer.;
                           SVE=Anger kontokoden fîr kunden.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Account Code DK";
                Visible=DKinfoEnable;
                OnValidate=BEGIN
                             AccountCodeOnAfterValidate;
                           END;
                            }

    { 1061001;2;Field     ;
                ToolTipML=ENU=Specifies the profile that the customer requires for electronic documents.;
                ApplicationArea=#Basic,#Suite;
                SourceExpr="OIOUBL Profile Code";
                Visible=DKinfoEnable }

    { 1080000;2;Field     ;
                ToolTipML=[ENU=Specifies the global location number of the customer.;
                           NOR=Angir det globale lokasjonsnummeret for kunden.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=GLN;
                Visible=NORlocalizationEnable }

    { 1080022;2;Field     ;
                ToolTipML=[ENU=Specifies the account code of the customer.;
                           NOR=Angir kontokoden for kunden.;
                           SVE=Anger kontokoden fîr kunden.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Account Code NO";
                Visible=NORlocalizationEnable;
                OnValidate=BEGIN
                             AccountCodeOnAfterValidate;
                           END;
                            }

    { 1080012;2;Field     ;
                ToolTipML=[ENU=Specifies whether the customer is part of the EHF system and requires an electronic sales order.;
                           NOR=Angir om kunden er en del av EHF-systemet og krever en elektronisk ordre.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="E-Invoice";
                Visible=NORlocalizationEnable }

    { 1907468901;1;Group  ;
                CaptionML=[ENU=Foreign Trade;
                           NOR=Utenrikshandel;
                           SVE=Utlandshandel];
                GroupType=Group }

    { 91  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the currency of amounts on the sales document.;
                           NOR=Angir valutaen til belõpene pÜ salgsdokumentet.;
                           SVE=Anger valutan fîr beloppen pÜ fîrsÑljningsdokumentet.];
                ApplicationArea=#Suite;
                SourceExpr="Currency Code";
                Importance=Promoted;
                Visible=FALSE;
                Editable="Currency CodeEditable";
                OnValidate=BEGIN
                             CurrPage.SAVERECORD;
                             SalesCalcDiscByType.ApplyDefaultInvoiceDiscount(0,Rec);
                           END;

                OnAssistEdit=BEGIN
                               CLEAR(ChangeExchangeRate);
                               IF "Posting Date" <> 0D THEN
                                 ChangeExchangeRate.SetParameter("Currency Code","Currency Factor","Posting Date")
                               ELSE
                                 ChangeExchangeRate.SetParameter("Currency Code","Currency Factor",WORKDATE);
                               ChangeExchangeRate.SetAdditionalParameters(1, "Job No.", TRUE); //**4PS.n
                               IF ChangeExchangeRate.RUNMODAL = ACTION::OK THEN BEGIN
                                 VALIDATE("Currency Factor",ChangeExchangeRate.GetParameter);
                                  SaveInvoiceDiscountAmount;
                               END;
                               CLEAR(ChangeExchangeRate);
                             END;
                              }

    { 89  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a specification of the document's transaction, for the purpose of reporting to INTRASTAT.;
                           NOR=Angir en spesifikasjon for dokumentets transaksjon ved rapportering til INTRASTAT.;
                           SVE=Anger en specifikation av fîrsÑljningsdokumentets transaktion fîr inrapportering till INTRASTAT.];
                ApplicationArea=#Suite;
                SourceExpr="Transaction Specification";
                Visible=FALSE }

    { 44  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of transaction that the document represents, for the purpose of reporting to INTRASTAT.;
                           NOR=Angir transaksjonstypen som dokumentet representerer ved rapportering til INTRASTAT.;
                           SVE=Anger den transaktionstyp som dokumentet representerar fîr inrapportering till INTRASTAT.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Transaction Type";
                Visible=FALSE }

    { 46  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the transport method, for the purpose of reporting to INTRASTAT.;
                           NOR=Angir transportmÜten ved rapportering til INTRASTAT.;
                           SVE=Anger transportsÑttet fîr inrapportering till INTRASTAT.];
                ApplicationArea=#Suite;
                SourceExpr="Transport Method";
                Visible=FALSE }

    { 85  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the point of exit through which you ship the items out of your country/region, for reporting to Intrastat.;
                           NOR=Angir utskipningshavnen du sender varene ut av landet/omrÜdet fra ved rapportering til Intrastat.;
                           SVE=Anger utfîrselplatsen frÜn vilken du levererar artiklarna ut ur landet/regionen fîr inrapportering till Intrastat.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Exit Point";
                Visible=FALSE }

    { 87  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the area of the customer or vendor, for the purpose of reporting to INTRASTAT.;
                           NOR=Angir omrÜdet for kunden eller leverandõren ved rapportering til INTRASTAT.;
                           SVE=Anger omrÜdet i kundens eller leverantîrens adress fîr inrapportering till INTRASTAT.];
                ApplicationArea=#Suite;
                SourceExpr=Area;
                Visible=FALSE }

    { 1210190011;2;Field  ;
                SourceExpr="VAT Registration No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1100485020;2;Field  ;
                SourceExpr="Company VAT Registration No.";
                Visible=FALSE }

    { 1100485018;2;Field  ;
                SourceExpr="Country of Origin";
                Visible=FALSE }

    { 1100485014;2;Field  ;
                SourceExpr="Country of Destination";
                Visible=FALSE }

    { 1905680101;1;Group  ;
                CaptionML=[ENU=Invoice Text;
                           SVE=Fakturatext] }

    { 1000000000;2;Field  ;
                SourceExpr="Invoice Text";
                MultiLine=Yes }

    { 1100485012;2;Field  ;
                SourceExpr="Order No. Customer";
                Importance=Promoted }

    { 1100528400;2;Field  ;
                SourceExpr="Commision Date Customer" }

    { 1902686201;1;Group  ;
                CaptionML=[ENU=WKA;
                           SVE=WKA] }

    { 1000000006;2;Field  ;
                SourceExpr="Specific WKA Percentages";
                OnValidate=BEGIN
                             SpecificWKAPercentagesOnAfterV;
                           END;
                            }

    { 1000000004;2;Field  ;
                SourceExpr="% Labor";
                Importance=Promoted;
                Editable="% LaborEditable" }

    { 1000000002;2;Field  ;
                SourceExpr="% to B Account";
                Importance=Promoted;
                Editable="% to B AccountEditable" }

    { 1100485009;2;Field  ;
                SourceExpr="Calculate B Amounts based on";
                Editable=CalculateBAmountsbasedonEditab }

    { 1100485003;2;Field  ;
                SourceExpr="WKA Period";
                Visible=FALSE }

    { 1907669701;1;Group  ;
                CaptionML=[ENU=Credit Restriction;
                           SVE=Kreditrestriktion];
                GroupType=Group }

    { 1210190021;2;Field  ;
                SourceExpr="Credit Restriction";
                Importance=Promoted;
                Visible=FALSE }

    { 1210190020;2;Field  ;
                SourceExpr="Credit Restriction Date";
                Importance=Promoted;
                Visible=FALSE }

    { 1210190019;2;Field  ;
                SourceExpr="Credit Restriction %";
                Visible=FALSE }

    { 1000000003;1;Group  ;
                CaptionML=ENU=Finvoice;
                GroupType=Group }

    { 1000000001;2;Field  ;
                SourceExpr="Finvoice Enabled" }

    { 1900000007;0;Container;
                ContainerType=FactBoxArea }

    { 15  ;1   ;Part      ;
                Name=Attached Documents;
                CaptionML=[ENU=Attachments;
                           NOR=Vedlegg;
                           SVE=Bilagor];
                ApplicationArea=#All;
                SubPageLink=Table ID=CONST(36),
                            No.=FIELD(No.),
                            Document Type=FIELD(Document Type);
                PagePartID=Page1174;
                PartType=Page }

    { 19  ;1   ;Part      ;
                ApplicationArea=#All;
                SubPageLink=Table ID=CONST(36),
                            Document Type=FIELD(Document Type),
                            Document No.=FIELD(No.);
                PagePartID=Page9103;
                Visible=OpenApprovalEntriesExistForCurrUser;
                PartType=Page }

    { 1100529900;1;Part   ;
                Name=RegisterExternalDocumentFB;
                PagePartID=Page11125053;
                PartType=Page }

    { 1210190001;1;Part   ;
                SubPageLink=Document Type=FIELD(Document Type),
                            Document No.=FIELD(Document No.),
                            Line No.=FIELD(Line No.);
                PagePartID=Page11130180;
                ProviderID=48;
                PartType=Page }

    { 1903720907;1;Part   ;
                ApplicationArea=#Basic,#Suite;
                SubPageLink=No.=FIELD(Sell-to Customer No.);
                PagePartID=Page9080;
                Visible=FALSE;
                PartType=Page }

    { 1907234507;1;Part   ;
                ApplicationArea=#Basic,#Suite;
                SubPageLink=No.=FIELD(Sell-to Customer No.);
                PagePartID=Page9081;
                Visible=FALSE;
                PartType=Page }

    { 1902018507;1;Part   ;
                ApplicationArea=#Basic,#Suite;
                SubPageLink=No.=FIELD(Bill-to Customer No.);
                PagePartID=Page9082;
                PartType=Page }

    { 1900316107;1;Part   ;
                ApplicationArea=#Basic,#Suite;
                SubPageLink=No.=FIELD(Sell-to Customer No.);
                PagePartID=Page9084;
                PartType=Page }

    { 1906127307;1;Part   ;
                ApplicationArea=#Basic,#Suite;
                SubPageLink=Document Type=FIELD(Document Type),
                            Document No.=FIELD(Document No.),
                            Line No.=FIELD(Line No.);
                PagePartID=Page9087;
                ProviderID=48;
                Visible=FALSE;
                PartType=Page }

    { 1906354007;1;Part   ;
                Name=ApprovalFactBox;
                ApplicationArea=#Basic,#Suite;
                PagePartID=Page9092;
                Visible=FALSE;
                PartType=Page }

    { 33  ;1   ;Part      ;
                Name=IncomingDocAttachFactBox;
                ApplicationArea=#Basic,#Suite;
                PagePartID=Page193;
                Visible=FALSE;
                PartType=Page;
                ShowFilter=No }

    { 1907012907;1;Part   ;
                ApplicationArea=#Basic,#Suite;
                SubPageLink=No.=FIELD(No.);
                PagePartID=Page9108;
                ProviderID=48;
                Visible=FALSE;
                PartType=Page }

    { 50  ;1   ;Part      ;
                Name=WorkflowStatus;
                ApplicationArea=#All;
                PagePartID=Page1528;
                Visible=ShowWorkflowStatus;
                Enabled=FALSE;
                Editable=FALSE;
                PartType=Page;
                ShowFilter=No }

    { 1900383207;1;Part   ;
                ApplicationArea=#RecordLinks;
                Visible=FALSE;
                PartType=System;
                SystemPartID=RecordLinks }

    { 1905767507;1;Part   ;
                ApplicationArea=#Notes;
                PartType=System;
                SystemPartID=Notes }

  }
  CODE
  {
    VAR
      CopySalesDoc@1003 : Report 292;
      MoveNegSalesLines@1008 : Report 6699;
      ReportPrint@1004 : Codeunit 228;
      UserMgt@1005 : Codeunit 5700;
      SalesCalcDiscByType@1006 : Codeunit 56;
      LinesInstructionMgt@1017 : Codeunit 1320;
      FormatAddress@1025 : Codeunit 365;
      ChangeExchangeRate@1002 : Page 511;
      WorkDescription@1022 : Text;
      GeneratedCredMemo@1210190000 : Boolean;
      JobQueueVisible@1000 : Boolean INDATASET;
      JobQueueUsed@1014 : Boolean INDATASET;
      HasIncomingDocument@1012 : Boolean;
      DocNoVisible@1001 : Boolean;
      SellToCustomerUsesOIOUBL@1060000 : Boolean;
      SellToCustomerUsesEInvoicing@1080000 : Boolean;
      ExternalDocNoMandatory@1007 : Boolean;
      OpenApprovalEntriesExistForCurrUser@1016 : Boolean;
      OpenApprovalEntriesExist@1015 : Boolean;
      ShowWorkflowStatus@1009 : Boolean;
      OpenPostedSalesCrMemoQst@1018 : TextConst '@@@="%1 = posted document number";ENU=The credit memo is posted as number %1 and moved to the Posted Sales Credit Memos window.\\Do you want to open the posted credit memo?;NOR=Kreditnotaen er bokfõrt som nummer %1 og flyttet til vinduet Bokfõrte salgskreditnotaer.\\Vil du Üpne den bokfõrte kreditnotaen?;SVE=Kreditnotan har bokfîrts som nummer %1 och flyttats till fînstret Bokfîrda fîrsÑljningskreditnotor.\\Vill du îppna den bokfîrda kreditnotan?';
      CanCancelApprovalForRecord@1010 : Boolean;
      DocumentIsPosted@1011 : Boolean;
      IsCustomerOrContactNotEmpty@1013 : Boolean;
      CanRequestApprovalForFlow@1020 : Boolean;
      CanCancelApprovalForFlow@1019 : Boolean;
      IsSaaS@1021 : Boolean;
      IsBillToCountyVisible@1024 : Boolean;
      IsSellToCountyVisible@1023 : Boolean;
      DPA_IsHardFilter@1100000999 : Boolean;
      "Sell-to Customer No.Editable"@19059229 : Boolean INDATASET;
      "Bill-to Customer No.Editable"@19000288 : Boolean INDATASET;
      "Currency CodeEditable"@19053147 : Boolean INDATASET;
      "Job No.Editable"@19002086 : Boolean INDATASET;
      "% LaborEditable"@19078728 : Boolean INDATASET;
      "% to B AccountEditable"@19001286 : Boolean INDATASET;
      CalculateBAmountsbasedonEditab@19056189 : Boolean INDATASET;
      "Interest DateVisible"@19029017 : Boolean INDATASET;
      SalesHeaderExtension@1100528700 : Record 11071868;
      NewDocumentReportingVisible@1100528400 : Boolean INDATASET;
      GLSetup@1101285000 : Record 98;
      DKinfoEnable@1101285001 : Boolean INDATASET;
      NORlocalizationEnable@1101285002 : Boolean INDATASET;

    LOCAL PROCEDURE ActivateFields@11();
    BEGIN
      IsBillToCountyVisible := FormatAddress.UseCounty("Bill-to Country/Region Code");
      IsSellToCountyVisible := FormatAddress.UseCounty("Sell-to Country/Region Code");
    END;

    LOCAL PROCEDURE Post@4(PostingCodeunitID@1000 : Integer);
    VAR
      SalesHeader@1003 : Record 36;
      SalesCrMemoHeader@1004 : Record 114;
      OfficeMgt@1005 : Codeunit 1630;
      InstructionMgt@1006 : Codeunit 1330;
      PreAssignedNo@1001 : Code[20];
      IsScheduledPosting@1002 : Boolean;
    BEGIN
      CheckSalesCheckAllLinesHaveQuantityAssigned;
      PreAssignedNo := "No.";

      SendToPosting(PostingCodeunitID);

      IsScheduledPosting := "Job Queue Status" = "Job Queue Status"::"Scheduled for Posting";
      DocumentIsPosted := (NOT SalesHeader.GET("Document Type","No.")) OR IsScheduledPosting;
      OnPostOnAfterSetDocumentIsPosted(SalesHeader,IsScheduledPosting,DocumentIsPosted);

      IF IsScheduledPosting THEN
        CurrPage.CLOSE;
      CurrPage.UPDATE(FALSE);

      IF PostingCodeunitID <> CODEUNIT::"Sales-Post (Yes/No)" THEN
        EXIT;

      IF OfficeMgt.IsAvailable THEN BEGIN
        SalesCrMemoHeader.SETRANGE("Pre-Assigned No.",PreAssignedNo);
        IF SalesCrMemoHeader.FINDFIRST THEN
          PAGE.RUN(PAGE::"Posted Sales Credit Memo",SalesCrMemoHeader);
      END ELSE
        IF InstructionMgt.IsEnabled(InstructionMgt.ShowPostedConfirmationMessageCode) THEN
          ShowPostedConfirmationMessage(PreAssignedNo);
    END;

    LOCAL PROCEDURE ApproveCalcInvDisc@1();
    BEGIN
      CurrPage.SalesLines.PAGE.ApproveCalcInvDisc;
    END;

    LOCAL PROCEDURE SaveInvoiceDiscountAmount@14();
    VAR
      DocumentTotals@1000 : Codeunit 57;
    BEGIN
      CurrPage.SAVERECORD;
      DocumentTotals.SalesRedistributeInvoiceDiscountAmountsOnDocument(Rec);
      CurrPage.UPDATE(FALSE);
    END;

    LOCAL PROCEDURE SalespersonCodeOnAfterValidate@19011896();
    BEGIN
      CurrPage.SalesLines.PAGE.UpdateForm(TRUE);
    END;

    LOCAL PROCEDURE ShortcutDimension1CodeOnAfterV@19029405();
    BEGIN
      CurrPage.UPDATE;
    END;

    LOCAL PROCEDURE ShortcutDimension2CodeOnAfterV@19008725();
    BEGIN
      CurrPage.UPDATE;
    END;

    LOCAL PROCEDURE PricesIncludingVATOnAfterValid@19009096();
    BEGIN
      CurrPage.UPDATE;
    END;

    LOCAL PROCEDURE AccountCodeOnAfterValidate@19007267();
    BEGIN
      //NAVNO
      CurrPage.SalesLines.PAGE.UpdateForm(TRUE)
    END;

    LOCAL PROCEDURE SetDocNoVisible@2();
    VAR
      DocumentNoVisibility@1000 : Codeunit 1400;
      DocType@1003 : 'Quote,Order,Invoice,Credit Memo,Blanket Order,Return Order,Reminder,FinChMemo';
    BEGIN
      DocNoVisible := DocumentNoVisibility.SalesDocumentNoIsVisible(DocType::"Credit Memo","No.");
    END;

    LOCAL PROCEDURE CustomerUsesOIOUBL@1060000(CustomerNo@1060000 : Code[20]) : Boolean;
    VAR
      Customer@1060001 : Record 18;
    BEGIN
      //NAVDK
      IF Customer.GET(CustomerNo) THEN
        EXIT (Customer."OIOUBL Profile Code" <> '');
      EXIT(FALSE)
    END;

    LOCAL PROCEDURE CustomerUsesEInvoicing@1060002(CustomerNo@1060000 : Code[20]) : Boolean;
    VAR
      Customer@1060001 : Record 18;
    BEGIN
      //NAVNO
      IF Customer.GET(CustomerNo) THEN
        EXIT (Customer."E-Invoice");
      EXIT(FALSE)
    END;

    LOCAL PROCEDURE SetExtDocNoMandatoryCondition@3();
    VAR
      SalesReceivablesSetup@1000 : Record 311;
    BEGIN
      SalesReceivablesSetup.GET;
      ExternalDocNoMandatory := SalesReceivablesSetup."Ext. Doc. No. Mandatory"
    END;

    [External]
    PROCEDURE ShowPreview@5();
    VAR
      SalesPostYesNo@1000 : Codeunit 81;
    BEGIN
      SalesPostYesNo.Preview(Rec);
    END;

    LOCAL PROCEDURE SetControlAppearance@8();
    VAR
      ApprovalsMgmt@1002 : Codeunit 1535;
      WorkflowWebhookMgt@1000 : Codeunit 1543;
    BEGIN
      JobQueueVisible := "Job Queue Status" = "Job Queue Status"::"Scheduled for Posting";
      HasIncomingDocument := "Incoming Document Entry No." <> 0;
      SetExtDocNoMandatoryCondition;

      OpenApprovalEntriesExistForCurrUser := ApprovalsMgmt.HasOpenApprovalEntriesForCurrentUser(RECORDID);
      OpenApprovalEntriesExist := ApprovalsMgmt.HasOpenApprovalEntries(RECORDID);
      CanCancelApprovalForRecord := ApprovalsMgmt.CanCancelApprovalForRecord(RECORDID);
      IsCustomerOrContactNotEmpty := ("Sell-to Customer No." <> '') OR ("Sell-to Contact No." <> '');

      WorkflowWebhookMgt.GetCanRequestAndCanCancel(RECORDID,CanRequestApprovalForFlow,CanCancelApprovalForFlow);
    END;

    LOCAL PROCEDURE CheckSalesCheckAllLinesHaveQuantityAssigned@6();
    VAR
      ApplicationAreaMgmtFacade@1000 : Codeunit 9179;
    BEGIN
      IF ApplicationAreaMgmtFacade.IsFoundationEnabled THEN
        LinesInstructionMgt.SalesCheckAllLinesHaveQuantityAssigned(Rec);
    END;

    LOCAL PROCEDURE ShowPostedConfirmationMessage@7(PreAssignedNo@1001 : Code[20]);
    VAR
      SalesCrMemoHeader@1000 : Record 114;
      InstructionMgt@1002 : Codeunit 1330;
    BEGIN
      SalesCrMemoHeader.SETRANGE("Pre-Assigned No.",PreAssignedNo);
      IF SalesCrMemoHeader.FINDFIRST THEN
        IF InstructionMgt.ShowConfirm(STRSUBSTNO(OpenPostedSalesCrMemoQst,SalesCrMemoHeader."No."),
             InstructionMgt.ShowPostedConfirmationMessageCode)
        THEN
          PAGE.RUN(PAGE::"Posted Sales Credit Memo",SalesCrMemoHeader);
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeStatisticsAction@9(VAR SalesHeader@1000 : Record 36;VAR Handled@1001 : Boolean);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnPostOnAfterSetDocumentIsPosted@13(SalesHeader@1000 : Record 36;VAR IsScheduledPosting@1001 : Boolean;VAR DocumentIsPosted@1002 : Boolean);
    BEGIN
    END;

    LOCAL PROCEDURE SpecificWKAPercentagesOnAfterV@19002606();
    BEGIN
      //**4PS
      CurrPage.UPDATE;
    END;

    BEGIN
    END.
  }
}

