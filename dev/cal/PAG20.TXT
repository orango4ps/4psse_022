OBJECT Page 20 General Ledger Entries
{
  OBJECT-PROPERTIES
  {
    Date=;
    Time=;
    Version List=NAVW114.00,4PS14.00,4PSSE;
  }
  PROPERTIES
  {
    Permissions=TableData 17=m;
    CaptionML=[ENU=General Ledger Entries;
               NOR=Finansposter;
               SVE=Redovisningstransaktioner];
    ApplicationArea=#Basic,#Suite;
    SaveValues=Yes;
    InsertAllowed=No;
    DeleteAllowed=No;
    SourceTable=Table17;
    DataCaptionExpr=GetCaption;
    SourceTableView=SORTING(G/L Account No.,Posting Date)
                    ORDER(Descending);
    PageType=List;
    UsageCategory=History;
    AdditionalSearchTermsML=[ENU=g/l transactions;
                             NOR=finanstransaksjoner;
                             SVE=redovisningstransaktioner];
    PromotedActionCategoriesML=[ENU=New,Process,Report,Entry;
                                NOR=Ny,Prosess,Rapport,Oppf›ring;
                                SVE=Ny,Process,Rapport,Transaktion];
    OnInit=BEGIN
             AmountVisible := TRUE;
           END;

    OnOpenPage=VAR
                 EXApprovalSetup@1100285300 : Record 12013601;
                 GeneralLedgerSetup@1100285301 : Record 98;
               BEGIN
                 SetControlVisibility;

                 IF GETFILTERS <> '' THEN
                   IF FINDFIRST THEN;

                 //**4PS Generated Code. Do Not Change.sn01
                 DPA_IsHardFilter := DPA_SetFilters(CurrPage.OBJECTID(FALSE));
                 //**4PS Generated Code.en01

                 //**4PS.sn
                 FilterGLEntries;
                 //**4PS.en

                 //ExFlowVisible := EXApprovalSetup.READPERMISSION;                   //4PSSE.o  160815
                 ExFlowVisible := EXApprovalSetup.GET;                                //4PSSE.n  160815
                 //>> 160824 ITERO.AC RFC134
                 GeneralLedgerSetup.GET;
                 IF (GeneralLedgerSetup."Use Offset Filter") THEN SETRANGE(Offset, FALSE);
                 //<< 160824 ITERO.AC RFC134
               END;

    OnAfterGetRecord=BEGIN
                       IF ExFlowVisible THEN
                         ExFlowHasAttachmentPostedDoc := HasAttachmentPostedDoc("Document Type","Document No.");
                     END;

    OnNewRecord=BEGIN
                  //**4PS Generated Code. Do Not Change.sn02
                  DPA_SetDefaultDepartment;
                  //**4PS Generated Code.en02
                END;

    OnInsertRecord=VAR
                     xRecRef@1100000999 : RecordRef;
                   BEGIN
                     //**4PS Generated Code. Do Not Change.sn05
                     xRecRef.GETTABLE(xRec);
                     DPA_SetDefaultDpmtFromNoSeries(xRecRef);
                     //**4PS Generated Code.en05
                   END;

    OnModifyRecord=BEGIN
                     CODEUNIT.RUN(CODEUNIT::"G/L Entry-Edit",Rec);
                     EXIT(FALSE);
                   END;

    OnAfterGetCurrRecord=VAR
                           IncomingDocument@1000 : Record 130;
                         BEGIN
                           HasIncomingDocument := IncomingDocument.PostedDocExists("Document No.","Posting Date");
                           CurrPage.IncomingDocAttachFactBox.PAGE.LoadDataFromRecord(Rec);
                         END;

    ActionList=ACTIONS
    {
      { 1900000003;0 ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 48      ;1   ;ActionGroup;
                      CaptionML=[ENU=Ent&ry;
                                 NOR=Po&st;
                                 SVE=Tra&nsaktion];
                      Image=Entry }
      { 49      ;2   ;Action    ;
                      AccessByPermission=TableData 348=R;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=[ENU=Dimensions;
                                 NOR=Dimensjoner;
                                 SVE=Dimensioner];
                      ToolTipML=[ENU=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
                                 NOR=Vis eller rediger dimensjoner, for eksempel omr†de, prosjekt eller avdeling, som du kan tilordne til salgs- og kj›psdokumenter for † distribuere kostnader og analysere transaksjonshistorikk.;
                                 SVE=Visa eller redigera m†tt, till exempel omr†de, projekt eller avdelning, som du kan tilldela till f”rs„ljnings- och ink”psdokument f”r att f”rdela kostnader och analysera transaktionshistorik.];
                      ApplicationArea=#Dimensions;
                      Promoted=Yes;
                      Image=Dimensions;
                      PromotedCategory=Category4;
                      Scope=Repeater;
                      OnAction=BEGIN
                                 ShowDimensions;
                                 CurrPage.SAVERECORD;
                               END;
                                }
      { 27      ;2   ;Action    ;
                      Name=SetDimensionFilter;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Set Dimension Filter;
                                 NOR=Angi dimensjonsfilter;
                                 SVE=Ange dimensionsfilter];
                      ToolTipML=[ENU=Limit the entries according to the dimension filters that you specify. NOTE: If you use a high number of dimension combinations, this function may not work and can result in a message that the SQL server only supports a maximum of 2100 parameters.;
                                 NOR=Begrens postene i henhold til dimensjonsfiltrene du spesifiserer. MERK: Hvis du bruker mange dimensjonskombinasjoner, kan det v‘re at denne funksjonen ikke fungerer, og at du f†r en melding med beskjed om at SQL-serveren st›tter maksimalt 2100 parametre.;
                                 SVE=Begr„nsa transaktionerna enligt dimensionsfiltren som du anger. Obs! Om du anv„nder ett stort antal dimensionskombinationer kanske funktionen inte fungerar och det kan leda till ett meddelande om att SQL Server bara st”der h”gst 2 100 parametrar.];
                      ApplicationArea=#Dimensions;
                      Promoted=Yes;
                      Image=Filter;
                      PromotedCategory=Category4;
                      OnAction=BEGIN
                                 SETFILTER("Dimension Set ID",DimensionSetIDFilter.LookupFilter);
                               END;
                                }
      { 50      ;2   ;Action    ;
                      Name=GLDimensionOverview;
                      AccessByPermission=TableData 348=R;
                      CaptionML=[ENU=G/L Dimension Overview;
                                 NOR=Finansdimensjon - oversikt;
                                 SVE=Redov.dimension ”versikt];
                      ToolTipML=[ENU=View an overview of general ledger entries and dimensions.;
                                 NOR=Vis en oversikt over finansposter og -dimensjoner.;
                                 SVE=Visa en ”versikt av redovisningstransaktioner och dimensioner.];
                      ApplicationArea=#Dimensions;
                      Promoted=Yes;
                      Image=Dimensions;
                      PromotedCategory=Category4;
                      OnAction=VAR
                                 GLEntriesDimensionOverview@1000 : Page 563;
                               BEGIN
                                 IF ISTEMPORARY THEN BEGIN
                                   GLEntriesDimensionOverview.SetTempGLEntry(Rec);
                                   GLEntriesDimensionOverview.RUN;
                                 END ELSE
                                   PAGE.RUN(PAGE::"G/L Entries Dimension Overview",Rec);
                               END;
                                }
      { 65      ;2   ;Action    ;
                      AccessByPermission=TableData 27=R;
                      CaptionML=[ENU=Value Entries;
                                 NOR=Verdiposter;
                                 SVE=V„rdetransaktioner];
                      ToolTipML=[ENU=View all amounts relating to an item.;
                                 NOR=Vis alle bel›p som er knyttet til en vare.;
                                 SVE=Visa alla belopp som g„ller en artikel.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Image=ValueLedger;
                      PromotedCategory=Category4;
                      Scope=Repeater;
                      OnAction=BEGIN
                                 ShowValueEntries;
                               END;
                                }
      { 1210190000;2 ;Action    ;
                      CaptionML=[ENU=List IC-mutations in related Company;
                                 NOR=Liste IC-mutasjoner i relatert selskap;
                                 SVE=Lista IC-mutationer i relaterat f”retag];
                      Image=GLRegisters;
                      OnAction=VAR
                                 GbPostRec@1210190000 : Record 17;
                                 RcRelRec@1210190002 : Record 11012057;
                               BEGIN
                                 //**4PS
                                 //GbPostRec.COPY(Rec);
                                 GbPostRec := Rec;
                                 GbPostRec.SETRANGE("Document No.", "Document No.");
                                 IF PAGE.RUNMODAL(PAGE::"Intercompany Relations",RcRelRec) = ACTION::LookupOK THEN BEGIN
                                   GbPostRec.CHANGECOMPANY(RcRelRec."Receiving Company");
                                   PAGE.RUNMODAL(PAGE::"General Ledger Entries", GbPostRec);
                                 END;
                               END;
                                }
      { 1100485010;2 ;Action    ;
                      ShortCutKey=Shift+Ctrl+S;
                      CaptionML=[ENU=Scanned document;
                                 NOR=Skannet Dokument;
                                 SVE=Skannade dokument];
                      Image=Document;
                      OnAction=VAR
                                 lvPurchSetupRec@1100485001 : Record 312;
                               BEGIN
                                 //**4PS
                                 lvPurchSetupRec.GET;
                                 lvPurchSetupRec.ShowScannedDocumentWithDocNoInSupplComp("Document No.", "Supplying Company");
                               END;
                                }
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 57      ;1   ;ActionGroup;
                      CaptionML=[ENU=F&unctions;
                                 NOR=F&unksjoner;
                                 SVE=Fu&nktioner];
                      Image=Action }
      { 63      ;2   ;Action    ;
                      Name=ReverseTransaction;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Reverse Transaction;
                                 NOR=Tilbakef›r transaksjon;
                                 SVE=terf”r transaktion];
                      ToolTipML=[ENU=Reverse a posted general ledger entry.;
                                 NOR=Tilbakef›r en bokf›rt finanspost.;
                                 SVE=terf”r en bokf”rd redovisningstransaktion.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Image=ReverseRegister;
                      PromotedCategory=Process;
                      Scope=Repeater;
                      OnAction=VAR
                                 ReversalEntry@1000 : Record 179;
                               BEGIN
                                 CLEAR(ReversalEntry);
                                 IF Reversed THEN
                                   ReversalEntry.AlreadyReversedEntry(TABLECAPTION,"Entry No.");
                                 IF "Journal Batch Name" = '' THEN
                                   ReversalEntry.TestFieldError;
                                 TESTFIELD("Transaction No.");
                                 ReversalEntry.ReverseTransaction("Transaction No.")
                               END;
                                }
      { 12013588;2   ;Separator  }
      { 12013589;2   ;Action    ;
                      ShortCutKey=Ctrl+I;
                      CaptionML=[ENU=&Show Document;
                                 NOR=V&is dokument;
                                 SVE=&Visa dokument];
                      Visible=ExFlowVisible;
                      Image=Document;
                      OnAction=BEGIN
                                 // ExFlow
                                 ExFlow.ShowImagePostedDoc("Document Type","Document No.");
                               END;
                                }
      { 12013590;2   ;Action    ;
                      ShortCutKey=Ctrl+B;
                      CaptionML=[ENU=Attached Fil&es;
                                 NOR=Vedlagte filer;
                                 SVE=&Bilagor];
                      Visible=ExFlowVisible;
                      Image=Documents;
                      OnAction=BEGIN
                                 // ExFlow
                                 ExFlow.ShowAttachmentPostedDoc("Document Type", "Document No.");
                               END;
                                }
      { 15      ;2   ;ActionGroup;
                      Name=IncomingDocument;
                      CaptionML=[ENU=Incoming Document;
                                 NOR=Inng†ende dokument;
                                 SVE=Inkommande dokument];
                      ActionContainerType=NewDocumentItems;
                      Image=Documents }
      { 13      ;3   ;Action    ;
                      Name=IncomingDocCard;
                      CaptionML=[ENU=View Incoming Document;
                                 NOR=Vis inng†ende dokument;
                                 SVE=Visa inkommande dokument];
                      ToolTipML=[ENU=View any incoming document records and file attachments that exist for the entry or document.;
                                 NOR=Vis poster og filvedlegg for innkommende dokument som finnes for oppf›ringen eller dokumentet.;
                                 SVE=Visa alla poster med inkommande dokument och filbilagor som finns f”r transaktionen eller dokumentet.];
                      ApplicationArea=#Basic,#Suite;
                      Enabled=HasIncomingDocument;
                      Image=ViewOrder;
                      OnAction=VAR
                                 IncomingDocument@1000 : Record 130;
                               BEGIN
                                 IncomingDocument.ShowCard("Document No.","Posting Date");
                               END;
                                }
      { 9       ;3   ;Action    ;
                      Name=SelectIncomingDoc;
                      AccessByPermission=TableData 130=R;
                      CaptionML=[ENU=Select Incoming Document;
                                 NOR=Velg inng†ende dokument;
                                 SVE=V„lj inkommande dokument];
                      ToolTipML=[ENU=Select an incoming document record and file attachment that you want to link to the entry or document.;
                                 NOR=Velg en post og et filvedlegg for innkommende dokument som du vil koble til oppf›ringen eller dokumentet.;
                                 SVE=V„lj en post f”r inkommande dokument och en filbilaga som du vill koppla till transaktionen eller dokumentet.];
                      ApplicationArea=#Basic,#Suite;
                      Enabled=NOT HasIncomingDocument;
                      Image=SelectLineToApply;
                      OnAction=VAR
                                 IncomingDocument@1000 : Record 130;
                               BEGIN
                                 IncomingDocument.SelectIncomingDocumentForPostedDocument("Document No.","Posting Date",RECORDID);
                               END;
                                }
      { 3       ;3   ;Action    ;
                      Name=IncomingDocAttachFile;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Create Incoming Document from File;
                                 NOR=Opprett inng†ende dokument fra fil;
                                 SVE=Skapa inkommande dokument fr†n fil];
                      ToolTipML=[ENU=Create an incoming document record by selecting a file to attach, and then link the incoming document record to the entry or document.;
                                 NOR=Opprett en post for innkommende dokument ved † velge en fil som skal legges ved, og koble deretter posten for det innkommende dokumentet til oppf›ringen eller dokumentet.;
                                 SVE=Skapa en post f”r inkommande dokument genom att v„lja en fil att bifoga. Koppla sedan posten om det inkommande dokumentet till transaktionen eller dokumentet.];
                      ApplicationArea=#Basic,#Suite;
                      Enabled=NOT HasIncomingDocument;
                      Image=Attach;
                      OnAction=VAR
                                 IncomingDocumentAttachment@1000 : Record 133;
                               BEGIN
                                 IncomingDocumentAttachment.NewAttachmentFromPostedDocument("Document No.","Posting Date");
                               END;
                                }
      { 1100528403;2 ;Action    ;
                      CaptionML=[ENU=Add to &Expense Allowance Scheme;
                                 NOR=Legg til &skjema for kostplan;
                                 SVE=L„gg till &schema f”r kostnadsplan];
                      Image=CopyLedgerToBudget;
                      OnAction=BEGIN
                                 //**4PS
                                 AddGLEntriesToExpenseAllowance;
                               END;
                                }
      { 1100528404;2 ;Action    ;
                      CaptionML=[ENU=Re&move from Expense Allowance Scheme;
                                 NOR=Fj&ern fra skjema for kostplan;
                                 SVE=Ta &bort fr†n schema f”r kostnadsplan];
                      Image=RemoveLine;
                      OnAction=BEGIN
                                 //**4PS
                                 RemoveGLEntrFromExpAllowance;
                               END;
                                }
      { 1100525004;2 ;Action    ;
                      CaptionML=[ENU=Ledger Entries by Document;
                                 NOR=Reskontrotransaksjoner etter Dokument;
                                 SVE=Transaktioner per dokument];
                      Image=View;
                      OnAction=VAR
                                 GLAccount@1100525001 : Record 15;
                                 GLEntryRec@1100525000 : Record 17;
                               BEGIN
                                 //**4PS
                                 IF GLAccount.GET("G/L Account No.") THEN
                                   GLEntryRec.ShowCompressedEntries(GLAccount);
                               END;
                                }
      { 24      ;1   ;Action    ;
                      CaptionML=[ENU=&Navigate;
                                 NOR=&Naviger;
                                 SVE=Anal&ysera];
                      ToolTipML=[ENU=Find all entries and documents that exist for the document number and posting date on the selected entry or document.;
                                 NOR=Finn alle oppf›ringer og dokumenter som finnes for dokumentnummeret og bokf›ringsdatoen i den valgte oppf›ringen eller dokumentet.;
                                 SVE=S”k efter alla transaktioner och dokument som existerar f”r dokumentnumret och bokf”ringsdatumet f”r den valda transaktionen eller det valda dokumentet.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Navigate;
                      PromotedCategory=Category4;
                      OnAction=VAR
                                 Navigate@1000 : Page 344;
                               BEGIN
                                 Navigate.SetDoc("Posting Date","Document No.");
                                 Navigate.RUN;
                               END;
                                }
      { 11      ;1   ;Action    ;
                      Name=DocsWithoutIC;
                      CaptionML=[ENU=Posted Documents without Incoming Document;
                                 NOR=Bokf›rte dokumenter uten inng†ende dokument;
                                 SVE=Bokf”rda dokument utan inkommande dokument];
                      ToolTipML=[ENU=View posted purchase and sales documents under the G/L account that do not have related incoming document records.;
                                 NOR=Vis bokf›rte kj›ps- og salgsdokumenter under finanskontoen som ikke har relaterte poster for innkommende dokument.;
                                 SVE=Visa bokf”rda ink”ps- och f”rs„ljningsdokumentet p† det redovisningskonto som inte har relaterade inkommande dokumentposter.];
                      ApplicationArea=#Basic,#Suite;
                      Image=Documents;
                      OnAction=VAR
                                 PostedDocsWithNoIncBuf@1001 : Record 134;
                               BEGIN
                                 COPYFILTER("G/L Account No.",PostedDocsWithNoIncBuf."G/L Account No. Filter");
                                 PAGE.RUN(PAGE::"Posted Docs. With No Inc. Doc.",PostedDocsWithNoIncBuf);
                               END;
                                }
      { 1100285300;1 ;Action    ;
                      Name=SetOff;
                      CaptionML=[ENU=Set Off;
                                 NOR=Motregne;
                                 SVE=Kvitta];
                      Promoted=Yes;
                      Image=Approve;
                      PromotedCategory=Process;
                      OnAction=VAR
                                 OffsetMgmt@1100285300 : Codeunit 11128017;
                                 GLEntry@1100285301 : Record 17;
                               BEGIN
                                 CurrPage.SETSELECTIONFILTER(GLEntry);
                                 OffsetMgmt.OffsetTransactions(GLEntry);
                               END;
                                }
      { 1100285301;1 ;Action    ;
                      Name=Release;
                      CaptionML=[ENU=Release;
                                 NOR=Frigi;
                                 SVE=Sl„pp];
                      Image=ReOpen;
                      OnAction=VAR
                                 OffsetMgmt@1100285301 : Codeunit 11128017;
                               BEGIN
                                 OffsetMgmt.UnOffsetTransactions(Rec);
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                GroupType=Repeater }

    { 2   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the entry's posting date.;
                           NOR=Angir postens bokf›ringsdato.;
                           SVE=Anger transaktionens bokf”ringsdatum.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Posting Date";
                Editable=FALSE }

    { 4   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the Document Type that the entry belongs to.;
                           NOR=Angir dokumenttypen som posten tilh›rer.;
                           SVE=Anger dokumenttypen som transaktionen h”r till.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Document Type";
                Editable=FALSE }

    { 1000000000;2;Field  ;
                SourceExpr="Document Date" }

    { 6   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the entry's Document No.;
                           NOR=Angir postens dokumentnummer.;
                           SVE=Anger transaktionens dokumentnummer.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Document No.";
                Editable=FALSE }

    { 8   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the account that the entry has been posted to.;
                           NOR=Angir nummeret for kontoen som posten er bokf›rt p†.;
                           SVE=Anger kontonumret som transaktionen har bokf”rts p†.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="G/L Account No.";
                Editable=FALSE }

    { 40  ;2   ;Field     ;
                DrillDown=No;
                ToolTipML=[ENU=Specifies the name of the account that the entry has been posted to.;
                           NOR=Angir navnet p† kontoen som posten er bokf›rt p†.;
                           SVE=Anger namnet p† kontot som transaktionen har bokf”rts p†.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="G/L Account Name";
                Visible=FALSE;
                Editable=FALSE }

    { 10  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a description of the entry.;
                           NOR=Angir en beskrivelse av posten.;
                           SVE=Anger en beskrivning av transaktionen.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Description }

    { 1100485008;2;Field  ;
                SourceExpr="Description 2";
                Visible=FALSE }

    { 26  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the related job.;
                           NOR=Angir nummeret for det relaterte prosjektet.;
                           SVE=Anger det relaterade projektets nummer.];
                ApplicationArea=#Jobs;
                SourceExpr="Job No.";
                Visible=FALSE;
                Editable=FALSE }

    { 28  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the global dimension that is linked to the record or entry for analysis purposes. Two global dimensions, typically for the company's most important activities, are available on all cards, documents, reports, and lists.;
                           NOR=Angir koden for den globale dimensjonen som er koblet til posten eller oppf›ringen for analyse. To globale dimensjoner, vanligvis for selskapets viktigste aktiviteter, er tilgjengelige p† alle kort, dokumenter, rapporter og lister.;
                           SVE=Anger koden f”r den globala dimension som „r kopplad till posten eller transaktionen f”r analys. Tv† globala dimensioner, vanligtvis f”r f”retagets viktigaste aktiviteter, finns p† alla kort, dokument, rapporter och listor.];
                ApplicationArea=#Dimensions;
                SourceExpr="Global Dimension 1 Code";
                Visible=FALSE;
                Editable=FALSE;
                OnValidate=BEGIN
                             //**4PS Generated Code. Do Not Change.sn03
                             DPA_ChkDepartmentCodeAllowed(DPA_IsHardFilter);
                             //**4PS Generated Code.en03
                           END;
                            }

    { 30  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the global dimension that is linked to the record or entry for analysis purposes. Two global dimensions, typically for the company's most important activities, are available on all cards, documents, reports, and lists.;
                           NOR=Angir koden for den globale dimensjonen som er koblet til posten eller oppf›ringen for analyse. To globale dimensjoner, vanligvis for selskapets viktigste aktiviteter, er tilgjengelige p† alle kort, dokumenter, rapporter og lister.;
                           SVE=Anger koden f”r den globala dimension som „r kopplad till posten eller transaktionen f”r analys. Tv† globala dimensioner, vanligtvis f”r f”retagets viktigaste aktiviteter, finns p† alla kort, dokument, rapporter och listor.];
                ApplicationArea=#Dimensions;
                SourceExpr="Global Dimension 2 Code";
                Visible=FALSE;
                Editable=FALSE;
                LookupPageID=Cost Object List }

    { 1100485000;2;Field  ;
                SourceExpr="Service Contract No.";
                Visible=FALSE }

    { 51  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code of the intercompany partner that the transaction is related to if the entry was created from an intercompany transaction.;
                           NOR=Angir koden for den konserninterne partneren som transaksjonen er relatert til hvis posten ble opprettet fra en konsernintern transaksjon.;
                           SVE=Anger koden f”r den koncerninterna partner som transaktionen „r relaterad till om transaktionen skapades genom en koncernintern transaktion.];
                ApplicationArea=#Intercompany;
                SourceExpr="IC Partner Code";
                Visible=FALSE;
                Editable=FALSE }

    { 12  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of transaction.;
                           NOR=Angir transaksjonstypen.;
                           SVE=Anger typen av transaktion.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Gen. Posting Type";
                Editable=FALSE }

    { 1100485012;2;Field  ;
                SourceExpr="Receiving Company";
                Visible=FALSE }

    { 1100529400;2;Field  ;
                SourceExpr="Supplying Company";
                Visible=FALSE }

    { 32  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the vendor's or customer's trade type to link transactions made for this business partner with the appropriate general ledger account according to the general posting setup.;
                           NOR=Angir leverand›rens eller kundens handelstype for † koble transaksjoner gjort for denne forretningspartneren, med riktig finanskonto i henhold til det generelle bokf›ringsoppsettet.;
                           SVE=Anger leverant”rens eller kundens handelstyp f”r att koppla transaktioner som skapas f”r aff„rspartnern till det l„mpliga redovisningskontot enligt den generella bokf”ringsinst„llningen.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Gen. Bus. Posting Group";
                Editable=FALSE }

    { 1100485002;2;Field  ;
                SourceExpr="Service Order No.";
                Visible=FALSE }

    { 14  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the item's product type to link transactions made for this item with the appropriate general ledger account according to the general posting setup.;
                           NOR=Angir varens produkttype for † koble transaksjoner gjort for denne varen, med riktig finanskonto i henhold til det generelle bokf›ringsoppsettet.;
                           SVE=Anger artikelns produkttyp f”r att koppla transaktioner som skapas f”r artikeln till det l„mpliga redovisningskontot enligt den generella bokf”ringsinst„llningen.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Gen. Prod. Posting Group";
                Editable=FALSE }

    { 5   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the quantity that was posted on the entry.;
                           NOR=Angir antallet som er bokf›rt i posten.;
                           SVE=Anger antalet som bokf”rdes i transaktionen.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Quantity;
                Visible=False;
                Editable=FALSE }

    { 1210190002;2;Field  ;
                SourceExpr="Unit of Measure Code";
                Visible=FALSE }

    { 1100485006;2;Field  ;
                SourceExpr="Employee No.";
                Visible=FALSE }

    { 16  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the Amount of the entry.;
                           NOR=Angir bel›pet for posten.;
                           SVE=Anger transaktionsbeloppet.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Amount;
                Visible=AmountVisible;
                Editable=FALSE }

    { 17  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the total of the ledger entries that represent debits.;
                           NOR=Angir summen for postene som representerer debet.;
                           SVE=Anger summan av transaktionerna som representerar debet.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Debit Amount";
                Visible=DebitCreditVisible;
                Editable=FALSE }

    { 19  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the total of the ledger entries that represent credits.;
                           NOR=Angir summen for postene som representerer kredit.;
                           SVE=Anger summan av transaktionerna som representerar krediter.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Credit Amount";
                Visible=DebitCreditVisible;
                Editable=FALSE }

    { 54  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the general ledger entry that is posted if you post in an additional reporting currency.;
                           NOR=Angir finansposten som er bokf›rt hvis du bokf›rer til en tilleggsrapporteringsvaluta.;
                           SVE=Anger redovisningstransaktionen som bokf”rs om du bokf”r med en alternativ rapporteringsvaluta.];
                ApplicationArea=#Suite;
                SourceExpr="Additional-Currency Amount";
                Visible=FALSE;
                Editable=FALSE }

    { 36  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the amount of VAT that is included in the total amount.;
                           NOR=Angir mva-bel›pet som er inkludert i totalbel›pet.;
                           SVE=Anger momsbeloppet som ing†r i det totala beloppet.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="VAT Amount";
                Visible=FALSE;
                Editable=FALSE }

    { 52  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of account that a balancing entry is posted to, such as BANK for a cash account.;
                           NOR=Angir kontotypen som en motpost bokf›res til, for eksempel BANK for en kassakonto.;
                           SVE=Anger typen av konto som en balanserande transaktion bokf”rs p†, till exempel BANK f”r ett kassakonto.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Bal. Account Type";
                Editable=FALSE }

    { 18  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the general ledger, customer, vendor, or bank account that the balancing entry is posted to, such as a cash account for cash purchases.;
                           NOR=Angir nummeret p† finans-, kunde-, leverand›r- eller bankkontoen som motposten bokf›res til, for eksempel en kassakonto for kontantkj›p.;
                           SVE=Anger numret p† redovisnings-, kund-, leverant”rs- eller bankkontot som den balanserande transaktionen bokf”rs p†, t.ex. ett kassakonto f”r kontantink”p.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Bal. Account No.";
                Editable=FALSE }

    { 46  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the ID of the user who posted the entry, to be used, for example, in the change log.;
                           NOR=Angir ID-en for brukeren som bokf›rte posten, som for eksempel skal brukes i endringsloggen.;
                           SVE=Anger ID:t f”r anv„ndaren som bokf”rde transaktionen, som ska anv„ndas i till exempel „ndringsloggen.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="User ID";
                Visible=FALSE;
                Editable=FALSE }

    { 42  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the source code that specifies where the entry was created.;
                           NOR=Angir kildekoden som viser hvor posten ble opprettet.;
                           SVE=Anger ursprungskoden som anger var transaktionen skapades.];
                ApplicationArea=#Suite;
                SourceExpr="Source Code";
                Visible=FALSE;
                Editable=FALSE }

    { 44  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the reason code, a supplementary source code that enables you to trace the entry.;
                           NOR=Angir †rsakskoden, som er en ekstra kildekode som gj›r det mulig † spore posten.;
                           SVE=Anger uppf”ljningskoden, en extra ursprungskod som anv„nds f”r att sp†ra transaktionen.];
                ApplicationArea=#Suite;
                SourceExpr="Reason Code";
                Visible=FALSE;
                Editable=FALSE }

    { 1210190003;2;Field  ;
                SourceExpr="Source Type";
                Visible=FALSE }

    { 1210190001;2;Field  ;
                SourceExpr="Source No.";
                Visible=FALSE }

    { 1100528401;2;Field  ;
                CaptionML=[ENU=Source Name;
                           SVE=Ursprungsnamn];
                SourceExpr=GetSourceName;
                Visible=FALSE }

    { 58  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies if the entry has been part of a reverse transaction (correction) made by the Reverse function.;
                           NOR=Angir om posten har v‘rt del av en omvendt transaksjon (korrigering) som ble utf›rt med reverseringsfunksjonen.;
                           SVE=Anger om transaktionen ing†r i en †terf”ringstransaktion (korrigering) som gjordes med funktionen terf”r.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Reversed;
                Visible=FALSE;
                Editable=FALSE }

    { 60  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the correcting entry. If the field Specifies a number, the entry cannot be reversed again.;
                           NOR=Angir nummeret p† den korrigerende posten. Hvis feltet angir et nummer, kan ikke posten reverseres p† nytt.;
                           SVE=Anger korrigeringstransaktionens nummer. Om f„ltet inneh†ller ett tal kan posten inte †terf”ras igen.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Reversed by Entry No.";
                Visible=FALSE;
                Editable=FALSE }

    { 62  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the original entry that was undone by the reverse transaction.;
                           NOR=Angir nummeret p† den opprinnelige posten som ble angret av tilbakef›ringstransaksjonen.;
                           SVE=Anger numret p† den ursprungliga transaktionen som †ngrades med †terf”ringstransaktionen.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Reversed Entry No.";
                Visible=FALSE;
                Editable=FALSE }

    { 34  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the fixed asset entry.;
                           NOR=Angir nummeret for aktivaposten.;
                           SVE=Anger anl„ggningstillg†ngspostens nummer.];
                ApplicationArea=#FixedAssets;
                SourceExpr="FA Entry Type";
                Visible=FALSE;
                Editable=FALSE }

    { 38  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the fixed asset entry.;
                           NOR=Angir nummeret for aktivaposten.;
                           SVE=Anger anl„ggningstillg†ngspostens nummer.];
                ApplicationArea=#FixedAssets;
                SourceExpr="FA Entry No.";
                Visible=FALSE;
                Editable=FALSE }

    { 12013587;2;Field    ;
                CaptionML=[ENU=Has Attachments;
                           SVE=Har Bilagor];
                SourceExpr=ExFlowHasAttachmentPostedDoc;
                Visible=ExFlowVisible;
                Enabled=ExFlowVisible }

    { 1101200004;2;Field  ;
                SourceExpr=Positive }

    { 20  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the entry, as assigned from the specified number series when the entry was created.;
                           NOR=Angir nummeret for oppf›ringen, som tilordnet fra den angitte nummerserien da oppf›ringen ble opprettet.;
                           SVE=Anger transaktionsnumret, som tilldelas fr†n den angivna nummerserien n„r transaktionen skapas.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Entry No.";
                Editable=FALSE }

    { 25  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a reference to a combination of dimension values. The actual values are stored in the Dimension Set Entry table.;
                           NOR=Angir en referanse til en kombinasjon av dimensjonsverdier. De faktiske verdiene lagres i tabellen Dimensjonssettpost.;
                           SVE=Anger en referens till en kombination av dimensionsv„rden. De verkliga v„rdena lagras i tabellen Dimensionsupps„ttningstransaktion.];
                ApplicationArea=#Dimensions;
                SourceExpr="Dimension Set ID";
                Visible=FALSE;
                Editable=FALSE }

    { 29  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the entry's external document number, such as a vendor's invoice number.;
                           NOR=Angir postens eksterne dokumentnummer, for eksempel leverand›rens fakturanummer.;
                           SVE=Anger transaktionens externa dokumentnummer, t.ex. en leverant”rs fakturanummer.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="External Document No.";
                Editable=FALSE }

    { 1100528400;2;Field  ;
                SourceExpr="Expense Allowance Scheme" }

    { 1100285302;2;Field  ;
                SourceExpr=Offset }

    { 1100285303;2;Field  ;
                SourceExpr="Offset No." }

    { 1100285304;2;Field  ;
                SourceExpr="Offset Date" }

    { 1101285000;2;Field  ;
                SourceExpr="Journal Batch Name" }

    { 1900000007;0;Container;
                ContainerType=FactBoxArea }

    { 7   ;1   ;Part      ;
                Name=IncomingDocAttachFactBox;
                ApplicationArea=#Basic,#Suite;
                PagePartID=Page193;
                PartType=Page;
                ShowFilter=No }

    { 1900383207;1;Part   ;
                ApplicationArea=#RecordLinks;
                Visible=FALSE;
                PartType=System;
                SystemPartID=RecordLinks }

    { 1905767507;1;Part   ;
                ApplicationArea=#Notes;
                Visible=FALSE;
                PartType=System;
                SystemPartID=Notes }

  }
  CODE
  {
    VAR
      GLAcc@1000 : Record 15;
      DimensionSetIDFilter@1005 : Page 481;
      HasIncomingDocument@1001 : Boolean;
      AmountVisible@1004 : Boolean;
      DebitCreditVisible@1003 : Boolean;
      GLEntry@11012000 : Record 17;
      gvDrillDown@1100485001 : Boolean;
      Text1101200@1100528400 : TextConst 'ENU=First select line(s).;SVE=V„lj f”rst rad(er).';
      DPA_IsHardFilter@1100000999 : Boolean;
      "**ExFlow"@12013591 : Integer;
      ExFlow@12013592 : Codeunit 12013601;
      ExFlowHasAttachmentPostedDoc@1100285301 : Boolean;
      ExFlowVisible@1100285300 : Boolean INDATASET;

    LOCAL PROCEDURE GetCaption@2() : Text[250];
    BEGIN
      IF GLAcc."No." <> "G/L Account No." THEN
        IF NOT GLAcc.GET("G/L Account No.") THEN
          IF GETFILTER("G/L Account No.") <> '' THEN
            IF GLAcc.GET(GETRANGEMIN("G/L Account No.")) THEN;
      EXIT(STRSUBSTNO('%1 %2',GLAcc."No.",GLAcc.Name))
    END;

    LOCAL PROCEDURE SetControlVisibility@8();
    VAR
      GLSetup@1000 : Record 98;
    BEGIN
      GLSetup.GET;
      AmountVisible := NOT (GLSetup."Show Amounts" = GLSetup."Show Amounts"::"Debit/Credit Only");
      DebitCreditVisible := NOT (GLSetup."Show Amounts" = GLSetup."Show Amounts"::"Amount Only");
    END;

    PROCEDURE SetDrillDown@1100485000();
    BEGIN
      //**4PS
      gvDrillDown := TRUE;
    END;

    LOCAL PROCEDURE AddGLEntriesToExpenseAllowance@1100528402();
    BEGIN
      //**4PS
      HandleExpenseAllowanceScheme(REPORT::"Add to Expense Allowance");
    END;

    LOCAL PROCEDURE RemoveGLEntrFromExpAllowance@1100525000();
    BEGIN
      //**4PS
      HandleExpenseAllowanceScheme(REPORT::"Remove from Expense Allowance");
    END;

    LOCAL PROCEDURE HandleExpenseAllowanceScheme@1100528400(ReportNo@1100528400 : Integer);
    VAR
      GLEntry@1100528401 : Record 17;
    BEGIN
      //**4PS
      GLEntry.COPY(Rec);
      CurrPage.SETSELECTIONFILTER(GLEntry);
      IF GLEntry.ISEMPTY THEN BEGIN
        MESSAGE(Text1101200);
        EXIT;
      END;
      REPORT.RUNMODAL(ReportNo, FALSE, FALSE, GLEntry);
    END;

    LOCAL PROCEDURE "**ExFlow**"@12013587();
    BEGIN
    END;

    LOCAL PROCEDURE HasAttachmentPostedDoc@12013588(DocType@12013588 : ' ,Payment,Invoice,Credit Memo,Finance Charge Memo,Reminder,Refund';DocNo@12013589 : Code[20]) : Boolean;
    VAR
      PostedExDoc@12013590 : Record 12013626;
    BEGIN
      IF NOT PostedExDoc.READPERMISSION THEN
        EXIT(FALSE);

      PostedExDoc.RESET;
      PostedExDoc.SETCURRENTKEY("Document No.");
      CASE DocType OF
        DocType::Invoice:
          PostedExDoc.SETRANGE("Document Type", PostedExDoc."Document Type"::"Posted Invoice");
        DocType::"Credit Memo":
          PostedExDoc.SETRANGE("Document Type", PostedExDoc."Document Type"::"Posted Credit Memo");
        ELSE
          EXIT(FALSE);
      END;

      PostedExDoc.SETRANGE("Document No.", DocNo);
      IF NOT PostedExDoc.FINDFIRST THEN
        EXIT(FALSE)
      ELSE BEGIN
        PostedExDoc.CALCFIELDS("Has Attachments");
        EXIT(PostedExDoc."Has Attachments");
      END;
    END;

    BEGIN
    {
      4PS01 03-08-2009 JD Call C-009847 Remove button for 4PS solution for apply (vereffenen)
      4PS 16-08-2011, PS, AppliesTOBalance removed
      --- ExFlow --->
      Field       : Has Attachments
      Action      : Show Document (Code)
      Action      : Attached Document (Code)
      Globals
      190401 SICH upgraded to 513 version (Function hasattachmentsPostedDoc replaced by new def)
      <-- ExFlow ---

      160815 ITERO.WG SC005436 Permissions ExFlow
      161026 ITERO.WG Changed length parameter DocNo in function HasAttachmentPostedDoc
      160530 SRFC-017 ITERO.MH New fields / Adjusted 160824 ITERO.AC RFC134
       -Offset
       -Offset No.
       -Offset Date
       Added 2 new actions: SetOff, Release

      190308 4PSSE Added field "Journal Batch Name"
    }
    END.
  }
}

