OBJECT Page 11125017 Fast Data Entry Order/Invoice
{
  OBJECT-PROPERTIES
  {
    Date=;
    Time=;
    Version List=4PS14.00;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Fast Data Entry Order/Invoice;
               NOR="Hurtigdatatransaksjon - ordre/faktura ";
               SVE=Snabb datatransaktionsorder/faktura];
    SourceTable=Table39;
    DelayedInsert=Yes;
    PageType=List;
    OnInit=BEGIN
             NoEditable := TRUE;
             CostTypeEditable := TRUE;
             ShortcutDimension2CodeEditable := TRUE;
             ItemEditable := TRUE;
             TariffNoEditable := TRUE;
             NetWeightEditable := TRUE;
             PlantTypeEditable := TRUE;
             PlantNoEditable := TRUE;
             CostComponentEditable := TRUE;
             TypeEditable := TRUE;
             QuantityEditable := TRUE;
             AmountEditable := TRUE;
             QtyToInvoiceEditable := TRUE;
             AmntToInvoiceEditable := TRUE;
             ExpectedBackOrderDateEditable := TRUE;
           END;

    OnOpenPage=BEGIN
                 //**4PS Generated Code. Do Not Change.sn01
                 DPA_IsHardFilter := DPA_SetFilters(CurrPage.OBJECTID(FALSE));
                 //**4PS Generated Code.en01
                 PurchSetup.GET;
                 GLSetup.GET;
                 FILTERGROUP(10);
                 SETRANGE("Document Type", "Document Type");
                 SETRANGE("Document No.", "Document No.");
                 SETRANGE("Line Type", "Line Type");
                 FILTERGROUP(0);
                 SETRANGE("Line No.");

                 SetDataEntryFields;
                 SetDimensionsVisibility;
               END;

    OnAfterGetRecord=BEGIN
                       ShowShortcutDimCode(ShortcutDimCode);
                       IF "Document No." <> '' THEN BEGIN
                         "UnitCost/BaseUnit" := GetPurchaseUnitPrice(0);
                         "UnitPrice/BaseUnit" := GetPurchaseUnitPrice(1);
                         "UnitCost/PurchUnit":= GetPurchaseUnitPrice(2);
                         GetItemSpecifications;
                       END;
                       GetBaseQuanUnit(BaseQuan, BaseUnit);
                       DetermineBackOrderQuantity;
                       OnAfterGetCurrRecord;
                     END;

    OnNewRecord=BEGIN
                  //**4PS Generated Code. Do Not Change.sn02
                  DPA_SetDefaultDepartment;
                  //**4PS Generated Code.en02
                  FILTERGROUP(10);
                  EVALUATE("Document Type",GETFILTER("Document Type"));
                  "Document No.":= GETFILTER("Document No.");
                  "Line Type" := GETFILTER("Line Type");
                  FILTERGROUP(0);

                  Type := xRec.Type;
                  CLEAR(ShortcutDimCode);

                  CALCFIELDS("Balance Excl. VAT","Balance Incl. VAT");
                  RefQuote := '';

                  InitRecord;
                  GetVendorPreferenceAccountNo();
                  OnAfterGetCurrRecord;
                END;

    OnInsertRecord=VAR
                     PurchLine@1100525000 : Record 39;
                   BEGIN
                     PurchLine.SETRANGE("Document Type", "Document Type");
                     PurchLine.SETRANGE("Document No.", "Document No.");
                     IF PurchLine.FINDLAST THEN
                       "Line No." := PurchLine."Line No." + 10000
                     ELSE
                       "Line No." := 10000;
                   END;

    OnDeleteRecord=VAR
                     ReservePurchLine@1100525000 : Codeunit 99000834;
                   BEGIN
                     IF (Quantity <> 0) AND ItemExists("No.") THEN BEGIN
                       COMMIT;
                       IF NOT ReservePurchLine.DeleteLineConfirm(Rec) THEN
                         EXIT(FALSE);
                       ReservePurchLine.DeleteLine(Rec);
                     END;
                   END;

  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1100525000;1;Group  ;
                GroupType=Repeater }

    { 1100525001;2;Field  ;
                SourceExpr="Line No.";
                Visible=LineNoVisible;
                Editable=FALSE }

    { 1100525003;2;Field  ;
                SourceExpr="Job No.";
                Visible=JobNoVisible;
                OnValidate=BEGIN
                             SetEditable;
                           END;
                            }

    { 1100525005;2;Field  ;
                SourceExpr=Element;
                Visible=ElementVisible }

    { 1100525007;2;Field  ;
                SourceExpr="Extension Contract";
                Visible=ExtensionContractVisible }

    { 1100525009;2;Field  ;
                SourceExpr="Plot No.";
                Visible=PlotNoVisible }

    { 1100525011;2;Field  ;
                SourceExpr="Budget Adjustment";
                Visible=BudgetAdjustmentVisible }

    { 1100525013;2;Field  ;
                SourceExpr="Tender Paragraph";
                Visible=TenderParagraphVisible }

    { 1100525015;2;Field  ;
                Name=Skull;
                SourceExpr="Description Tender Paragraph";
                Visible=SkullVisible }

    { 1100525017;2;Field  ;
                SourceExpr="Tender Paragraph Text";
                Visible=TenderParagraphTextVisible }

    { 1100525019;2;Field  ;
                SourceExpr="Tender Paragraph Part";
                Visible=TenderParagraphPartVisible }

    { 1100525021;2;Field  ;
                SourceExpr="Descr Tender Paragraph Part";
                Visible=DescrTenderParagraphPartVisibl }

    { 1100525023;2;Field  ;
                SourceExpr="Service Order No.";
                Visible=ServiceOrderNoVisible;
                OnValidate=BEGIN
                             SetEditable;
                           END;
                            }

    { 1100525025;2;Field  ;
                SourceExpr="Service Contract No.";
                Visible=ServiceContractNoVisible }

    { 1100525027;2;Field  ;
                SourceExpr="Service Location No.";
                Visible=ServiceLocationNoVisible }

    { 1100525033;2;Field  ;
                SourceExpr="Service Control Year";
                Visible=ServiceControlYearVisible }

    { 1100525035;2;Field  ;
                SourceExpr="Additional Cost (Service)";
                Visible=AdditionalCostServiceVisible }

    { 1100525037;2;Field  ;
                SourceExpr="Rental Unit";
                Visible=RentalUnitVisible }

    { 1100525039;2;Field  ;
                SourceExpr="Cost Type";
                Visible=CostTypeVisible;
                Editable=CostTypeEditable;
                OnValidate=BEGIN
                             SetEditable;
                           END;
                            }

    { 1100525041;2;Field  ;
                SourceExpr="Item No.";
                Visible=ItemNoVisible;
                Editable=ItemEditable;
                OnValidate=BEGIN
                             //**4PS
                             SetEditable;
                             IF ("Cost Type" = "Cost Type"::Material) AND ("No." <> '') THEN
                               InsertExtendedText(FALSE);
                           END;

                OnLookup=BEGIN
                           //**4PS
                           IF HandleLookupItem(FIELDNO("Item No.")) THEN
                             CurrPage.UPDATE(TRUE)  //db, 09-03-07 (melding 8283)
                           ELSE
                             IF "Item No." <> xRec."Item No." THEN
                               InsertExtendedText(FALSE);
                         END;

                OnAssistEdit=BEGIN
                               //**4PS
                               IF AssistEditItem THEN BEGIN
                                 InsertExtendedText(FALSE);
                                 CurrPage.UPDATE(TRUE);
                               END;
                             END;
                              }

    { 1100525043;2;Field  ;
                SourceExpr=Manufacturer;
                Visible=ManufacturerVisible;
                Editable=ItemEditable }

    { 1100525045;2;Field  ;
                SourceExpr="Basic Item";
                Visible=BasicItemVisible;
                Editable=ItemEditable;
                OnValidate=BEGIN
                             //**4PS
                             SetEditable;
                             IF ("Cost Type" = "Cost Type"::Material) AND ("No." <> '') THEN
                               InsertExtendedText(FALSE);
                           END;

                OnLookup=BEGIN
                           //**4PS
                           IF HandleLookupItem(FIELDNO("Basic Item")) THEN
                             CurrPage.UPDATE(TRUE)  //db, 09-03-07 (melding 8283)
                           ELSE
                             IF "Basic Item" <> xRec."Basic Item" THEN
                               InsertExtendedText(FALSE);
                         END;
                          }

    { 1100525047;2;Field  ;
                SourceExpr="Vendor (Trade Item)";
                Visible=VendorTradeItemVisible;
                Editable=ItemEditable }

    { 1100525049;2;Field  ;
                SourceExpr="Trade Item";
                Visible=TradeItemVisible;
                Editable=ItemEditable;
                OnValidate=BEGIN
                             //**4PS
                             SetEditable;
                             IF ("Cost Type" = "Cost Type"::Material) AND ("No." <> '') THEN
                               InsertExtendedText(FALSE);
                           END;

                OnLookup=BEGIN
                           //**4PS
                           IF HandleLookupItem(FIELDNO("Trade Item")) THEN
                             CurrPage.UPDATE(TRUE)  //db, 09-03-07 (melding 8283)
                           ELSE
                             IF "Trade Item" <> xRec."Trade Item" THEN
                               InsertExtendedText(FALSE);
                         END;
                          }

    { 1100525051;2;Field  ;
                SourceExpr="Item Brand";
                Visible=ItemBrandVisible }

    { 1100525053;2;Field  ;
                SourceExpr="Item Type";
                Visible=ItemTypeVisible }

    { 1100525055;2;Field  ;
                SourceExpr="Item Series";
                Visible=ItemSeriesVisible }

    { 1100525057;2;Field  ;
                SourceExpr="Vendor Item No.";
                Visible=VendorItemNoVisible;
                Editable=FALSE }

    { 1100525059;2;Field  ;
                SourceExpr="Tariff No.";
                Visible=TariffNoVisible;
                Editable=TariffNoEditable }

    { 1100525061;2;Field  ;
                SourceExpr="Net Weight";
                Visible=NetWeightVisible;
                Editable=NetWeightEditable }

    { 1100525063;2;Field  ;
                SourceExpr="Plant Type";
                Visible=PlantTypeVisible;
                Editable=PlantTypeEditable;
                OnValidate=BEGIN
                             CurrPage.UPDATE;  //**4PS.n
                             SetEditable;
                           END;

                OnLookup=BEGIN
                           OnLookupPlantType(TRUE);
                           SetEditable;
                           CurrPage.UPDATE;
                         END;
                          }

    { 1100525065;2;Field  ;
                SourceExpr="Vendor Plant No.";
                Visible=VendorPlantNoVisible;
                Editable=PlantTypeEditable;
                OnValidate=BEGIN
                             CurrPage.UPDATE;  //**4PS.n
                           END;
                            }

    { 1100525067;2;Field  ;
                SourceExpr="Plant No.";
                Visible=PlantNoVisible;
                Editable=PlantNoEditable;
                OnValidate=BEGIN
                             CurrPage.UPDATE;  //**4PS.n
                           END;
                            }

    { 1100525069;2;Field  ;
                SourceExpr="Cost Component Plant";
                Visible=CostComponentPlantVisible;
                Editable=PlantNoEditable;
                OnValidate=BEGIN
                             //**4PSmg.sn, 25-05-11: M25024
                             IF "Cost Component Plant" <> xRec."Cost Component Plant" THEN
                               FillShipToLocWithPlantDepot();
                             //**4PSmg.en
                               CurrPage.UPDATE;  //**4PS.n
                           END;
                            }

    { 1100525071;2;Field  ;
                SourceExpr="Plant Transport Order No.";
                Visible=PlantTransportOrderNoVisible }

    { 1100525073;2;Field  ;
                SourceExpr="Plant Order No.";
                Visible=PlantOrderNoVisible }

    { 1100525075;2;Field  ;
                Lookup=No;
                SourceExpr="Plant Order Line No.";
                Visible=PlantOrderLineNoVisible }

    { 1100525077;2;Field  ;
                SourceExpr="Expected Enddate Rent";
                Visible=ExpectedEnddateRentVisible }

    { 1100525079;2;Field  ;
                SourceExpr="Direct Delivery Plant";
                Visible=DirectDeliveryPlantVisible }

    { 1100525081;2;Field  ;
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 1 Code";
                Visible=ShortcutDimension1CodeVisible;
                OnValidate=BEGIN
                             //**4PS Generated Code. Do Not Change.sn03
                             DPA_ChkDepartmentCodeAllowed(DPA_IsHardFilter);
                             //**4PS Generated Code.en03
                           END;
                            }

    { 1100525083;2;Field  ;
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 2 Code";
                Visible=ShortcutDimension2CodeVisible;
                Enabled=ShortcutDimension2CodeEditable;
                LookupPageID=Cost Object List;
                OnValidate=BEGIN
                             SetEditable;
                           END;
                            }

    { 1100525085;2;Field  ;
                SourceExpr="Cost Component";
                Visible=CostComponentVisible;
                Editable=CostComponentEditable }

    { 1100525087;2;Field  ;
                SourceExpr="Purchase Action";
                Visible=PurchaseActionVisible;
                OnValidate=BEGIN
                             CurrPage.UPDATE;  //**4PS.n
                           END;
                            }

    { 1100525089;2;Field  ;
                SourceExpr="Purchase Phase";
                Visible=PurchasePhaseVisible }

    { 1100525091;2;Field  ;
                SourceExpr="IC Partner Code";
                Visible=ICPartnerCodeVisible }

    { 1100525093;2;Field  ;
                SourceExpr="IC Partner Ref. Type";
                Visible=ICPartnerRefTypeVisible }

    { 1100525095;2;Field  ;
                SourceExpr="IC Partner Reference";
                Visible=ICPartnerReferenceVisible }

    { 1100525097;2;Field  ;
                SourceExpr="Variant Code";
                Visible=VariantCodeVisible }

    { 1100525099;2;Field  ;
                SourceExpr=Nonstock;
                Visible=NonstockVisible }

    { 1100525101;2;Field  ;
                SourceExpr=Type;
                Visible=TypeVisible;
                Editable=TypeEditable;
                OnValidate=BEGIN
                             GetVendorPreferenceAccountNo();  //**4PS.n
                           END;
                            }

    { 1100525103;2;Field  ;
                SourceExpr="No.";
                Visible=NoVisible;
                Editable=NoEditable;
                OnValidate=BEGIN
                             ShowShortcutDimCode(ShortcutDimCode);
                             InsertExtendedText(FALSE);
                             IF (Type = Type::"Charge (Item)") AND ("No." <> xRec."No.") AND
                                (xRec."No." <> '')
                             THEN
                               CurrPage.SAVERECORD;
                             SetEditable;
                           END;

                OnLookup=BEGIN
                           //**4PS
                           OnLookupFieldNo(NoEditable);
                           InsertExtendedText(FALSE);
                         END;
                          }

    { 1100525105;2;Field  ;
                SourceExpr=Description;
                Visible=DescriptionVisible }

    { 1100525107;2;Field  ;
                SourceExpr="Description 2";
                Visible=Description2Visible }

    { 1100525109;2;Field  ;
                SourceExpr="Text Block";
                Visible=TextBlockVisible }

    { 1100525111;2;Field  ;
                SourceExpr="Comments for Logistics";
                Visible=CommentsForLogisticsVisible }

    { 1100525113;2;Field  ;
                SourceExpr="Price Agreement";
                Visible=PriceAgreementVisible }

    { 1100525115;2;Field  ;
                SourceExpr="Drop Shipment";
                Visible=DropShipmentVisible }

    { 1100525117;2;Field  ;
                SourceExpr="Return Reason Code";
                Visible=ReturnReasonCodeVisible }

    { 1100525119;2;Field  ;
                SourceExpr="Location Code";
                Visible=LocationCodeVisible }

    { 1100525121;2;Field  ;
                SourceExpr="Bin Code";
                Visible=BinCodeVisible }

    { 1100525123;2;Field  ;
                SourceExpr="Shelf No.";
                Visible=ShelfNoVisible }

    { 1100525125;2;Field  ;
                BlankZero=Yes;
                SourceExpr=Quantity;
                Visible=QuantityVisible;
                Editable=QuantityEditable;
                OnValidate=BEGIN
                               CurrPage.UPDATE;  //**4PS.n
                           END;
                            }

    { 1100525127;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Reserved Quantity";
                Visible=ReservedQuantityVisible;
                Editable=QuantityEditable }

    { 1100525129;2;Field  ;
                SourceExpr="Unit of Measure Code";
                Visible=UnitOfMeasureCodeVisible }

    { 1100525131;2;Field  ;
                SourceExpr="Unit of Measure";
                Visible=UnitOfMeasureVisible }

    { 1100525133;2;Field  ;
                CaptionML=[DEU=Menge (Basis);
                           ENU=Quantity (Base);
                           NLD=Aantal (Basis);
                           NOR=Antall (lag.enh);
                           SVE=Antal (bas)];
                SourceExpr=BaseQuan;
                Visible=FALSE;
                Editable=FALSE }

    { 1100525135;2;Field  ;
                CaptionML=[DEU=Basiseinheitencode;
                           ENU=Base Unit of Measure;
                           NLD=Basiseenheid;
                           NOR=Lagerenhet;
                           SVE=Basenhet];
                SourceExpr=BaseUnit;
                Visible=FALSE;
                Editable=FALSE }

    { 1100525137;2;Field  ;
                BlankZero=Yes;
                SourceExpr="ICM Quantity";
                Visible=ICMQuantityVisible }

    { 1100525139;2;Field  ;
                SourceExpr="ICM Unit";
                Visible=ICMUnitVisible }

    { 1100525141;2;Field  ;
                SourceExpr="Extra Receipt Line";
                Visible=ExtraReceiptLineVisible;
                Editable=FALSE }

    { 1100525143;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Direct Unit Cost";
                Visible=DirectUnitCostVisible;
                OnValidate=BEGIN
                             CurrPage.UPDATE;  //**4PS.n
                           END;
                            }

    { 1100525145;2;Field  ;
                SourceExpr="Indirect Cost %";
                Visible=IndirectCostVisible }

    { 1100525147;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Unit Price (LCY)";
                Visible=UnitPriceLCYVisible;
                OnValidate=BEGIN
                             CurrPage.UPDATE;  //**4PS.n
                           END;
                            }

    { 1100525149;2;Field  ;
                SourceExpr="Discount % (Item)";
                Visible=DiscountItemVisible;
                OnValidate=BEGIN
                             CurrPage.UPDATE;  //**4PS
                           END;
                            }

    { 1100525151;2;Field  ;
                SourceExpr="Unit Cost (LCY)";
                Visible=UnitCostLCYVisible;
                OnValidate=BEGIN
                             CurrPage.UPDATE;  //**4PS.n
                           END;
                            }

    { 1100525153;2;Field  ;
                CaptionML=[DEU=Einstandspreis pro Artikeleinkaufseinheit;
                           ENU=Unit Cost per Item Purchase Unit;
                           NLD=Kostprijs per artikelinkoopeenheid;
                           NOR=Stykkost per artikkelinnkj›psenhet;
                           SVE=Styckkostnad per artikelink”psenhet];
                SourceExpr="UnitCost/PurchUnit";
                Visible=FALSE;
                Editable=FALSE }

    { 1100525155;2;Field  ;
                CaptionML=[DEU=Einstandspreis pro Basiseinheit;
                           ENU=Unit Cost per Base Unit;
                           NLD=Kostprijs per basiseenheid;
                           NOR=Stykkost per basisenhet;
                           SVE=Styckkostnad per basenhet];
                SourceExpr="UnitCost/BaseUnit";
                Visible=FALSE;
                Editable=FALSE }

    { 1100525157;2;Field  ;
                CaptionML=[DEU=VK-Preis pro Basiseinheit;
                           ENU=Unit Price per Base Unit;
                           NLD=Eenheidsprijs per basiseenheid;
                           NOR=Enhetspris per basisenhet;
                           SVE=Enhetspris per basenhet];
                SourceExpr="UnitPrice/BaseUnit";
                Visible=FALSE;
                Editable=FALSE }

    { 1100525159;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Line Amount";
                Visible=LineAmountVisible;
                OnValidate=BEGIN
                             CurrPage.UPDATE;  //**4PS.n
                           END;
                            }

    { 1100528800;2;Field  ;
                SourceExpr="Currency Code";
                Visible=CurrencyCodeVisible }

    { 1100525161;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Line Discount %";
                Visible=LineDiscountVisible;
                OnValidate=BEGIN
                             CurrPage.UPDATE;  //**4PS.n
                           END;
                            }

    { 1100525163;2;Field  ;
                SourceExpr="Line Discount Amount";
                Visible=LineDiscountAmountVisible }

    { 1100525165;2;Field  ;
                SourceExpr="Prepayment %";
                Visible=PrepaymentVisible }

    { 1100525167;2;Field  ;
                SourceExpr="Prepmt. Line Amount";
                Visible=PrepmtLineAmountVisible }

    { 1100525169;2;Field  ;
                SourceExpr="Prepmt. Amt. Inv.";
                Visible=PrepmtAmtInvVisible }

    { 1100525171;2;Field  ;
                SourceExpr="Allow Invoice Disc.";
                Visible=AllowInvoiceDiscVisible }

    { 1100525173;2;Field  ;
                SourceExpr="Inv. Discount Amount";
                Visible=InvDiscountAmountVisible }

    { 1100525175;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Qty. to Receive";
                Visible=QtyToReceiveVisible;
                Editable=QuantityEditable }

    { 1100525177;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Amnt. to Receive";
                Visible=AmntToReceiveVisible;
                Editable=AmountEditable }

    { 1100525179;2;Field  ;
                SourceExpr="Approve Receipt";
                Visible=ApproveReceiptVisible }

    { 1100525181;2;Field  ;
                SourceExpr="Comment Receipt";
                Visible=CommentReceiptVisible }

    { 1100525183;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Quantity Received";
                Visible=QuantityReceivedVisible }

    { 1100525185;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Amnt. Received";
                Visible=AmntReceivedVisible }

    { 1100525187;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Qty. to Invoice";
                Visible=QtyToInvoiceVisible;
                Editable=QtyToInvoiceEditable }

    { 1100525189;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Amnt. to Invoice";
                Visible=AmntToInvoiceVisible;
                Editable=AmntToInvoiceEditable }

    { 1100525191;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Quantity Invoiced";
                Visible=QuantityInvoicedVisible }

    { 1100525193;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Amnt. Invoiced";
                Visible=AmntInvoicedVisible }

    { 1100525195;2;Field  ;
                SourceExpr="Prepmt Amt to Deduct";
                Visible=PrepmtAmtToDeductVisible }

    { 1100525197;2;Field  ;
                SourceExpr="Prepmt Amt Deducted";
                Visible=PrepmtAmtDeductedVisible }

    { 1100525199;2;Field  ;
                SourceExpr="Allow Item Charge Assignment";
                Visible=AllowItemChargeAssignmentVisib }

    { 1100525201;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Qty. to Assign";
                Visible=QtyToAssignVisible;
                OnDrillDown=BEGIN
                              CurrPage.SAVERECORD;
                              ShowItemChargeAssgnt;
                              UpdateForm(FALSE);
                            END;
                             }

    { 1100525203;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Qty. Assigned";
                Visible=QtyAssignedVisible;
                OnDrillDown=BEGIN
                              CurrPage.SAVERECORD;
                              ShowItemChargeAssgnt;
                              UpdateForm(FALSE);
                            END;
                             }

    { 1100525205;2;Field  ;
                SourceExpr="Job Line Type";
                Visible=JobLineTypeVisible }

    { 1100525207;2;Field  ;
                SourceExpr="Job Task No.";
                Visible=JobTaskNoVisible }

    { 1100525209;2;Field  ;
                SourceExpr="Job Unit Price";
                Visible=JobUnitPriceVisible }

    { 1100525211;2;Field  ;
                SourceExpr="Cross-Reference No.";
                Visible=CrossReferenceNoVisible;
                OnValidate=BEGIN
                             InsertExtendedText(FALSE);
                           END;

                OnLookup=BEGIN
                           CrossReferenceNoLookUp;
                           InsertExtendedText(FALSE);
                         END;
                          }

    { 1100525213;2;Field  ;
                SourceExpr="Job Line Amount";
                Visible=JobLineAmountVisible }

    { 1100525215;2;Field  ;
                SourceExpr="Job Line Discount Amount";
                Visible=JobLineDiscountAmountVisible }

    { 1100525217;2;Field  ;
                SourceExpr="Job Line Discount %";
                Visible=JobLineDiscountVisible }

    { 1100525219;2;Field  ;
                SourceExpr="Job Total Price";
                Visible=JobTotalPriceVisible }

    { 1100525221;2;Field  ;
                SourceExpr="Job Unit Price (LCY)";
                Visible=JobUnitPriceLCYVisible }

    { 1100525223;2;Field  ;
                SourceExpr="Job Total Price (LCY)";
                Visible=JobTotalPriceLCYVisible }

    { 1100525225;2;Field  ;
                SourceExpr="Job Line Amount (LCY)";
                Visible=JobLineAmountLCYVisible }

    { 1100525227;2;Field  ;
                SourceExpr="Job Line Disc. Amount (LCY)";
                Visible=JobLineDiscAmountLCYVisible }

    { 1100525229;2;Field  ;
                SourceExpr="Requested Receipt Date";
                Visible=RequestedReceiptDateVisible }

    { 1100525231;2;Field  ;
                SourceExpr="Promised Receipt Date";
                Visible=PromisedReceiptDateVisible }

    { 1100525233;2;Field  ;
                SourceExpr="Planned Receipt Date";
                Visible=PlannedReceiptDateVisible }

    { 1100525235;2;Field  ;
                SourceExpr="Expected Receipt Date";
                Visible=ExpectedReceiptDateVisible }

    { 1100525237;2;Field  ;
                SourceExpr="Order Date";
                Visible=OrderDateVisible }

    { 1100525239;2;Field  ;
                SourceExpr="Lead Time Calculation";
                Visible=LeadTimeCalculationVisible }

    { 1100525241;2;Field  ;
                SourceExpr="Planning Flexibility";
                Visible=PlanningFlexibilityVisible }

    { 1100525243;2;Field  ;
                SourceExpr="Prod. Order No.";
                Visible=ProdOrderNoVisible }

    { 1100525245;2;Field  ;
                SourceExpr="Prod. Order Line No.";
                Visible=ProdOrderLineNoVisible }

    { 1100525247;2;Field  ;
                SourceExpr="Operation No.";
                Visible=OperationNoVisible }

    { 1100525249;2;Field  ;
                SourceExpr="Work Center No.";
                Visible=WorkCenterNoVisible }

    { 1100525251;2;Field  ;
                SourceExpr=Finished;
                Visible=FinishedVisible }

    { 1100525253;2;Field  ;
                SourceExpr="Whse. Outstanding Qty. (Base)";
                Visible=WhseOutstandingQtyBaseVisible }

    { 1100525255;2;Field  ;
                SourceExpr="Inbound Whse. Handling Time";
                Visible=InboundWhseHandlingTimeVisible }

    { 1100525257;2;Field  ;
                SourceExpr="Blanket Order No.";
                Visible=BlanketOrderNoVisible;
                OnValidate=BEGIN
                             CurrPage.UPDATE;  //**4PS.n
                           END;
                            }

    { 1100525259;2;Field  ;
                SourceExpr="Blanket Order Line No.";
                Visible=BlanketOrderLineNoVisible;
                OnValidate=BEGIN
                             CurrPage.UPDATE;  //**4PS.n
                           END;
                            }

    { 1100525261;2;Field  ;
                SourceExpr="Appl.-to Item Entry";
                Visible=ApplToItemEntryVisible }

    { 1100525263;2;Field  ;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[3];
                CaptionClass='1,2,3';
                Visible=DimVisible3;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(3,ShortcutDimCode[3]);
                           END;

                OnLookup=BEGIN
                           LookupShortcutDimCode(3,ShortcutDimCode[3]);
                         END;
                          }

    { 1100525265;2;Field  ;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[4];
                CaptionClass='1,2,4';
                Visible=DimVisible4;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(4,ShortcutDimCode[4]);
                           END;

                OnLookup=BEGIN
                           LookupShortcutDimCode(4,ShortcutDimCode[4]);
                         END;
                          }

    { 1100525267;2;Field  ;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[5];
                CaptionClass='1,2,5';
                Visible=DimVisible5;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(5,ShortcutDimCode[5]);
                           END;

                OnLookup=BEGIN
                           LookupShortcutDimCode(5,ShortcutDimCode[5]);
                         END;
                          }

    { 1100525269;2;Field  ;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[6];
                CaptionClass='1,2,6';
                Visible=DimVisible6;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(6,ShortcutDimCode[6]);
                           END;

                OnLookup=BEGIN
                           LookupShortcutDimCode(6,ShortcutDimCode[6]);
                         END;
                          }

    { 1100525271;2;Field  ;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[7];
                CaptionClass='1,2,7';
                Visible=DimVisible7;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(7,ShortcutDimCode[7]);
                           END;

                OnLookup=BEGIN
                           LookupShortcutDimCode(7,ShortcutDimCode[7]);
                         END;
                          }

    { 1100525273;2;Field  ;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[8];
                CaptionClass='1,2,8';
                Visible=DimVisible8;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(8,ShortcutDimCode[8]);
                           END;

                OnLookup=BEGIN
                           LookupShortcutDimCode(8,ShortcutDimCode[8]);
                         END;
                          }

    { 1100525275;2;Field  ;
                SourceExpr="Sales Price";
                Visible=SalesPriceVisible }

    { 1100525277;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Risc Coverage Amount (LCY)";
                Visible=RiscCoverageAmountLCYVisible }

    { 1100525279;2;Field  ;
                BlankZero=Yes;
                SourceExpr="Release Risc Coverage (LCY)";
                Visible=ReleaseRiscCoverageLCYVisible }

    { 1100525281;2;Field  ;
                CaptionML=[DEU=Nachlieferung;
                           ENU=Backorder Qty.;
                           NLD=Nalevering;
                           NOR=Backordreantall;
                           SVE=Backorderantal];
                BlankZero=Yes;
                SourceExpr=BackOrderQuantity;
                Visible=FALSE;
                Editable=FALSE;
                OnValidate=BEGIN
                             SetEditable;
                           END;
                            }

    { 1100525283;2;Field  ;
                SourceExpr="Expected Back Order Date";
                Visible=ExpectedBackOrderDateVisible;
                Editable=ExpectedBackOrderDateEditable }

    { 1100525285;2;Field  ;
                SourceExpr="Posting Date";
                Visible=PostingDateVisible;
                Editable=FALSE }

    { 1100525287;2;Field  ;
                SourceExpr="Gen. Prod. Posting Group";
                Visible=GenProdPostingGroupVisible }

    { 1100525289;2;Field  ;
                SourceExpr="VAT Bus. Posting Group";
                Visible=VATBusPostingGroupVisible;
                OnValidate=BEGIN
                             CurrPage.UPDATE;  //**4PS.n
                           END;
                            }

    { 1100525291;2;Field  ;
                SourceExpr="VAT Prod. Posting Group";
                Visible=VATProdPostingGroupVisible;
                OnValidate=BEGIN
                             CurrPage.UPDATE;  //**4PS.n
                           END;
                            }

    { 1100525293;2;Field  ;
                SourceExpr="ICM Quantity Confirmed";
                Visible=ICMQuantityConfirmedVisible }

    { 1100525295;2;Field  ;
                SourceExpr="ICM Quantity Error";
                Visible=ICMQuantityErrorVisible }

    { 1100525297;2;Field  ;
                CaptionML=[DEU=Angebotsnr.;
                           ENU=Quote No.;
                           NLD=Offertenr.;
                           NOR=Foresp›rselsnr.;
                           SVE=Offertnr];
                SourceExpr=RefQuote;
                Visible=FALSE;
                Editable=FALSE;
                OnLookup=VAR
                           lvPurchHeadRec@1210190000 : Record 38;
                         BEGIN
                           //**4PS
                           IF (RefQuote = '') THEN
                             EXIT;

                           IF (COPYSTR(RefQuote, 1, 1) = '<') THEN  // IF Quote No. is '<Nr.>', then more than one quote present
                             RouteRefMgtCU.ShowReferenceQuoteList("Purchase Route Reference")
                           ELSE BEGIN
                             lvPurchHeadRec.SETRANGE("Document Type", lvPurchHeadRec."Document Type"::Quote);
                             lvPurchHeadRec.SETRANGE("No.", RefQuote);
                             PAGE.RUNMODAL(PAGE::"Purchase Quote", lvPurchHeadRec);
                           END;
                         END;
                          }

    { 1100525299;2;Field  ;
                SourceExpr="Purchase Route Reference";
                Visible=PurchaseRouteReferenceVisible }

    { 1100525301;2;Field  ;
                SourceExpr="Scheme Code";
                Visible=SchemeCodeVisible }

    { 1100525303;2;Field  ;
                SourceExpr="Entity Type";
                Visible=EntityTypeVisible;
                OnValidate=BEGIN
                             SetEditable;
                           END;
                            }

    { 1100525311;2;Field  ;
                SourceExpr="Inward Processing Relief";
                Visible=InwardProcessingReliefVisible }

    { 1100525313;2;Field  ;
                SourceExpr="Sales Order No.";
                Visible=SalesOrderNoVisible }

    { 1100525315;2;Field  ;
                SourceExpr="Sales Order Line No.";
                Visible=SalesOrderLineNoVisible }

    { 1100525317;2;Field  ;
                SourceExpr="Contract Type";
                Visible=ContractTypeVisible }

    { 1100527450;2;Field  ;
                SourceExpr="Subcontracting Activity";
                Visible=SubcontractingActivityVisible }

  }
  CODE
  {
    VAR
      GLSetup@1100525009 : Record 98;
      PurchSetup@1100525008 : Record 312;
      PurchHeader@1100525007 : Record 38;
      TransferExtendedText@1100525017 : Codeunit 378;
      RouteRefMgtCU@1100525001 : Codeunit 11012045;
      ShortcutDimCode@1100525005 : ARRAY [8] OF Code[20];
      "UnitCost/PurchUnit"@1100525014 : Decimal;
      "UnitCost/BaseUnit"@1100525013 : Decimal;
      "UnitPrice/BaseUnit"@1100525012 : Decimal;
      BackOrderQuantity@1100525006 : Decimal;
      BaseQuan@1100525011 : Decimal;
      BaseUnit@1100525010 : Code[20];
      RefQuote@1100525016 : Code[20];
      DPA_IsHardFilter@1100528800 : Boolean;
      JobNoVisible@19020212 : Boolean INDATASET;
      LineNoVisible@19049973 : Boolean INDATASET;
      ElementVisible@19068465 : Boolean INDATASET;
      ExtensionContractVisible@19049751 : Boolean INDATASET;
      PlotNoVisible@19058253 : Boolean INDATASET;
      BudgetAdjustmentVisible@19011560 : Boolean INDATASET;
      TenderParagraphVisible@19072407 : Boolean INDATASET;
      SkullVisible@19027556 : Boolean INDATASET;
      TenderParagraphTextVisible@19002576 : Boolean INDATASET;
      TenderParagraphPartVisible@19066174 : Boolean INDATASET;
      DescrTenderParagraphPartVisibl@19054351 : Boolean INDATASET;
      ServiceOrderNoVisible@19076448 : Boolean INDATASET;
      ServiceContractNoVisible@19048893 : Boolean INDATASET;
      ServiceLocationNoVisible@19073759 : Boolean INDATASET;
      ServiceControlYearVisible@19073324 : Boolean INDATASET;
      AdditionalCostServiceVisible@19008835 : Boolean INDATASET;
      RentalUnitVisible@19028812 : Boolean INDATASET;
      CostTypeVisible@19074774 : Boolean INDATASET;
      ItemNoVisible@19079144 : Boolean INDATASET;
      ManufacturerVisible@19015155 : Boolean INDATASET;
      BasicItemVisible@19042756 : Boolean INDATASET;
      VendorTradeItemVisible@19043796 : Boolean INDATASET;
      TradeItemVisible@19042429 : Boolean INDATASET;
      ItemBrandVisible@19031121 : Boolean INDATASET;
      ItemTypeVisible@19020876 : Boolean INDATASET;
      ItemSeriesVisible@19071484 : Boolean INDATASET;
      VendorItemNoVisible@19033074 : Boolean INDATASET;
      TariffNoVisible@19004366 : Boolean INDATASET;
      NetWeightVisible@19024590 : Boolean INDATASET;
      PlantTypeVisible@19062317 : Boolean INDATASET;
      VendorPlantNoVisible@19012324 : Boolean INDATASET;
      PlantNoVisible@19032137 : Boolean INDATASET;
      CostComponentPlantVisible@19026736 : Boolean INDATASET;
      PlantTransportOrderNoVisible@19031796 : Boolean INDATASET;
      PlantOrderNoVisible@19017358 : Boolean INDATASET;
      PlantOrderLineNoVisible@19018672 : Boolean INDATASET;
      ExpectedEnddateRentVisible@19029744 : Boolean INDATASET;
      DirectDeliveryPlantVisible@19026053 : Boolean INDATASET;
      ShortcutDimension1CodeVisible@19016034 : Boolean INDATASET;
      ShortcutDimension2CodeVisible@19058851 : Boolean INDATASET;
      CostComponentVisible@19009898 : Boolean INDATASET;
      PurchaseActionVisible@19039042 : Boolean INDATASET;
      PurchasePhaseVisible@19057610 : Boolean INDATASET;
      ICPartnerCodeVisible@19053922 : Boolean INDATASET;
      ICPartnerRefTypeVisible@19055444 : Boolean INDATASET;
      ICPartnerReferenceVisible@19039198 : Boolean INDATASET;
      VariantCodeVisible@19029470 : Boolean INDATASET;
      NonstockVisible@19039710 : Boolean INDATASET;
      TypeVisible@19063733 : Boolean INDATASET;
      NoVisible@19001701 : Boolean INDATASET;
      DescriptionVisible@19064706 : Boolean INDATASET;
      Description2Visible@19044991 : Boolean INDATASET;
      TextBlockVisible@19060528 : Boolean INDATASET;
      CommentsForLogisticsVisible@19007676 : Boolean INDATASET;
      PriceAgreementVisible@19078287 : Boolean INDATASET;
      DropShipmentVisible@19064736 : Boolean INDATASET;
      ReturnReasonCodeVisible@19056274 : Boolean INDATASET;
      LocationCodeVisible@19020483 : Boolean INDATASET;
      BinCodeVisible@19077106 : Boolean INDATASET;
      ShelfNoVisible@19053014 : Boolean INDATASET;
      QuantityVisible@19058433 : Boolean INDATASET;
      ReservedQuantityVisible@19078779 : Boolean INDATASET;
      UnitOfMeasureCodeVisible@19022180 : Boolean INDATASET;
      UnitOfMeasureVisible@19022597 : Boolean INDATASET;
      ICMQuantityVisible@19010514 : Boolean INDATASET;
      ICMUnitVisible@19067123 : Boolean INDATASET;
      ExtraReceiptLineVisible@19001854 : Boolean INDATASET;
      DirectUnitCostVisible@19064655 : Boolean INDATASET;
      IndirectCostVisible@19013003 : Boolean INDATASET;
      UnitPriceLCYVisible@19022216 : Boolean INDATASET;
      CurrencyCodeVisible@19048276 : Boolean INDATASET;
      DiscountItemVisible@19022263 : Boolean INDATASET;
      UnitCostLCYVisible@19059606 : Boolean INDATASET;
      LineAmountVisible@19001985 : Boolean INDATASET;
      LineDiscountVisible@19002909 : Boolean INDATASET;
      LineDiscountAmountVisible@19072546 : Boolean INDATASET;
      PrepaymentVisible@19066909 : Boolean INDATASET;
      PrepmtLineAmountVisible@19078187 : Boolean INDATASET;
      PrepmtAmtInvVisible@19005667 : Boolean INDATASET;
      AllowInvoiceDiscVisible@19040849 : Boolean INDATASET;
      InvDiscountAmountVisible@19058988 : Boolean INDATASET;
      QtyToReceiveVisible@19050888 : Boolean INDATASET;
      AmntToReceiveVisible@19027202 : Boolean INDATASET;
      ApproveReceiptVisible@19025579 : Boolean INDATASET;
      CommentReceiptVisible@19067276 : Boolean INDATASET;
      QuantityReceivedVisible@19066675 : Boolean INDATASET;
      AmntReceivedVisible@19016371 : Boolean INDATASET;
      QtyToInvoiceVisible@19008043 : Boolean INDATASET;
      AmntToInvoiceVisible@19060563 : Boolean INDATASET;
      QuantityInvoicedVisible@19074051 : Boolean INDATASET;
      AmntInvoicedVisible@19013499 : Boolean INDATASET;
      PrepmtAmtToDeductVisible@19065514 : Boolean INDATASET;
      PrepmtAmtDeductedVisible@19027547 : Boolean INDATASET;
      AllowItemChargeAssignmentVisib@19002112 : Boolean INDATASET;
      QtyToAssignVisible@19055944 : Boolean INDATASET;
      QtyAssignedVisible@19017323 : Boolean INDATASET;
      JobLineTypeVisible@19058084 : Boolean INDATASET;
      JobTaskNoVisible@19035147 : Boolean INDATASET;
      JobUnitPriceVisible@19053668 : Boolean INDATASET;
      CrossReferenceNoVisible@19008072 : Boolean INDATASET;
      JobLineAmountVisible@19022719 : Boolean INDATASET;
      JobLineDiscountAmountVisible@19041590 : Boolean INDATASET;
      JobLineDiscountVisible@19073148 : Boolean INDATASET;
      JobTotalPriceVisible@19020088 : Boolean INDATASET;
      JobUnitPriceLCYVisible@19064701 : Boolean INDATASET;
      JobTotalPriceLCYVisible@19058800 : Boolean INDATASET;
      JobLineAmountLCYVisible@19025188 : Boolean INDATASET;
      JobLineDiscAmountLCYVisible@19057639 : Boolean INDATASET;
      RequestedReceiptDateVisible@19051963 : Boolean INDATASET;
      PromisedReceiptDateVisible@19016350 : Boolean INDATASET;
      PlannedReceiptDateVisible@19000988 : Boolean INDATASET;
      ExpectedReceiptDateVisible@19074269 : Boolean INDATASET;
      OrderDateVisible@19035812 : Boolean INDATASET;
      LeadTimeCalculationVisible@19063491 : Boolean INDATASET;
      PlanningFlexibilityVisible@19024246 : Boolean INDATASET;
      ProdOrderNoVisible@19039876 : Boolean INDATASET;
      ProdOrderLineNoVisible@19042556 : Boolean INDATASET;
      OperationNoVisible@19028120 : Boolean INDATASET;
      WorkCenterNoVisible@19010590 : Boolean INDATASET;
      FinishedVisible@19050735 : Boolean INDATASET;
      WhseOutstandingQtyBaseVisible@19014614 : Boolean INDATASET;
      InboundWhseHandlingTimeVisible@19037456 : Boolean INDATASET;
      BlanketOrderNoVisible@19021877 : Boolean INDATASET;
      BlanketOrderLineNoVisible@19044809 : Boolean INDATASET;
      ApplToItemEntryVisible@19006964 : Boolean INDATASET;
      SalesPriceVisible@19041560 : Boolean INDATASET;
      RiscCoverageAmountLCYVisible@19028932 : Boolean INDATASET;
      ReleaseRiscCoverageLCYVisible@19000208 : Boolean INDATASET;
      ExpectedBackOrderDateVisible@19065882 : Boolean INDATASET;
      PostingDateVisible@19028333 : Boolean INDATASET;
      GenProdPostingGroupVisible@19003718 : Boolean INDATASET;
      VATBusPostingGroupVisible@19037274 : Boolean INDATASET;
      VATProdPostingGroupVisible@19074274 : Boolean INDATASET;
      ICMQuantityConfirmedVisible@19048060 : Boolean INDATASET;
      ICMQuantityErrorVisible@19048492 : Boolean INDATASET;
      PurchaseRouteReferenceVisible@19055406 : Boolean INDATASET;
      SchemeCodeVisible@19026881 : Boolean INDATASET;
      EntityTypeVisible@19050218 : Boolean INDATASET;
      InwardProcessingReliefVisible@19031060 : Boolean INDATASET;
      SalesOrderNoVisible@19066007 : Boolean INDATASET;
      SalesOrderLineNoVisible@19016023 : Boolean INDATASET;
      ContractTypeVisible@19061471 : Boolean INDATASET;
      NoEditable@1210190016 : Boolean INDATASET;
      CostTypeEditable@1210190015 : Boolean INDATASET;
      ShortcutDimension2CodeEditable@1210190000 : Boolean INDATASET;
      ItemEditable@1210190014 : Boolean INDATASET;
      TariffNoEditable@1210190013 : Boolean INDATASET;
      NetWeightEditable@1210190012 : Boolean INDATASET;
      PlantTypeEditable@1210190011 : Boolean INDATASET;
      PlantNoEditable@1210190010 : Boolean INDATASET;
      CostComponentEditable@1210190009 : Boolean INDATASET;
      TypeEditable@1210190008 : Boolean INDATASET;
      QuantityEditable@1210190007 : Boolean INDATASET;
      AmountEditable@1210190006 : Boolean INDATASET;
      QtyToInvoiceEditable@1210190005 : Boolean INDATASET;
      AmntToInvoiceEditable@1210190004 : Boolean INDATASET;
      ExpectedBackOrderDateEditable@1210190003 : Boolean INDATASET;
      DimVisible1@1100525021 : Boolean;
      DimVisible2@1100525020 : Boolean;
      DimVisible3@1100525019 : Boolean;
      DimVisible4@1100525018 : Boolean;
      DimVisible5@1100525015 : Boolean;
      DimVisible6@1100525004 : Boolean;
      DimVisible7@1100525003 : Boolean;
      DimVisible8@1100525002 : Boolean;
      SubcontractingActivityVisible@1100527450 : Boolean INDATASET;

    PROCEDURE InsertExtendedText@6(Unconditionally@1000 : Boolean);
    BEGIN
      IF TransferExtendedText.PurchCheckIfAnyExtText(Rec,Unconditionally) THEN BEGIN
        CurrPage.SAVERECORD;
        TransferExtendedText.InsertPurchExtText(Rec);
      END;
      IF TransferExtendedText.MakeUpdate THEN
        UpdateForm(TRUE);
    END;

    PROCEDURE UpdateForm@13(SetSaveRecord@1000 : Boolean);
    BEGIN
      CurrPage.UPDATE(SetSaveRecord);
    END;

    PROCEDURE GetHeader@1000000005();
    BEGIN
      TESTFIELD("Document No.");
      PurchHeader.GET("Document Type","Document No.");
    END;

    PROCEDURE DetermineBackOrderQuantity@1100485001();
    BEGIN
      BackOrderQuantity := Quantity - "Qty. to Receive" - "Quantity Received";
      IF BackOrderQuantity < 0 THEN
        BackOrderQuantity := 0;
      IF BackOrderQuantity = 0 THEN
        "Expected Back Order Date" := 0D;
    END;

    PROCEDURE SetDataEntryFields@1100525000();
    BEGIN
      JobNoVisible := ShowField(FIELDNO("Job No."));
      LineNoVisible := ShowField(FIELDNO("Line No."));
      JobNoVisible := ShowField(FIELDNO("Job No."));
      ElementVisible := ShowField(FIELDNO(Element));
      ExtensionContractVisible := ShowField(FIELDNO("Extension Contract"));
      PlotNoVisible := ShowField(FIELDNO("Plot No."));
      BudgetAdjustmentVisible := ShowField(FIELDNO("Budget Adjustment"));
      TenderParagraphVisible := ShowField(FIELDNO("Tender Paragraph"));
      SkullVisible := ShowField(FIELDNO("Description Tender Paragraph"));
      TenderParagraphTextVisible := ShowField(FIELDNO("Tender Paragraph Text"));
      TenderParagraphPartVisible := ShowField(FIELDNO("Tender Paragraph Part"));
      DescrTenderParagraphPartVisibl := ShowField(FIELDNO("Descr Tender Paragraph Part"));
      ServiceOrderNoVisible := ShowField(FIELDNO("Service Order No."));
      ServiceContractNoVisible := ShowField(FIELDNO("Service Contract No."));
      ServiceLocationNoVisible := ShowField(FIELDNO("Service Location No."));
      ServiceControlYearVisible := ShowField(FIELDNO("Service Control Year"));
      AdditionalCostServiceVisible := ShowField(FIELDNO("Additional Cost (Service)"));
      RentalUnitVisible := ShowField(FIELDNO("Rental Unit"));
      CostTypeVisible := ShowField(FIELDNO("Cost Type"));
      ItemNoVisible := ShowField(FIELDNO("Item No."));
      ManufacturerVisible := ShowField(FIELDNO(Manufacturer));
      BasicItemVisible := ShowField(FIELDNO("Basic Item"));
      VendorTradeItemVisible := ShowField(FIELDNO("Vendor (Trade Item)"));
      TradeItemVisible := ShowField(FIELDNO("Trade Item"));
      ItemBrandVisible := ShowField(FIELDNO("Item Brand"));
      ItemTypeVisible := ShowField(FIELDNO("Item Type"));
      ItemSeriesVisible := ShowField(FIELDNO("Item Series"));
      VendorItemNoVisible := ShowField(FIELDNO("Vendor Item No."));
      TariffNoVisible := ShowField(FIELDNO("Tariff No."));
      NetWeightVisible := ShowField(FIELDNO("Net Weight"));
      PlantTypeVisible := ShowField(FIELDNO("Plant Type"));
      VendorPlantNoVisible := ShowField(FIELDNO("Vendor Plant No."));
      PlantNoVisible := ShowField(FIELDNO("Plant No."));
      CostComponentPlantVisible := ShowField(FIELDNO("Cost Component Plant"));
      PlantTransportOrderNoVisible := ShowField(FIELDNO("Plant Transport Order No."));
      PlantOrderNoVisible := ShowField(FIELDNO("Plant Order No."));
      PlantOrderLineNoVisible := ShowField(FIELDNO("Plant Order Line No."));
      ExpectedEnddateRentVisible := ShowField(FIELDNO("Expected Enddate Rent"));
      DirectDeliveryPlantVisible := ShowField(FIELDNO("Direct Delivery Plant"));
      ShortcutDimension1CodeVisible := ShowField(FIELDNO("Shortcut Dimension 1 Code"));
      ShortcutDimension2CodeVisible := ShowField(FIELDNO("Shortcut Dimension 2 Code"));
      CostComponentVisible := ShowField(FIELDNO("Cost Component"));
      PurchaseActionVisible := ShowField(FIELDNO("Purchase Action"));
      PurchasePhaseVisible := ShowField(FIELDNO("Purchase Phase"));
      ICPartnerCodeVisible := ShowField(FIELDNO("IC Partner Code"));
      ICPartnerRefTypeVisible := ShowField(FIELDNO("IC Partner Ref. Type"));
      ICPartnerReferenceVisible := ShowField(FIELDNO("IC Partner Reference"));
      VariantCodeVisible := ShowField(FIELDNO("Variant Code"));
      NonstockVisible := ShowField(FIELDNO(Nonstock));
      TypeVisible := ShowField(FIELDNO(Type));
      NoVisible := ShowField(FIELDNO("No."));
      DescriptionVisible := ShowField(FIELDNO(Description));
      Description2Visible := ShowField(FIELDNO("Description 2"));
      TextBlockVisible := ShowField(FIELDNO("Text Block"));
      CommentsForLogisticsVisible := ShowField(FIELDNO("Comments for Logistics"));
      PriceAgreementVisible := ShowField(FIELDNO("Price Agreement"));
      DropShipmentVisible := ShowField(FIELDNO("Drop Shipment"));
      ReturnReasonCodeVisible := ShowField(FIELDNO("Return Reason Code"));
      LocationCodeVisible := ShowField(FIELDNO("Location Code"));
      BinCodeVisible := ShowField(FIELDNO("Bin Code"));
      ShelfNoVisible := ShowField(FIELDNO("Shelf No."));
      QuantityVisible := ShowField(FIELDNO(Quantity));
      ReservedQuantityVisible := ShowField(FIELDNO("Reserved Quantity"));
      UnitOfMeasureCodeVisible := ShowField(FIELDNO("Unit of Measure Code"));
      UnitOfMeasureVisible := ShowField(FIELDNO("Unit of Measure"));
      ICMQuantityVisible := ShowField(FIELDNO("ICM Quantity"));
      ICMUnitVisible := ShowField(FIELDNO("ICM Unit"));
      ExtraReceiptLineVisible := ShowField(FIELDNO("Extra Receipt Line"));
      DirectUnitCostVisible := ShowField(FIELDNO("Direct Unit Cost"));
      IndirectCostVisible := ShowField(FIELDNO("Indirect Cost %"));
      UnitPriceLCYVisible := ShowField(FIELDNO("Unit Price (LCY)"));
      CurrencyCodeVisible := ShowField(FIELDNO("Currency Code"));
      DiscountItemVisible := ShowField(FIELDNO("Discount % (Item)"));
      UnitCostLCYVisible := ShowField(FIELDNO("Unit Cost (LCY)"));
      LineAmountVisible := ShowField(FIELDNO("Line Amount"));
      LineDiscountVisible := ShowField(FIELDNO("Line Discount %"));
      LineDiscountAmountVisible := ShowField(FIELDNO("Line Discount Amount"));
      PrepaymentVisible := ShowField(FIELDNO("Prepayment %"));
      PrepmtLineAmountVisible := ShowField(FIELDNO("Prepmt. Line Amount"));
      PrepmtAmtInvVisible := ShowField(FIELDNO("Prepmt. Amt. Inv."));
      AllowInvoiceDiscVisible := ShowField(FIELDNO("Allow Invoice Disc."));
      InvDiscountAmountVisible := ShowField(FIELDNO("Inv. Discount Amount"));
      QtyToReceiveVisible := ShowField(FIELDNO("Qty. to Receive"));
      AmntToReceiveVisible := ShowField(FIELDNO("Amnt. to Receive"));
      ApproveReceiptVisible := ShowField(FIELDNO("Approve Receipt"));
      CommentReceiptVisible := ShowField(FIELDNO("Comment Receipt"));
      QuantityReceivedVisible := ShowField(FIELDNO("Quantity Received"));
      AmntReceivedVisible := ShowField(FIELDNO("Amnt. Received"));
      QtyToInvoiceVisible := ShowField(FIELDNO("Qty. to Invoice"));
      AmntToInvoiceVisible := ShowField(FIELDNO("Amnt. to Invoice"));
      QuantityInvoicedVisible := ShowField(FIELDNO("Quantity Invoiced"));
      AmntInvoicedVisible := ShowField(FIELDNO("Amnt. Invoiced"));
      PrepmtAmtToDeductVisible := ShowField(FIELDNO("Prepmt Amt to Deduct"));
      PrepmtAmtDeductedVisible := ShowField(FIELDNO("Prepmt Amt Deducted"));
      AllowItemChargeAssignmentVisib := ShowField(FIELDNO("Allow Item Charge Assignment"));
      QtyToAssignVisible := ShowField(FIELDNO("Qty. to Assign"));
      QtyAssignedVisible := ShowField(FIELDNO("Qty. Assigned"));
      JobLineTypeVisible := ShowField(FIELDNO("Job Line Type"));
      JobTaskNoVisible := ShowField(FIELDNO("Job Task No."));
      JobUnitPriceVisible := ShowField(FIELDNO("Job Unit Price"));
      CrossReferenceNoVisible := ShowField(FIELDNO("Cross-Reference No."));
      JobLineAmountVisible := ShowField(FIELDNO("Job Line Amount"));
      JobLineDiscountAmountVisible := ShowField(FIELDNO("Job Line Discount Amount"));
      JobLineDiscountVisible := ShowField(FIELDNO("Job Line Discount %"));
      JobTotalPriceVisible := ShowField(FIELDNO("Job Total Price"));
      JobUnitPriceLCYVisible := ShowField(FIELDNO("Job Unit Price (LCY)"));
      JobTotalPriceLCYVisible := ShowField(FIELDNO("Job Total Price (LCY)"));
      JobLineAmountLCYVisible := ShowField(FIELDNO("Job Line Amount (LCY)"));
      JobLineDiscAmountLCYVisible := ShowField(FIELDNO("Job Line Disc. Amount (LCY)"));
      RequestedReceiptDateVisible := ShowField(FIELDNO("Requested Receipt Date"));
      PromisedReceiptDateVisible := ShowField(FIELDNO("Promised Receipt Date"));
      PlannedReceiptDateVisible := ShowField(FIELDNO("Planned Receipt Date"));
      ExpectedReceiptDateVisible := ShowField(FIELDNO("Expected Receipt Date"));
      OrderDateVisible := ShowField(FIELDNO("Order Date"));
      LeadTimeCalculationVisible := ShowField(FIELDNO("Lead Time Calculation"));
      PlanningFlexibilityVisible := ShowField(FIELDNO("Planning Flexibility"));
      ProdOrderNoVisible := ShowField(FIELDNO("Prod. Order No."));
      ProdOrderLineNoVisible := ShowField(FIELDNO("Prod. Order Line No."));
      OperationNoVisible := ShowField(FIELDNO("Operation No."));
      WorkCenterNoVisible := ShowField(FIELDNO("Work Center No."));
      FinishedVisible := ShowField(FIELDNO(Finished));
      WhseOutstandingQtyBaseVisible := ShowField(FIELDNO("Whse. Outstanding Qty. (Base)"));
      InboundWhseHandlingTimeVisible := ShowField(FIELDNO("Inbound Whse. Handling Time"));
      BlanketOrderNoVisible := ShowField(FIELDNO("Blanket Order No."));
      BlanketOrderLineNoVisible := ShowField(FIELDNO("Blanket Order Line No."));
      ApplToItemEntryVisible := ShowField(FIELDNO("Appl.-to Item Entry"));
      SalesPriceVisible := ShowField(FIELDNO("Sales Price"));
      RiscCoverageAmountLCYVisible := ShowField(FIELDNO("Risc Coverage Amount (LCY)"));
      ReleaseRiscCoverageLCYVisible := ShowField(FIELDNO("Release Risc Coverage (LCY)"));
      ExpectedBackOrderDateVisible := ShowField(FIELDNO("Expected Back Order Date"));
      PostingDateVisible := ShowField(FIELDNO("Posting Date"));
      GenProdPostingGroupVisible := ShowField(FIELDNO("Gen. Prod. Posting Group"));
      VATBusPostingGroupVisible := ShowField(FIELDNO("VAT Bus. Posting Group"));
      VATProdPostingGroupVisible := ShowField(FIELDNO("VAT Prod. Posting Group"));
      ICMQuantityConfirmedVisible := ShowField(FIELDNO("ICM Quantity Confirmed"));
      ICMQuantityErrorVisible := ShowField(FIELDNO("ICM Quantity Error"));
      PurchaseRouteReferenceVisible := ShowField(FIELDNO("Purchase Route Reference"));
      SchemeCodeVisible := ShowField(FIELDNO("Scheme Code"));
      EntityTypeVisible := ShowField(FIELDNO("Entity Type"));
      InwardProcessingReliefVisible := ShowField(FIELDNO("Inward Processing Relief"));
      SalesOrderNoVisible := ShowField(FIELDNO("Sales Order No."));
      SalesOrderLineNoVisible := ShowField(FIELDNO("Sales Order Line No."));
      ContractTypeVisible := ShowField(FIELDNO("Contract Type"));
      SubcontractingActivityVisible := ShowField(FIELDNO("Subcontracting Activity"));
    END;

    PROCEDURE ShowField@1100525001(FieldNo@1100525001 : Integer) : Boolean;
    VAR
      PurchaseOrderField@1100525000 : Record 11020679;
    BEGIN
      CASE "Document Type" OF
        "Document Type"::Order:
          EXIT(PurchaseOrderField.GET(PurchaseOrderField."Document Type"::"Purchase Order", "Line Type", FieldNo));
        "Document Type"::Invoice:
          EXIT(PurchaseOrderField.GET(PurchaseOrderField."Document Type"::"Purchase Invoice", "Line Type", FieldNo));
      END;
    END;

    LOCAL PROCEDURE OnAfterGetCurrRecord@19077479();
    BEGIN
      xRec := Rec;
      RefQuote := RouteRefMgtCU.GetQuoteOfReference("Purchase Route Reference");
      SetEditable;
    END;

    LOCAL PROCEDURE SetEditable@1100525003();
    VAR
      JobsSetup@1210190002 : Record 315;
      ServiceSetup@1210190001 : Record 11012800;
    BEGIN
      GetHeader;
      IF JobsSetup.GET THEN;
      IF ServiceSetup.GET THEN;

      NoEditable := ("Plant Type" = '') AND
        ("Job No." = '') AND ("Service Order No." = '');
      CostTypeEditable := (
        ("Item No." + "Basic Item" + "Trade Item" = ''));
      ShortcutDimension2CodeEditable := TRUE;
      IF "Document Type" = "Document Type"::Invoice THEN BEGIN
        IF PurchHeader."Preregister WIP" THEN BEGIN
          NoEditable := FALSE;
          CostTypeEditable := FALSE;
          ShortcutDimension2CodeEditable := FALSE;
        END ELSE BEGIN
          NoEditable := NoEditable AND
            (("No." <> PurchSetup."Purchase Registration Account") OR
             (NOT PurchSetup."Approve Purchase Invoices"));
        END;
      END;

      ItemEditable := ("Cost Type" = "Cost Type"::Material) OR ("Cost Type" = "Cost Type"::" ");

      TariffNoEditable := ("Item No." = '');
      NetWeightEditable := ("Item No." = '');
      PlantTypeEditable := ("Job No." = '');
      PlantNoEditable := ("Plant Type" <> '');

      CostComponentEditable :=
        (("Job No." <> '') AND JobsSetup."Cost Component Editable") OR
        (("Service Order No." <> '') AND ServiceSetup."Cost Component Editable") OR
        (("Job No." = '') AND ("Service Order No." = ''));
      TypeEditable := ("Job No." = '') AND ("Service Order No." = '') AND ("Plant Type" = '');
      QuantityEditable := (NOT PurchHeader."Amounts only");

      AmountEditable := PurchHeader."Amounts only";

      IF PurchSetup."Invoice Purchase Orders" THEN BEGIN
        QtyToInvoiceEditable := (NOT PurchHeader."Amounts only");
        AmntToInvoiceEditable := (PurchHeader."Amounts only");
      END ELSE BEGIN
        QtyToInvoiceEditable :=  FALSE;
        AmntToInvoiceEditable := FALSE;
      END;

      ExpectedBackOrderDateEditable := (BackOrderQuantity <> 0);
    END;

    LOCAL PROCEDURE SetDimensionsVisibility@2();
    VAR
      DimMgt@1000 : Codeunit 408;
    BEGIN
      DimVisible1 := FALSE;
      DimVisible2 := FALSE;
      DimVisible3 := FALSE;
      DimVisible4 := FALSE;
      DimVisible5 := FALSE;
      DimVisible6 := FALSE;
      DimVisible7 := FALSE;
      DimVisible8 := FALSE;

      DimMgt.UseShortcutDims(
        DimVisible1,DimVisible2,DimVisible3,DimVisible4,DimVisible5,DimVisible6,DimVisible7,DimVisible8);
    END;

    BEGIN
    END.
  }
}

