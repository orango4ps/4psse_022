OBJECT Page 508 Blanket Sales Order Subform
{
  OBJECT-PROPERTIES
  {
    Date=;
    Time=;
    Version List=NAVW114.03,4PS14.00,NAVDK.NO;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Lines;
               NOR=Linjer;
               SVE=Rader];
    Description=4PS: Raam  -> Afroep;
    MultipleNewLines=Yes;
    LinksAllowed=No;
    SourceTable=Table37;
    DelayedInsert=Yes;
    SourceTableView=WHERE(Document Type=FILTER(Blanket Order));
    PageType=ListPart;
    AutoSplitKey=Yes;
    OnInit=BEGIN
             SalesReceivablesSetup.GET;
             Currency.InitRoundingPrecision;
           END;

    OnOpenPage=VAR
                 GLSetup@111285700 : Record 98;
               BEGIN
                 //**4PS Generated Code. Do Not Change.sn01
                 DPA_IsHardFilter := DPA_SetFilters(CurrPage.OBJECTID(FALSE));
                 //**4PS Generated Code.en01

                 SetDimensionsVisibility;
                 //4PSSE
                 GLSetup.GET;
                 DKinfoEnable := GLSetup."Danish Localization Active";
                 NORlocalizationEnable := GLSetup."Norwegian Localization Active";
               END;

    OnFindRecord=BEGIN
                   DocumentTotals.SalesCheckAndClearTotals(Rec,xRec,TotalSalesLine,VATAmount,InvoiceDiscountAmount,InvoiceDiscountPct);
                   EXIT(FIND(Which));
                 END;

    OnAfterGetRecord=BEGIN
                       ShowShortcutDimCode(ShortcutDimCode);
                       CLEAR(DocumentTotals);
                     END;

    OnNewRecord=BEGIN
                  InitType;
                  //**4PS Generated Code. Do Not Change.sn02
                  DPA_SetDefaultDepartment;
                  //**4PS Generated Code.en02
                  InitType;
                  CLEAR(ShortcutDimCode);
                  //**4PS.sn
                  InitRecord;
                  ShowShortcutDimCode(ShortcutDimCode);
                  //**4PS.en
                END;

    OnModifyRecord=BEGIN
                     DocumentTotals.SalesCheckIfDocumentChanged(Rec,xRec);
                   END;

    OnDeleteRecord=BEGIN
                     DocumentTotals.SalesDocTotalsNotUpToDate;
                   END;

    OnAfterGetCurrRecord=BEGIN
                           GetTotalSalesHeader;
                           CalculateTotals;
                           UpdateEditableOnRow;
                         END;

    ActionList=ACTIONS
    {
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 1907935204;1 ;ActionGroup;
                      CaptionML=[ENU=&Line;
                                 NOR=&Linje;
                                 SVE=Ra&d];
                      Image=Line }
      { 1903866504;2 ;ActionGroup;
                      CaptionML=[ENU=Item Availability by;
                                 NOR=Varetilgjengelighet per;
                                 SVE=Artikeldisp. per];
                      Image=ItemAvailability }
      { 3       ;3   ;Action    ;
                      CaptionML=[ENU=Event;
                                 NOR=Hendelse;
                                 SVE=UtstÑllning];
                      ToolTipML=[ENU=View how the actual and the projected available balance of an item will develop over time according to supply and demand events.;
                                 NOR=Vis hvordan den aktuelle og forventede disponible beholdningen for en vare vil utvikle seg over tid i henhold til tilbud og etterspõrselshendelser.;
                                 SVE=Visa hur aktuell och planerad lagerutveckling îver tiden fîr en artikel utvecklas med tiden enligt tillgÜngs- och efterfrÜgehÑndelser.];
                      ApplicationArea=#Suite;
                      Image=Event;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromSalesLine(Rec,ItemAvailFormsMgt.ByEvent)
                               END;
                                }
      { 1900544904;3 ;Action    ;
                      CaptionML=[ENU=Period;
                                 NOR=Periode;
                                 SVE=Period];
                      ToolTipML=[ENU=View the projected quantity of the item over time according to time periods, such as day, week, or month.;
                                 NOR=Vis beregnet antall av varen over tid i henhold til tidsperioder, for eksempel dag, uke eller mÜned.;
                                 SVE=Visa planerat antal fîr artikeln îver tiden enligt tidsperioder, sÜsom dag, vecka eller mÜnad.];
                      ApplicationArea=#Suite;
                      Image=Period;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromSalesLine(Rec,ItemAvailFormsMgt.ByPeriod)
                               END;
                                }
      { 1901991304;3 ;Action    ;
                      CaptionML=[ENU=Variant;
                                 NOR=Variant;
                                 SVE=Variant];
                      ToolTipML=[ENU=View or edit the item's variants. Instead of setting up each color of an item as a separate item, you can set up the various colors as variants of the item.;
                                 NOR=Vis eller rediger varens varianter. Du kan definere de ulike fargene som varianter av varen i stedet for Ü definere hver variant som en egen vare.;
                                 SVE=Visa eller redigera artikelns varianter. I stÑllet fîr att registrera varje fÑrg pÜ en artikel som en separat artikel, kan du registrera de olika fÑrgerna som varianter av artikeln.];
                      ApplicationArea=#Planning;
                      Image=ItemVariant;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromSalesLine(Rec,ItemAvailFormsMgt.ByVariant)
                               END;
                                }
      { 1901652204;3 ;Action    ;
                      AccessByPermission=TableData 14=R;
                      CaptionML=[ENU=Location;
                                 NOR=Lokasjon;
                                 SVE=LagerstÑlle];
                      ToolTipML=[ENU=View the actual and projected quantity of the item per location.;
                                 NOR=Vis faktisk og beregnet antall av varen per lokasjon.;
                                 SVE=Visa aktuellt och planerat antal artiklar per lagerstÑlle.];
                      ApplicationArea=#Location;
                      Image=Warehouse;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromSalesLine(Rec,ItemAvailFormsMgt.ByLocation)
                               END;
                                }
      { 25      ;3   ;Action    ;
                      CaptionML=[ENU=BOM Level;
                                 NOR=StykklistenivÜ;
                                 SVE=StrukturnivÜ];
                      ToolTipML=[ENU=View availability figures for items on bills of materials that show how many units of a parent item you can make based on the availability of child items.;
                                 NOR=Vis tilgjengelighetstall for stykklistevarer som angir hvor mange enheter av en overordnet vare du kan lage basert pÜ tilgjengeligheten av underordnede varer.;
                                 SVE=Visa tillgÑnglighetssiffror fîr artiklar i strukturer som visar hur mÜnga enheter av en îverordnad artikel som gÜr att tillverka baserat pÜ underartiklarnas tillgÑnglighet.];
                      ApplicationArea=#Suite;
                      Image=BOMLevel;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromSalesLine(Rec,ItemAvailFormsMgt.ByBOM)
                               END;
                                }
      { 1902740304;2 ;ActionGroup;
                      CaptionML=[ENU=Unposted Lines;
                                 NOR=Ikke-bokfõrte linjer;
                                 SVE=Ej bokfîrda rader];
                      Image=Order }
      { 1907075804;3 ;Action    ;
                      CaptionML=[ENU=Orders;
                                 NOR=Bestillinger;
                                 SVE=Order];
                      ToolTipML=[ENU=View related sales orders.;
                                 NOR=Vis tilknyttede ordrer.;
                                 SVE=Visa relaterade fîrsÑljningsorder.];
                      ApplicationArea=#Suite;
                      Image=Document;
                      OnAction=BEGIN
                                 ShowOrders;
                               END;
                                }
      { 1900639404;3 ;Action    ;
                      CaptionML=[ENU=Invoices;
                                 NOR=Fakturaer;
                                 SVE=Fakturor];
                      ToolTipML=[ENU=View a list of ongoing sales invoices for the order.;
                                 NOR=Vis en liste over pÜgÜende salgsfakturaer for ordren.;
                                 SVE=Visa en lista med pÜgÜende fîrsÑljningsfakturor fîr ordern.];
                      ApplicationArea=#Suite;
                      Image=Invoice;
                      OnAction=BEGIN
                                 ShowInvoices;
                               END;
                                }
      { 1906421304;3 ;Action    ;
                      AccessByPermission=TableData 6660=R;
                      CaptionML=[ENU=Return Orders;
                                 NOR=Bestillingsreturer;
                                 SVE=Returorder];
                      ToolTipML=[ENU=Open the list of ongoing return orders.;
                                 NOR=èpne listen over pÜgÜende ordrereturer.;
                                 SVE=ôppna listan med pÜgÜende returorder.];
                      ApplicationArea=#SalesReturnOrder;
                      Image=ReturnOrder;
                      OnAction=BEGIN
                                 ShowReturnOrders;
                               END;
                                }
      { 1900609704;3 ;Action    ;
                      CaptionML=[ENU=Credit Memos;
                                 NOR=Kreditnotaer;
                                 SVE=Kreditnotor];
                      ToolTipML=[ENU=View a list of ongoing credit memos for the order.;
                                 NOR=Vis en liste over pÜgÜende kreditnotaer for ordren.;
                                 SVE=Visa en lista med pÜgÜende kreditnotor fîr ordern.];
                      ApplicationArea=#Suite;
                      Image=CreditMemo;
                      OnAction=BEGIN
                                 ShowCreditMemos;
                               END;
                                }
      { 1904974904;2 ;ActionGroup;
                      CaptionML=[ENU=Posted Lines;
                                 NOR=Bokfõrte linjer;
                                 SVE=Bokfîrda rader];
                      Image=Post }
      { 1904945204;3 ;Action    ;
                      CaptionML=[ENU=Shipments;
                                 NOR=Fõlgesedler;
                                 SVE=Utleveranser];
                      ToolTipML=[ENU=View a list of ongoing sales shipments for the order.;
                                 NOR=Vis en liste over pÜgÜende fõlgesedler for ordren.;
                                 SVE=Visa en lista med pÜgÜende fîrsÑljningsutleveranser fîr ordern.];
                      ApplicationArea=#Suite;
                      Image=Shipment;
                      OnAction=BEGIN
                                 ShowPostedOrders;
                               END;
                                }
      { 1901092104;3 ;Action    ;
                      CaptionML=[ENU=Invoices;
                                 NOR=Fakturaer;
                                 SVE=Fakturor];
                      ToolTipML=[ENU=View a list of ongoing sales invoices for the order.;
                                 NOR=Vis en liste over pÜgÜende salgsfakturaer for ordren.;
                                 SVE=Visa en lista med pÜgÜende fîrsÑljningsfakturor fîr ordern.];
                      ApplicationArea=#Suite;
                      Image=Invoice;
                      OnAction=BEGIN
                                 ShowPostedInvoices;
                               END;
                                }
      { 1903984904;3 ;Action    ;
                      AccessByPermission=TableData 6660=R;
                      CaptionML=[ENU=Return Receipts;
                                 NOR=Retursedler;
                                 SVE=Returinleveranser];
                      ToolTipML=[ENU=View a list of posted return receipts for the order.;
                                 NOR=Vis en liste med bokfõrte retursedler for ordren.;
                                 SVE=Visa en lista med bokfîrda returinleveranser fîr ordern.];
                      ApplicationArea=#Suite;
                      Image=ReturnReceipt;
                      OnAction=BEGIN
                                 ShowPostedReturnReceipts;
                               END;
                                }
      { 1901033504;3 ;Action    ;
                      CaptionML=[ENU=Credit Memos;
                                 NOR=Kreditnotaer;
                                 SVE=Kreditnotor];
                      ToolTipML=[ENU=View a list of ongoing credit memos for the order.;
                                 NOR=Vis en liste over pÜgÜende kreditnotaer for ordren.;
                                 SVE=Visa en lista med pÜgÜende kreditnotor fîr ordern.];
                      ApplicationArea=#Suite;
                      Image=CreditMemo;
                      OnAction=BEGIN
                                 ShowPostedCreditMemos;
                               END;
                                }
      { 1900186704;2 ;Action    ;
                      AccessByPermission=TableData 348=R;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=[ENU=Dimensions;
                                 NOR=Dimensjoner;
                                 SVE=Dimensioner];
                      ToolTipML=[ENU=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
                                 NOR=Vis eller rediger dimensjoner, for eksempel omrÜde, prosjekt eller avdeling, som du kan tilordne til salgs- og kjõpsdokumenter for Ü distribuere kostnader og analysere transaksjonshistorikk.;
                                 SVE=Visa eller redigera dimensioner, till exempel omrÜde, projekt eller avdelning, som du kan tilldela fîrsÑljnings- och inkîpsdokument fîr att fîrdela kostnader och analysera transaktionshistorik.];
                      ApplicationArea=#Dimensions;
                      Image=Dimensions;
                      OnAction=BEGIN
                                 ShowDimensions;
                               END;
                                }
      { 37      ;2   ;Action    ;
                      Name=DocAttach;
                      CaptionML=[ENU=Attachments;
                                 NOR=Vedlegg;
                                 SVE=Bilagor];
                      ToolTipML=[ENU=Add a file as an attachment. You can attach images as well as documents.;
                                 NOR=Legg til en fil som vedlegg. Du kan legge ved bilderˇog dokumenter.;
                                 SVE=LÑgg till en fil som en bilaga. Du kan bifoga bilder och dokument.];
                      ApplicationArea=#All;
                      Image=Attach;
                      OnAction=VAR
                                 DocumentAttachmentDetails@1000 : Page 1173;
                                 RecRef@1001 : RecordRef;
                               BEGIN
                                 RecRef.GETTABLE(Rec);
                                 DocumentAttachmentDetails.OpenForRecRef(RecRef);
                                 DocumentAttachmentDetails.RUNMODAL;
                               END;
                                }
      { 1900978604;2 ;Action    ;
                      CaptionML=[ENU=Co&mments;
                                 NOR=&Merknader;
                                 SVE=Ko&mmentarer];
                      ToolTipML=[ENU=View or add comments for the record.;
                                 NOR=Vis eller legg til kommentarer for posten.;
                                 SVE=Visa eller lÑgg till kommentarer till posten.];
                      ApplicationArea=#Comments;
                      Image=ViewComments;
                      OnAction=BEGIN
                                 ShowLineComments;
                               END;
                                }
      { 15      ;2   ;ActionGroup;
                      CaptionML=[ENU=Assemble to Order;
                                 NOR=Monter til ordre;
                                 SVE=Montering mot kundorder];
                      ActionContainerType=NewDocumentItems;
                      Image=AssemblyBOM }
      { 5       ;3   ;Action    ;
                      AccessByPermission=TableData 90=R;
                      CaptionML=[ENU=Assemble-to-Order Lines;
                                 NOR=Montere til ordre - linjer;
                                 SVE=Montering mot kundorderrader];
                      ToolTipML=[ENU=View any linked assembly order lines if the documents represents an assemble-to-order sale.;
                                 NOR=Vis koblede monteringsordrelinjer hvis dokumentene representerer et monter-til-ordre-salg.;
                                 SVE=Visa alla lÑnkade monteringsorderrader om dokumenten representerar en fîrsÑljning med montering mot kundorder.];
                      ApplicationArea=#Assembly;
                      OnAction=BEGIN
                                 ShowAsmToOrderLines;
                               END;
                                }
      { 13      ;3   ;Action    ;
                      AccessByPermission=TableData 90=R;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Roll Up &Price;
                                 NOR=Oppruller &pris;
                                 SVE=Summera &pris];
                      ToolTipML=[ENU=Update the unit price of the assembly item according to any changes that you have made to the assembly components.;
                                 NOR=Oppdater salgsprisen for monteringsvaren i henhold til eventuelle endringer du har gjort i monteringskomponentene.;
                                 SVE=Uppdatera enhetspriset fîr monteringsartikeln utifrÜn de Ñndringar du har gjort av monteringskomponenterna.];
                      ApplicationArea=#Assembly;
                      OnAction=BEGIN
                                 RollupAsmPrice;
                               END;
                                }
      { 9       ;3   ;Action    ;
                      AccessByPermission=TableData 90=R;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Roll Up &Cost;
                                 NOR=Oppruller &kost;
                                 SVE=Summera &kostnad];
                      ToolTipML=[ENU=Update the unit cost of the assembly item according to any changes that you have made to the assembly components.;
                                 NOR=Oppdater enhetskosten for monteringsvaren i henhold til eventuelle endringer du har gjort i monteringskomponentene.;
                                 SVE=Uppdatera styckkostnaden fîr monteringsartikeln utifrÜn de Ñndringar du har gjort av monteringskomponenterna.];
                      ApplicationArea=#Assembly;
                      OnAction=BEGIN
                                 RollUpAsmCost;
                               END;
                                }
      { 1901994904;2 ;Action    ;
                      Name=DocumentLineTracking;
                      CaptionML=[ENU=Document &Line Tracking;
                                 NOR=Sporing av &dokumentlinje;
                                 SVE=SpÜrn&ing av dokumentrad];
                      ToolTipML=[ENU=View related open, posted, or archived documents or document lines.;
                                 NOR=Vis relaterte Üpne, bokfõrte eller arkiverte dokumenter eller dokumentlinjer.;
                                 SVE=Visa relaterade îppna, bokfîrda eller arkiverade dokument eller dokumentrader.];
                      ApplicationArea=#Basic,#Suite;
                      Image=Navigate;
                      OnAction=BEGIN
                                 ShowDocumentLineTracking;
                               END;
                                }
      { 23      ;1   ;ActionGroup;
                      CaptionML=[ENU=F&unctions;
                                 NOR=F&unksjoner;
                                 SVE=F&unktioner];
                      Image=Action }
      { 21      ;2   ;Action    ;
                      AccessByPermission=TableData 7002=R;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Get &Price;
                                 NOR=Hent &pris;
                                 SVE=HÑmta &pris];
                      ToolTipML=[ENU=Insert the lowest possible price in the Unit Price field according to any special price that you have set up.;
                                 NOR=Sett inn den lavest mulige prisen i feltet Salgspris i henhold til spesialpriser du har definert.;
                                 SVE=Infoga det lÑgsta tÑnkbara priset i fÑltet Enhetspris enligt det specialpris som du har skapat.];
                      ApplicationArea=#Suite;
                      Image=Price;
                      OnAction=BEGIN
                                 ShowPrices
                               END;
                                }
      { 19      ;2   ;Action    ;
                      AccessByPermission=TableData 7004=R;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Get Li&ne Discount;
                                 NOR=Hent li&njerabatt;
                                 SVE=&H&Ñmta radrabatt];
                      ToolTipML=[ENU=Insert the best possible discount in the Line Discount field according to any special discounts that you have set up.;
                                 NOR=Sett inn den best mulige rabatten i feltet Linjerabatt i henhold til spesialrabatter du har definert.;
                                 SVE=Infoga bÑsta mîjliga rabatt i fÑltet Radrabatt enligt de specialrabatter som du har skapat.];
                      ApplicationArea=#Suite;
                      Image=LineDiscount;
                      OnAction=BEGIN
                                 ShowLineDisc
                               END;
                                }
      { 17      ;2   ;Action    ;
                      AccessByPermission=TableData 90=R;
                      CaptionML=[ENU=E&xplode BOM;
                                 NOR=U&tfold stykkliste;
                                 SVE=E&xpandera struktur];
                      ToolTipML=[ENU=Insert new lines for the components on the bill of materials, for example to sell the parent item as a kit. CAUTION: The line for the parent item will be deleted and represented by a description only. To undo, you must delete the component lines and add a line the parent item again.;
                                 NOR=Sett inn nye linjer for komponentene pÜ stykklisten, for eksempel for Ü selge den overordnede varen som en pakke. OBS! Linjen for den overordnede varen blir slettet og representert av bare en beskrivelse. Hvis du vil angre, mÜ du slette komponentlinjene og legge til en linje for den overordnede varen pÜ nytt.;
                                 SVE=Infoga nya rader fîr strukturens komponenter, till exempel att sÑlja den îverordnade artikeln som ett paket. VARNING! Den îverordnade artikelns rad raderas representeras av en beskrivning. èngra genom att radera komponentraderna och pÜ nytt lÑgga till en rad fîr den îverordnade artikeln.];
                      ApplicationArea=#Suite;
                      Image=ExplodeBOM;
                      OnAction=BEGIN
                                 ExplodeBOM;
                               END;
                                }
      { 11      ;2   ;Action    ;
                      AccessByPermission=TableData 279=R;
                      CaptionML=[ENU=Insert &Ext. Texts;
                                 NOR=Sett inn &utv. tekster;
                                 SVE=Infoga e&xtratexter];
                      ToolTipML=[ENU=Insert the extended item description that is set up for the item that is being processed on the line.;
                                 NOR=Sett inn den utvidede varebeskrivelsen som er definert for varen som blir behandlet pÜ linjen.;
                                 SVE=Infoga den utîkade artikelbeskrivningen som du anger fîr den artikel som behandlas pÜ raden.];
                      ApplicationArea=#Suite;
                      Image=Text;
                      OnAction=BEGIN
                                 InsertExtendedText(TRUE);
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                GroupType=Repeater }

    { 2   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the line type.;
                           NOR=Angir linjetypen.;
                           SVE=Anger radtypen.];
                ApplicationArea=#Suite;
                SourceExpr=Type;
                OnValidate=BEGIN
                             NoOnAfterValidate;
                             DeltaUpdateTotals;
                           END;
                            }

    { 4   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the involved entry or record, according to the specified number series.;
                           NOR=Angir nummeret pÜ den aktuelle oppfõringen eller posten, i henhold til den angitte nummerserien.;
                           SVE=Anger numret fîr den berîrda transaktionen eller posten, enligt den angivna nummerserien.];
                ApplicationArea=#Suite;
                SourceExpr="No.";
                OnValidate=BEGIN
                             ShowShortcutDimCode(ShortcutDimCode);
                             NoOnAfterValidate;
                             DeltaUpdateTotals;
                           END;
                            }

    { 26  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the cross-referenced item number. If you enter a cross reference between yours and your vendor's or customer's item number, then this number will override the standard item number when you enter the cross-reference number on a sales or purchase document.;
                           NOR=Angir varens kryssreferansenummer. Hvis du oppgir en kryssreferanse mellom ditt og leverandõrens eller kundens varenummer, vil dette nummeret overstyre standardvarenummeret nÜr du oppgir kryssreferansenummeret i et salgs- eller kjõpsdokument.;
                           SVE=Anger artikelnumret som korsrefereras. Om du anger en korsreferens mellan ditt och leverantîrens eller kundens artikelnummer, ÜsidosÑtter detta nummer standardartikelnumret nÑr du anger korsreferensnumret pÜ ett fîrsÑljnings- eller inkîpsdokument.];
                ApplicationArea=#Suite;
                SourceExpr="Cross-Reference No.";
                Visible=FALSE;
                OnValidate=BEGIN
                             CrossReferenceNoOnAfterValidat;
                             DeltaUpdateTotals;
                           END;

                OnLookup=BEGIN
                           CrossReferenceNoLookUp;
                           InsertExtendedText(FALSE);
                           OnCrossReferenceNoOnLookup(Rec);
                         END;
                          }

    { 22  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the variant of the item on the line.;
                           NOR=Angir varianten for varen pÜ linjen.;
                           SVE=Anger varianten av artikeln pÜ raden.];
                ApplicationArea=#Planning;
                SourceExpr="Variant Code";
                Visible=FALSE;
                OnValidate=BEGIN
                             VariantCodeOnAfterValidate;
                             DeltaUpdateTotals;
                           END;
                            }

    { 14  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the VAT specification of the involved item or resource to link transactions made for this record with the appropriate general ledger account according to the VAT posting setup.;
                           NOR=Angir mva-spesifikasjonen for den involverte varen eller ressursen for Ü koble transaksjoner som ble utfõrt for denne posten, med riktig finanskonto i henhold til det generelle mva-bokfõringsoppsettet.;
                           SVE=Anger momsspecifikationen fîr den berîrda artikeln eller resursen i syfte att koppla transaktioner som skapas fîr posten till det lÑmpliga redovisningskontot enligt momsbokfîringsinstÑllningen.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="VAT Prod. Posting Group";
                Visible=FALSE;
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                           END;
                            }

    { 6   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a description of the blanket sales order.;
                           NOR=Angir en beskrivelse av rammeordren.;
                           SVE=Anger en beskrivning av avropsordern fîr fîrsÑljning.];
                ApplicationArea=#Suite;
                SourceExpr=Description;
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                           END;
                            }

    { 1210190000;2;Field  ;
                CaptionML=[ENU=Comments;
                           SVE=Kommentarer];
                SourceExpr=LineCommentPresent();
                Visible=FALSE }

    { 36  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the location from where inventory items to the customer on the sales document are to be shipped by default.;
                           NOR=Angir plasseringen der lagervarer til kunden pÜ salgsdokumentet leveres fra som standard.;
                           SVE=Anger lagerstÑllet frÜn vilket lagerartiklar till kunden i fîrsÑljningsdokumentet levereras som standard.];
                ApplicationArea=#Suite;
                SourceExpr="Location Code";
                OnValidate=BEGIN
                             LocationCodeOnAfterValidate;
                             DeltaUpdateTotals;
                           END;
                            }

    { 8   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the quantity of the sales order line.;
                           NOR=Angir antallet av varen pÜ salgsordrelinjen.;
                           SVE=Anger antalet pÜ fîrsÑljningsorderraden.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr=Quantity;
                OnValidate=BEGIN
                             QuantityOnAfterValidate;
                             DeltaUpdateTotals;
                           END;
                            }

    { 7   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how many units of the blanket sales line quantity that you want to supply by assembly.;
                           NOR=Angir hvor mange enheter av rammesalgslinjeantallet som du vil forsyne gjennom montering.;
                           SVE=Anger hur mÜnga enheter av kvantiteten pÜ avropsorderns fîrsÑljningsrad som du vill leverera per montering.];
                ApplicationArea=#Assembly;
                SourceExpr="Qty. to Assemble to Order";
                Visible=FALSE;
                OnValidate=BEGIN
                             CurrPage.SAVERECORD;
                             CurrPage.UPDATE(TRUE);
                           END;

                OnDrillDown=BEGIN
                              ShowAsmToOrderLines;
                            END;
                             }

    { 42  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the work type code of the service line linked to this entry.;
                           NOR=Angir arbeidstypekoden for servicelinjen som er knyttet til denne posten.;
                           SVE=Anger arbetstypkoden fîr serviceraden som Ñr kopplad till den hÑr transaktionen.];
                ApplicationArea=#Manufacturing;
                SourceExpr="Work Type Code";
                Visible=FALSE }

    { 10  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how each unit of the item or resource is measured, such as in pieces or hours. By default, the value in the Base Unit of Measure field on the item or resource card is inserted.;
                           NOR=Angir hvordan hver enhet av varen eller ressursen mÜles, for eksempel i stykker eller timer. Verdien i feltet Lagerenhet pÜ vare- eller ressurskortet settes inn som standard.;
                           SVE=Anger hur varje enhet av artikeln eller resursen mÑts, till exempel i stycken eller timmar. Som standard infogas vÑrdet i fÑltet Basenhet pÜ artikel- eller resurskortet.];
                ApplicationArea=#Suite;
                SourceExpr="Unit of Measure Code";
                OnValidate=BEGIN
                             UnitofMeasureCodeOnAfterValida;
                             DeltaUpdateTotals;
                           END;
                            }

    { 46  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the name of the item or resource's unit of measure, such as piece or hour.;
                           NOR=Angir navnet pÜ varens eller ressursens enhet, for eksempel stykk eller time.;
                           SVE=Anger namnet pÜ artikelns eller resursens mÜttenhet, t.ex. styck eller timme.];
                ApplicationArea=#Suite;
                SourceExpr="Unit of Measure";
                Visible=FALSE }

    { 38  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the cost, in LCY, of one unit of the item or resource on the line.;
                           NOR=Angir kostnaden i NOK for Çn enhet for varen eller ressursen pÜ linjen.;
                           SVE=Anger kostnaden, i BVA, fîr en enhet av artikeln eller resursen pÜ raden.];
                ApplicationArea=#Suite;
                SourceExpr="Unit Cost (LCY)";
                Visible=FALSE }

    { 30  ;2   ;Field     ;
                CaptionML=[ENU=Sale Price Exists;
                           NOR=Salgspris finnes;
                           SVE=Fîrs.pris finns];
                ToolTipML=[ENU=Specifies that there is a specific price for this customer. The sales prices can be seen in the Sales Prices window.;
                           NOR=Angir at det finnes en bestemt pris for denne kunden. Du kan se salgsprisene i vinduet Salgspriser.;
                           SVE=Anger att kunden ett sÑrskilt pris. FîrsÑljningspriser visas i fînstret Fîrs.priser.];
                ApplicationArea=#Suite;
                SourceExpr=PriceExists;
                Visible=FALSE;
                Editable=FALSE }

    { 12  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the price of one unit of the item or resource. You can enter a price manually or have it entered according to the Price/Profit Calculation field on the related card.;
                           NOR=Angir prisen for Çn enhet av varen eller ressursen. Du kan angi en pris manuelt, eller du kan fÜ den angitt i henhold til feltet Beregning av fortjeneste-% pÜ det relaterte kortet.;
                           SVE=Anger priset fîr en enhet av artikeln eller resursen. Du kan ange ett pris manuellt eller hÑmta det frÜn fÑltet Pris/vinstberÑkning pÜ det relaterade kortet.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Unit Price";
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                           END;
                            }

    { 16  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the discount percentage that is granted for the item on the line.;
                           NOR=Angir rabattprosenten som blir gitt for varen pÜ linjen.;
                           SVE=Anger rabattprocentsatsen som beviljas fîr artikeln pÜ raden.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Line Discount %";
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                           END;
                            }

    { 28  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the net amount, excluding any invoice discount amount, that must be paid for products on the line.;
                           NOR=Angir nettobelõpet, minus fakturarabattbelõp, som skal betales for produktene pÜ linjen.;
                           SVE=Anger nettobeloppet, exklusive eventuell fakturarabatt, som ska betalas fîr produkterna pÜ raden.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Line Amount";
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                           END;
                            }

    { 40  ;2   ;Field     ;
                CaptionML=[ENU=Sales Line Disc. Exists;
                           NOR=Salgslinjerab. finnes;
                           SVE=Fîrs.radrabatt finns];
                ToolTipML=[ENU=Specifies that there is a specific discount for this customer. The sales line discounts can be seen in the Sales Line Discounts window.;
                           NOR=Angir at det finnes en bestemt rabatt for denne kunden. Du kan se salgslinjerabattene i vinduet Salgslinjerabatter.;
                           SVE=Anger att kunden en sÑrskilt rabatt. FîrsÑljningsradrabatter visas i fînstret FîrsÑljningsradrabatter.];
                ApplicationArea=#Suite;
                SourceExpr=LineDiscExists;
                Visible=FALSE;
                Editable=FALSE }

    { 52  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the discount amount that is granted for the item on the line.;
                           NOR=Angir rabattbelõpet som blir gitt for varen pÜ linjen.;
                           SVE=Anger rabattbelopp som beviljas fîr artikeln pÜ raden.];
                ApplicationArea=#Suite;
                SourceExpr="Line Discount Amount";
                Visible=FALSE;
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                           END;
                            }

    { 54  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies if the invoice line is included when the invoice discount is calculated.;
                           NOR=Angir om fakturalinjen er inkludert nÜr fakturarabatten beregnes.;
                           SVE=Anger om fakturaraden ingÜr nÑr fakturarabatten berÑknas.];
                ApplicationArea=#Suite;
                SourceExpr="Allow Invoice Disc.";
                Visible=FALSE;
                OnValidate=BEGIN
                             DeltaUpdateTotals;
                           END;
                            }

    { 18  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the quantity of items that remain to be shipped.;
                           NOR=Angir hvor mange varer som fortsatt ikke er levert.;
                           SVE=Anger hur mÜnga artiklar som ÜterstÜr att leverera.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Qty. to Ship" }

    { 20  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how many units of the item on the line have been posted as shipped.;
                           NOR=Angir hvor mange enheter av varen pÜ linjen som allerede er bokfõrt som levert.;
                           SVE=Anger hur mÜnga enheter av artikeln pÜ raden som redan har bokfîrts som levererade.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Quantity Shipped" }

    { 24  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how many units of the item on the line have been posted as invoiced.;
                           NOR=Angir hvor mange enheter av varen pÜ linjen som allerede er bokfõrt som fakturert.;
                           SVE=Anger hur mÜnga enheter av artikeln pÜ raden som redan har bokfîrts som fakturerade.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Quantity Invoiced" }

    { 90  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies when items on the document are shipped or were shipped. A shipment date is usually calculated from a requested delivery date plus lead time.;
                           NOR=Angir om varer i dokumentet skal leveres eller er levert. En leveringsdato beregnes vanligvis fra en õnsket leveringsdato pluss leveringstid.;
                           SVE=Anger nÑr artiklarna i dokumentet ska levereras eller har levererats. Ett utleveransdatum berÑknas vanligtvis frÜn ett begÑrt leveransdatum plus ledtiden.];
                ApplicationArea=#Suite;
                SourceExpr="Shipment Date" }

    { 32  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for Shortcut Dimension 1, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                           NOR=Angir koden til Snarveisdimensjon 1, som er Çn av to globale dimensjonskoder som du har definert i vinduet Finansoppsett.;
                           SVE=Anger koden fîr GenvÑg dimension 1, som Ñr en av tvÜ globala dimensionskoder som du stÑller in i fînstret RedovisningsinstÑllningar.];
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 1 Code";
                Visible=DimVisible1;
                OnValidate=BEGIN
                             //**4PS Generated Code. Do Not Change.sn03
                             DPA_ChkDepartmentCodeAllowed(DPA_IsHardFilter);
                             //**4PS Generated Code.en03
                           END;
                            }

    { 34  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for Shortcut Dimension 2, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                           NOR=Angir koden til Snarveisdimensjon 2, som er Çn av to globale dimensjonskoder som du har definert i vinduet Finansoppsett.;
                           SVE=Anger koden fîr GenvÑg dimension 2, som Ñr en av tvÜ globala dimensionskoder som du stÑller in i fînstret RedovisningsinstÑllningar.];
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 2 Code";
                Visible=DimVisible2 }

    { 300 ;2   ;Field     ;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[3];
                CaptionClass='1,2,3';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(3),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=DimVisible3;
                OnValidate=BEGIN
                             ValidateShortcutDimension(3);
                           END;
                            }

    { 302 ;2   ;Field     ;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[4];
                CaptionClass='1,2,4';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(4),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=DimVisible4;
                OnValidate=BEGIN
                             ValidateShortcutDimension(4);
                           END;
                            }

    { 304 ;2   ;Field     ;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[5];
                CaptionClass='1,2,5';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(5),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=DimVisible5;
                OnValidate=BEGIN
                             ValidateShortcutDimension(5);
                           END;
                            }

    { 306 ;2   ;Field     ;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[6];
                CaptionClass='1,2,6';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(6),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=DimVisible6;
                OnValidate=BEGIN
                             ValidateShortcutDimension(6);
                           END;
                            }

    { 308 ;2   ;Field     ;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[7];
                CaptionClass='1,2,7';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(7),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=DimVisible7;
                OnValidate=BEGIN
                             ValidateShortcutDimension(7);
                           END;
                            }

    { 310 ;2   ;Field     ;
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[8];
                CaptionClass='1,2,8';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(8),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=DimVisible8;
                OnValidate=BEGIN
                             ValidateShortcutDimension(8);
                           END;
                            }

    { 1100485000;2;Field  ;
                SourceExpr="Cost Component";
                Visible=FALSE }

    { 1101100000;2;Field  ;
                ToolTipML=[ENU="Specifies the account code of the customer. ";
                           SVE="Anger kontokoden fîr kunden. "];
                SourceExpr="Account Code DK";
                Visible=DKinfoEnable }

    { 53  ;1   ;Group     ;
                Visible=FALSE;
                GroupType=Group }

    { 49  ;2   ;Group     ;
                GroupType=Group }

    { 27  ;3   ;Field     ;
                Name=SubtotalExclVAT;
                CaptionML=[ENU=Subtotal Excl. VAT;
                           NOR=Delsum uten mva;
                           SVE=Delsumma exkl. moms];
                ToolTipML=[ENU=Specifies the sum of the value in the Line Amount Excl. VAT field on all lines in the document.;
                           NOR=Angir summen av verdien i feltet for linjebelõp uten mva pÜ alle linjer i dokumentet.;
                           SVE=Anger summan av vÑrdena i fÑltet Radbelopp exkl. moms fîr alla rader i dokumentet.];
                ApplicationArea=#Suite;
                SourceExpr=TotalSalesLine."Line Amount";
                AutoFormatType=1;
                AutoFormatExpr="Currency Code";
                CaptionClass=DocumentTotals.GetTotalLineAmountWithVATAndCurrencyCaption(Currency.Code,TotalSalesHeader."Prices Including VAT");
                Editable=FALSE }

    { 48  ;3   ;Field     ;
                Name=Invoice Discount Amount;
                CaptionML=[ENU=Invoice Discount Amount;
                           NOR=Fakturarabattbelõp;
                           SVE=Fakturarabatt];
                ToolTipML=[ENU=Specifies a discount amount that is deducted from the value in the Total Incl. VAT field.;
                           NOR=Angir et rabattbelõp som trekkes fra verdien i feltet Totalt inkl. mva.;
                           SVE=Anger ett rabattbelopp som dras av frÜn vÑrdet i fÑltet Totalt inkl. moms.];
                ApplicationArea=#Suite;
                SourceExpr=InvoiceDiscountAmount;
                AutoFormatType=1;
                AutoFormatExpr="Currency Code";
                CaptionClass=DocumentTotals.GetInvoiceDiscAmountWithVATAndCurrencyCaption(FIELDCAPTION("Inv. Discount Amount"),Currency.Code);
                Editable=InvDiscAmountEditable;
                OnValidate=BEGIN
                             DocumentTotals.SalesDocTotalsNotUpToDate;
                             ValidateInvoiceDiscountAmount;
                           END;
                            }

    { 47  ;3   ;Field     ;
                Name=Invoice Disc. Pct.;
                CaptionML=[ENU=Invoice Discount %;
                           NOR=Fakturarabatt %;
                           SVE=Fakturarabatt %];
                ToolTipML=[ENU=Specifies a discount percentage that is granted if criteria that you have set up for the customer are met.;
                           NOR=Angir en rabattprosent som gis hvis kriteriene du har definert for kunden, oppfylles.;
                           SVE=Anger en rabattsats som gÑller om kriterierna som du har upprÑttat fîr kunden Ñr uppfyllda.];
                ApplicationArea=#Suite;
                DecimalPlaces=0:2;
                SourceExpr=InvoiceDiscountPct;
                Editable=InvDiscAmountEditable;
                OnValidate=BEGIN
                             DocumentTotals.SalesDocTotalsNotUpToDate;
                             AmountWithDiscountAllowed := DocumentTotals.CalcTotalSalesAmountOnlyDiscountAllowed(Rec);
                             InvoiceDiscountAmount := ROUND(AmountWithDiscountAllowed * InvoiceDiscountPct / 100,Currency."Amount Rounding Precision");
                             ValidateInvoiceDiscountAmount;
                           END;
                            }

    { 35  ;2   ;Group     ;
                GroupType=Group }

    { 33  ;3   ;Field     ;
                Name=Total Amount Excl. VAT;
                DrillDown=No;
                CaptionML=[ENU=Total Amount Excl. VAT;
                           NOR=Totalbelõp ekskl. mva;
                           SVE=Totalt belopp exkl. moms];
                ToolTipML=[ENU=Specifies the sum of the value in the Line Amount Excl. VAT field on all lines in the document minus any discount amount in the Invoice Discount Amount field.;
                           NOR=Angir summen av verdien i feltet Linjebelõp ekskl. MVA pÜ alle linjer i dokumentet, minus eventuelle rabattbelõp i feltet Fakturarabattbelõp.;
                           SVE=Anger summan av vÑrdet i fÑltet Radbelopp exkl. moms fîr alla rader i dokumentet med avdrag fîr rabattbelopp i fÑltet Fakturarabatt.];
                ApplicationArea=#Suite;
                SourceExpr=TotalSalesLine.Amount;
                AutoFormatType=1;
                AutoFormatExpr="Currency Code";
                CaptionClass=DocumentTotals.GetTotalExclVATCaption(Currency.Code);
                Editable=FALSE }

    { 31  ;3   ;Field     ;
                Name=Total VAT Amount;
                CaptionML=[ENU=Total VAT;
                           NOR=Total mva;
                           SVE=Total moms];
                ToolTipML=[ENU=Specifies the sum of VAT amounts on all lines in the document.;
                           NOR=Angir summen av mva-belõpene pÜ alle linjene i dokumentet.;
                           SVE=Anger summan av momsbeloppen fîr alla rader i dokumentet.];
                ApplicationArea=#Suite;
                SourceExpr=VATAmount;
                AutoFormatType=1;
                AutoFormatExpr="Currency Code";
                CaptionClass=DocumentTotals.GetTotalVATCaption(Currency.Code);
                Editable=FALSE }

    { 29  ;3   ;Field     ;
                Name=Total Amount Incl. VAT;
                CaptionML=[ENU=Total Amount Incl. VAT;
                           NOR=Totalbelõp inkl. mva;
                           SVE=Totalt belopp inkl. moms];
                ToolTipML=[ENU=Specifies the sum of the value in the Line Amount Incl. VAT field on all lines in the document minus any discount amount in the Invoice Discount Amount field.;
                           NOR=Angir summen av verdien i feltet Linjebelõp inkl. MVA pÜ alle linjer i dokumentet, minus eventuelle rabattbelõp i feltet Fakturarabattbelõp.;
                           SVE=Anger summan av vÑrdet i fÑltet Radbelopp inkl. moms fîr alla rader i dokumentet med avdrag fîr rabattbelopp i fÑltet Fakturarabatt.];
                ApplicationArea=#Suite;
                SourceExpr=TotalSalesLine."Amount Including VAT";
                AutoFormatType=1;
                AutoFormatExpr="Currency Code";
                CaptionClass=DocumentTotals.GetTotalInclVATCaption(Currency.Code);
                Editable=FALSE }

    { 1100285500;2;Field  ;
                SourceExpr="Account Code NO";
                Visible=NORlocalizationEnable }

  }
  CODE
  {
    VAR
      CurrentSalesLine@1005 : Record 37;
      SalesLine@1001 : Record 37;
      TotalSalesHeader@1014 : Record 36;
      TotalSalesLine@1013 : Record 37;
      SalesHeader@1000 : Record 36;
      Currency@1007 : Record 4;
      SalesReceivablesSetup@1026 : Record 311;
      TransferExtendedText@1002 : Codeunit 378;
      SalesPriceCalcMgt@1004 : Codeunit 7000;
      ItemAvailFormsMgt@1006 : Codeunit 353;
      SalesCalcDiscountByType@1017 : Codeunit 56;
      DocumentTotals@1016 : Codeunit 57;
      VATAmount@1015 : Decimal;
      InvoiceDiscountAmount@1010 : Decimal;
      InvoiceDiscountPct@1009 : Decimal;
      AmountWithDiscountAllowed@1011 : Decimal;
      ShortcutDimCode@1003 : ARRAY [8] OF Code[20];
      InvDiscAmountEditable@1012 : Boolean;
      DimVisible1@1024 : Boolean;
      DimVisible2@1023 : Boolean;
      DimVisible3@1022 : Boolean;
      DimVisible4@1021 : Boolean;
      DimVisible5@1020 : Boolean;
      DimVisible6@1019 : Boolean;
      DimVisible7@1018 : Boolean;
      DimVisible8@1008 : Boolean;
      UpdateInvDiscountQst@1025 : TextConst 'ENU=One or more lines have been invoiced. The discount distributed to invoiced lines will not be taken into account.\\Do you want to update the invoice discount?;NOR=ên eller flere linjer er fakturert. Det tas ikke hensyn til rabatt som er fordelt pÜ fakturerte linjer.\\Vil du oppdatere fakturarabatten?;SVE=En eller flera rader har fakturerats. Rabatten som fîrdelas pÜ de fakturerade raderna beaktas inte.\\Vill du uppdatera fakturarabatten?';
      DPA_IsHardFilter@1100000999 : Boolean;
      DKinfoEnable@11128571 : Boolean INDATASET;
      NORlocalizationEnable@1100285300 : Boolean INDATASET;

    [External]
    PROCEDURE ApproveCalcInvDisc@6();
    BEGIN
      CODEUNIT.RUN(CODEUNIT::"Sales-Disc. (Yes/No)",Rec);
      DocumentTotals.SalesDocTotalsNotUpToDate;
    END;

    LOCAL PROCEDURE ValidateInvoiceDiscountAmount@30();
    VAR
      SalesHeader@1000 : Record 36;
      ConfirmManagement@1001 : Codeunit 27;
    BEGIN
      SalesHeader.GET("Document Type","Document No.");
      IF SalesHeader.InvoicedLineExists THEN
        IF NOT ConfirmManagement.ConfirmProcess(UpdateInvDiscountQst,TRUE) THEN
          EXIT;

      SalesCalcDiscountByType.ApplyInvDiscBasedOnAmt(InvoiceDiscountAmount,SalesHeader);
      DocumentTotals.SalesDocTotalsNotUpToDate;
      CurrPage.UPDATE(FALSE);
    END;

    LOCAL PROCEDURE ExplodeBOM@3();
    BEGIN
      CODEUNIT.RUN(CODEUNIT::"Sales-Explode BOM",Rec);
      DocumentTotals.SalesDocTotalsNotUpToDate;
    END;

    [External]
    PROCEDURE InsertExtendedText@5(Unconditionally@1000 : Boolean);
    BEGIN
      OnBeforeInsertExtendedText(Rec);
      IF TransferExtendedText.SalesCheckIfAnyExtText(Rec,Unconditionally) THEN BEGIN
        CurrPage.SAVERECORD;
        COMMIT;
        TransferExtendedText.InsertSalesExtText(Rec);
      END;
      IF TransferExtendedText.MakeUpdate THEN
        UpdateForm(TRUE);
    END;

    [External]
    PROCEDURE UpdateForm@12(SetSaveRecord@1000 : Boolean);
    BEGIN
      CurrPage.UPDATE(SetSaveRecord);
    END;

    LOCAL PROCEDURE GetTotalSalesHeader@21();
    BEGIN
      DocumentTotals.GetTotalSalesHeaderAndCurrency(Rec,TotalSalesHeader,Currency);
    END;

    LOCAL PROCEDURE CalculateTotals@28();
    BEGIN
      DocumentTotals.SalesCheckIfDocumentChanged(Rec,xRec);
      DocumentTotals.CalculateSalesSubPageTotals(TotalSalesHeader,TotalSalesLine,VATAmount,InvoiceDiscountAmount,InvoiceDiscountPct);
      DocumentTotals.RefreshSalesLine(Rec);
    END;

    LOCAL PROCEDURE DeltaUpdateTotals@1();
    BEGIN
      DocumentTotals.SalesDeltaUpdateTotals(Rec,xRec,TotalSalesLine,VATAmount,InvoiceDiscountAmount,InvoiceDiscountPct);
      CurrPage.SAVERECORD;
      SendLineInvoiceDiscountResetNotification;
    END;

    LOCAL PROCEDURE UpdateEditableOnRow@8();
    BEGIN
      InvDiscAmountEditable := CurrPage.EDITABLE AND NOT SalesReceivablesSetup."Calc. Inv. Discount";
    END;

    LOCAL PROCEDURE ShowPrices@15();
    BEGIN
      SalesHeader.GET("Document Type","Document No.");
      CLEAR(SalesPriceCalcMgt);
      SalesPriceCalcMgt.GetSalesLinePrice(SalesHeader,Rec);
    END;

    LOCAL PROCEDURE ShowLineDisc@16();
    BEGIN
      SalesHeader.GET("Document Type","Document No.");
      CLEAR(SalesPriceCalcMgt);
      SalesPriceCalcMgt.GetSalesLineLineDisc(SalesHeader,Rec);
    END;

    LOCAL PROCEDURE ShowOrders@2();
    BEGIN
      CurrentSalesLine := Rec;
      SalesLine.RESET;
      SalesLine.SETCURRENTKEY("Document Type","Blanket Order No.","Blanket Order Line No.");
      SalesLine.SETRANGE("Document Type",SalesLine."Document Type"::Order);
      SalesLine.SETRANGE("Blanket Order No.",CurrentSalesLine."Document No.");
      SalesLine.SETRANGE("Blanket Order Line No.",CurrentSalesLine."Line No.");
      PAGE.RUNMODAL(PAGE::"Sales Lines",SalesLine);
    END;

    LOCAL PROCEDURE ShowInvoices@4();
    BEGIN
      CurrentSalesLine := Rec;
      SalesLine.RESET;
      SalesLine.SETCURRENTKEY("Document Type","Blanket Order No.","Blanket Order Line No.");
      SalesLine.SETRANGE("Document Type",SalesLine."Document Type"::Invoice);
      SalesLine.SETRANGE("Blanket Order No.",CurrentSalesLine."Document No.");
      SalesLine.SETRANGE("Blanket Order Line No.",CurrentSalesLine."Line No.");
      PAGE.RUNMODAL(PAGE::"Sales Lines",SalesLine);
    END;

    LOCAL PROCEDURE ShowReturnOrders@9();
    BEGIN
      CurrentSalesLine := Rec;
      SalesLine.RESET;
      SalesLine.SETCURRENTKEY("Document Type","Blanket Order No.","Blanket Order Line No.");
      SalesLine.SETRANGE("Document Type",SalesLine."Document Type"::"Return Order");
      SalesLine.SETRANGE("Blanket Order No.",CurrentSalesLine."Document No.");
      SalesLine.SETRANGE("Blanket Order Line No.",CurrentSalesLine."Line No.");
      PAGE.RUNMODAL(PAGE::"Sales Lines",SalesLine);
    END;

    LOCAL PROCEDURE ShowCreditMemos@10();
    BEGIN
      CurrentSalesLine := Rec;
      SalesLine.RESET;
      SalesLine.SETCURRENTKEY("Document Type","Blanket Order No.","Blanket Order Line No.");
      SalesLine.SETRANGE("Document Type",SalesLine."Document Type"::"Credit Memo");
      SalesLine.SETRANGE("Blanket Order No.",CurrentSalesLine."Document No.");
      SalesLine.SETRANGE("Blanket Order Line No.",CurrentSalesLine."Line No.");
      PAGE.RUNMODAL(PAGE::"Sales Lines",SalesLine);
    END;

    LOCAL PROCEDURE ShowPostedOrders@17();
    VAR
      SaleShptLine@1000 : Record 111;
    BEGIN
      CurrentSalesLine := Rec;
      SaleShptLine.RESET;
      SaleShptLine.SETCURRENTKEY("Blanket Order No.","Blanket Order Line No.");
      SaleShptLine.SETRANGE("Blanket Order No.",CurrentSalesLine."Document No.");
      SaleShptLine.SETRANGE("Blanket Order Line No.",CurrentSalesLine."Line No.");
      PAGE.RUNMODAL(PAGE::"Posted Sales Shipment Lines",SaleShptLine);
    END;

    LOCAL PROCEDURE ShowPostedInvoices@14();
    VAR
      SalesInvLine@1000 : Record 113;
    BEGIN
      CurrentSalesLine := Rec;
      SalesInvLine.RESET;
      SalesInvLine.SETCURRENTKEY("Blanket Order No.","Blanket Order Line No.");
      SalesInvLine.SETRANGE("Blanket Order No.",CurrentSalesLine."Document No.");
      SalesInvLine.SETRANGE("Blanket Order Line No.",CurrentSalesLine."Line No.");
      PAGE.RUNMODAL(PAGE::"Posted Sales Invoice Lines",SalesInvLine);
    END;

    LOCAL PROCEDURE ShowPostedReturnReceipts@13();
    VAR
      ReturnRcptLine@1000 : Record 6661;
    BEGIN
      CurrentSalesLine := Rec;
      ReturnRcptLine.RESET;
      ReturnRcptLine.SETCURRENTKEY("Blanket Order No.","Blanket Order Line No.");
      ReturnRcptLine.SETRANGE("Blanket Order No.",CurrentSalesLine."Document No.");
      ReturnRcptLine.SETRANGE("Blanket Order Line No.",CurrentSalesLine."Line No.");
      PAGE.RUNMODAL(PAGE::"Posted Return Receipt Lines",ReturnRcptLine);
    END;

    LOCAL PROCEDURE ShowPostedCreditMemos@11();
    VAR
      SalesCrMemoLine@1000 : Record 115;
    BEGIN
      CurrentSalesLine := Rec;
      SalesCrMemoLine.RESET;
      SalesCrMemoLine.SETCURRENTKEY("Blanket Order No.","Blanket Order Line No.");
      SalesCrMemoLine.SETRANGE("Blanket Order No.",CurrentSalesLine."Document No.");
      SalesCrMemoLine.SETRANGE("Blanket Order Line No.",CurrentSalesLine."Line No.");
      PAGE.RUNMODAL(PAGE::"Posted Sales Credit Memo Lines",SalesCrMemoLine);
    END;

    LOCAL PROCEDURE NoOnAfterValidate@19066594();
    BEGIN
      InsertExtendedText(FALSE);

      SaveAndAutoAsmToOrder;
    END;

    LOCAL PROCEDURE LocationCodeOnAfterValidate@20();
    BEGIN
      SaveAndAutoAsmToOrder;
    END;

    LOCAL PROCEDURE VariantCodeOnAfterValidate@19();
    BEGIN
      SaveAndAutoAsmToOrder;
    END;

    LOCAL PROCEDURE CrossReferenceNoOnAfterValidat@19048248();
    BEGIN
      InsertExtendedText(FALSE);
    END;

    LOCAL PROCEDURE QuantityOnAfterValidate@19032465();
    BEGIN
      IF Reserve = Reserve::Always THEN BEGIN
        CurrPage.SAVERECORD;
        AutoReserve;
      END;

      IF (Type = Type::Item) AND
         (Quantity <> xRec.Quantity)
      THEN
        CurrPage.UPDATE(TRUE);
    END;

    LOCAL PROCEDURE UnitofMeasureCodeOnAfterValida@19057939();
    BEGIN
      IF Reserve = Reserve::Always THEN BEGIN
        CurrPage.SAVERECORD;
        AutoReserve;
      END;
    END;

    LOCAL PROCEDURE SaveAndAutoAsmToOrder@23();
    BEGIN
      IF (Type = Type::Item) AND IsAsmToOrderRequired THEN BEGIN
        CurrPage.SAVERECORD;
        AutoAsmToOrder;
        CurrPage.UPDATE(FALSE);
      END;
    END;

    [External]
    PROCEDURE ShowDocumentLineTracking@24();
    VAR
      DocumentLineTracking@1000 : Page 6560;
    BEGIN
      CLEAR(DocumentLineTracking);
      DocumentLineTracking.SetDoc(2,"Document No.","Line No.","Blanket Order No.","Blanket Order Line No.",'',0);
      DocumentLineTracking.RUNMODAL;
    END;

    LOCAL PROCEDURE SetDimensionsVisibility@22();
    VAR
      DimMgt@1000 : Codeunit 408;
    BEGIN
      DimVisible1 := FALSE;
      DimVisible2 := FALSE;
      DimVisible3 := FALSE;
      DimVisible4 := FALSE;
      DimVisible5 := FALSE;
      DimVisible6 := FALSE;
      DimVisible7 := FALSE;
      DimVisible8 := FALSE;

      DimMgt.UseShortcutDims(
        DimVisible1,DimVisible2,DimVisible3,DimVisible4,DimVisible5,DimVisible6,DimVisible7,DimVisible8);

      CLEAR(DimMgt);
    END;

    LOCAL PROCEDURE ValidateShortcutDimension@25(DimIndex@1000 : Integer);
    VAR
      AssembleToOrderLink@1001 : Record 904;
    BEGIN
      ValidateShortcutDimCode(DimIndex,ShortcutDimCode[DimIndex]);
      AssembleToOrderLink.UpdateAsmDimFromSalesLine(Rec);

      OnAfterValidateShortcutDimCode(Rec,ShortcutDimCode,DimIndex);
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterValidateShortcutDimCode@27(VAR SalesLine@1000 : Record 37;VAR ShortcutDimCode@1001 : ARRAY [8] OF Code[20];DimIndex@1002 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeInsertExtendedText@18(VAR SalesLine@1000 : Record 37);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnCrossReferenceNoOnLookup@7(VAR SalesLine@1000 : Record 37);
    BEGIN
    END;

    BEGIN
    {
      4PS, 18-05-2015, C023496, Group totals set to invisible
    }
    END.
  }
}

