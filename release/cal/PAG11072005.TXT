OBJECT Page 11072005 Job Ledger Entries
{
  OBJECT-PROPERTIES
  {
    Date=;
    Time=;
    Version List=NAVW114.00,4PS14.00 (92),4PSSE;
  }
  PROPERTIES
  {
    Permissions=TableData 23=r,
                TableData 11072003=m;
    CaptionML=[ENU=Project Ledger Entries;
               NOR=Reskontrotransaksjoner for prosjekt;
               SVE=Projektreskontratransaktioner];
    ApplicationArea=#Jobs;
    InsertAllowed=No;
    DeleteAllowed=No;
    ModifyAllowed=Yes;
    SourceTable=Table11072005;
    SourceTableView=SORTING(Job No.,Posting Date)
                    ORDER(Descending);
    DataCaptionFields=Job No.;
    PageType=List;
    UsageCategory=History;
    PromotedActionCategoriesML=ENU=New,Process,Report,Entry;
    OnInit=VAR
             ExFlowSetup@1001 : Record 12013601;
           BEGIN
             CopyButtonEnable := TRUE;

             //141216 ITERO.DL ExFlow
             ShowExFlowBtn := ExFlowSetup.GET;
           END;

    OnOpenPage=BEGIN
                 //**4PS Generated Code. Do Not Change.sn01
                 DPA_IsHardFilter := DPA_SetFilters(CurrPage.OBJECTID(FALSE));
                 //**4PS Generated Code.en01
                 //**4PS.sn
                 CopyButtonEnable := (g_table <> 0);
                 SelectedLineEnable := (g_table=81);  //DP00850
                 //**4PS.en
               END;

    OnAfterGetRecord=BEGIN
                       //VendorNameOnFormat(FORMAT("Vendor Name"));
                     END;

    OnNewRecord=BEGIN
                  //**4PS Generated Code. Do Not Change.sn02
                  DPA_SetDefaultDepartment;
                  //**4PS Generated Code.en02
                END;

    OnInsertRecord=VAR
                     xRecRef@1100000999 : RecordRef;
                   BEGIN
                     //**4PS Generated Code. Do Not Change.sn05
                     xRecRef.GETTABLE(xRec);
                     DPA_SetDefaultDpmtFromNoSeries(xRecRef);
                     //**4PS Generated Code.en05
                   END;

    OnModifyRecord=BEGIN
                     CODEUNIT.RUN(CODEUNIT::"Job Entry-Edit",Rec);
                     EXIT(FALSE);
                   END;

    ActionList=ACTIONS
    {
      { 1900000003;0 ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 71      ;1   ;ActionGroup;
                      CaptionML=[ENU=Ent&ry;
                                 NOR=P&ost;
                                 SVE=Tra&nsaktion];
                      Image=Entry }
      { 72      ;2   ;Action    ;
                      AccessByPermission=TableData 348=R;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=[ENU=Dimensions;
                                 NOR=Dimensjoner;
                                 SVE=Dimensioner];
                      ToolTipML=[ENU=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
                                 NOR=Vis eller rediger dimensjoner, for eksempel omr†de, prosjekt eller avdeling, som du kan tilordne til salgs- og kj›psdokumenter for † distribuere kostnader og analysere transaksjonshistorikk.;
                                 SVE=Visa eller redigera m†tt, till exempel omr†de, projekt eller avdelning, som du kan tilldela till f”rs„ljnings- och ink”psdokument f”r att f”rdela kostnader och analysera transaktionshistorik.];
                      ApplicationArea=#Dimensions;
                      Promoted=Yes;
                      Image=Dimensions;
                      PromotedCategory=Category4;
                      OnAction=BEGIN
                                 xRec.ShowDimensions;
                               END;
                                }
      { 11      ;2   ;Action    ;
                      Name=SetDimensionFilter;
                      Ellipsis=Yes;
                      CaptionML=ENU=Set Dimension Filter;
                      ToolTipML=ENU=Limit the entries according to the dimension filters that you specify. NOTE: If you use a high number of dimension combinations, this function may not work and can result in a message that the SQL server only supports a maximum of 2100 parameters.;
                      ApplicationArea=#Dimensions;
                      Promoted=Yes;
                      Image=Filter;
                      PromotedCategory=Category4;
                      OnAction=BEGIN
                                 SETFILTER("Dimension Set ID",DimensionSetIDFilter.LookupFilter);
                               END;
                                }
      { 1210190004;2 ;Action    ;
                      CaptionML=[ENU=List IC-mutations in related Company;
                                 NOR=Liste IC-mutasjoner i relatert selskap;
                                 SVE=Lista IC-mutationer i relaterat f”retag];
                      Image=List;
                      OnAction=VAR
                                 ProjPostRec@1210190002 : Record 11072005;
                                 RcRelRec@1210190001 : Record 11012057;
                               BEGIN
                                 //**4PS
                                 ProjPostRec.COPY(Rec);
                                 IF PAGE.RUNMODAL(PAGE::"Intercompany Relations",RcRelRec) = ACTION::LookupOK THEN BEGIN
                                   ProjPostRec.CHANGECOMPANY(RcRelRec."Receiving Company");
                                   PAGE.RUNMODAL(PAGE::"Job Ledger Entries", ProjPostRec);
                                 END;
                               END;
                                }
      { 1100294002;2 ;Action    ;
                      Name=<Action1100294001>;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Entry Comments;
                                 NOR=Transaksjonskommentarer;
                                 SVE=Kommentar (post)];
                      Promoted=Yes;
                      Image=ViewComments;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 ShowLineComments; // SESB.I039 ASH 05.07.2013
                               END;
                                }
      { 1100485015;2 ;Separator  }
      { 1100285001;2 ;Action    ;
                      ShortCutKey=Ctrl+I;
                      CaptionML=[ENU=&Show Document;
                                 NOR=V&is dokument;
                                 SVE=&Visa dokument];
                      Visible=ShowExFlowBtn;
                      Image=Document;
                      OnAction=BEGIN
                                 // ExFlow
                                 IF PurchInvoiceRec.GET("Document No.") THEN
                                   ExFlow.ShowImagePostedDoc(2,"Document No.")
                                 ELSE IF PurchMemoRec.GET("Document No.") THEN
                                   ExFlow.ShowImagePostedDoc(3,"Document No.")
                                 ELSE
                                   MESSAGE(EXF001);
                                 // ExFlow
                               END;
                                }
      { 1100285000;2 ;Action    ;
                      ShortCutKey=Ctrl+B;
                      CaptionML=[ENU=Attached Fil&es;
                                 SVE=&Bilagor];
                      Visible=ShowExFlowBtn;
                      Image=Documents;
                      OnAction=BEGIN
                                 // ExFlow
                                 IF PurchInvoiceRec.GET("Document No.") THEN
                                   ExFlow.ShowAttachmentPostedDoc(2, "Document No.")
                                 ELSE IF PurchMemoRec.GET("Document No.") THEN
                                   ExFlow.ShowAttachmentPostedDoc(3, "Document No.")
                                 ELSE
                                   MESSAGE(EXF001);
                                 // ExFlow
                               END;
                                }
      { 1100485014;2 ;Action    ;
                      ShortCutKey=Shift+Ctrl+S;
                      CaptionML=[ENU=Scanned document;
                                 NOR=Skannet Dokument;
                                 SVE=Skannade dokument];
                      Visible=NOT ShowExFlowBtn;
                      Image=SendElectronicDocument;
                      OnAction=VAR
                                 lvPurchSetupRec@1100485001 : Record 312;
                               BEGIN
                                 //**4PS
                                 lvPurchSetupRec.GET;
                                 lvPurchSetupRec.ShowScannedDocumentWithDocNoInSupplComp("Document No.", "Supplying Company");
                               END;
                                }
      { 1100528200;2 ;Action    ;
                      ShortCutKey=Shift+Ctrl+T;
                      CaptionML=[ENU=Approval Comments;
                                 NOR=Godkjenningsmerknader;
                                 SVE=Godk„nnandekommentarer];
                      OnAction=VAR
                                 DCComments@1100528200 : Record 455;
                               BEGIN
                                 IF "Entry Type" = "Entry Type"::Usage THEN
                                   DCComments.ShowDCComments("Document No.");
                               END;
                                }
      { 1100285100;2 ;Action    ;
                      CaptionML=[ENU=Show &Documents;
                                 NOR=Vis &Dokumenter;
                                 SVE=Visa &dokument];
                      Promoted=Yes;
                      Image=Documents;
                      PromotedCategory=Report;
                      OnAction=VAR
                                 RecRef@1210190001 : RecordRef;
                                 DocumentFilters@1210190000 : Codeunit 11012432;
                                 SourceCodeSetup@1000000001 : Record 242;
                                 PurchInvHeader@1000000000 : Record 122;
                                 PurchCredHeader@1100285300 : Record 124;
                                 DocumentFilter@1000000003 : Record 11012073;
                                 GlobalTempDocumentProperties@1000000002 : TEMPORARY Record 11012746;
                               BEGIN
                                 //160324
                                 SourceCodeSetup.GET;
                                 CASE "Source Code" OF
                                   SourceCodeSetup.Purchases,'':
                                     BEGIN
                                       IF PurchInvHeader.GET("Document No.") THEN
                                         RecRef.GETTABLE(PurchInvHeader)
                                       ELSE
                                         IF PurchCredHeader.GET("Document No.") THEN
                                           RecRef.GETTABLE(PurchCredHeader)
                                         ELSE
                                         RecRef.GETTABLE(Rec);
                                     END;
                                   ELSE
                                     RecRef.GETTABLE(Rec);
                                 END;

                                 DocumentFilters.CreateTemporaryFilter(RecRef, DocumentFilter);
                                 COMMIT;

                                 DocumentFilters.ApplyDocumentFilter(DocumentFilter, GlobalTempDocumentProperties);
                                 GlobalTempDocumentProperties.SETRANGE("From Filter Form", FALSE);
                                 CASE GlobalTempDocumentProperties.COUNT OF
                                   0:
                                     CASE RecRef.NUMBER OF
                                      122: BEGIN PurchInvHeader.SETRECFILTER; PurchInvHeader.PrintRecords(TRUE); END;
                                      124: BEGIN PurchCredHeader.SETRECFILTER; PurchCredHeader.PrintRecords(TRUE,FALSE); END;
                                     END;
                                   1:  GlobalTempDocumentProperties.OpenDocument;
                                   ELSE
                                   PAGE.RUNMODAL(0, GlobalTempDocumentProperties);
                                 END;
                               END;
                                }
      { 1100525009;1 ;ActionGroup;
                      CaptionML=[ENU=&Print;
                                 NOR=Skriv &ut;
                                 SVE=Skriv &ut] }
      { 1100525007;2 ;Action    ;
                      Name=Print;
                      Ellipsis=Yes;
                      CaptionML=[ENU=&Print;
                                 NOR=Skriv &ut;
                                 SVE=Skriv &ut];
                      ToolTipML=[ENU=Prepare to print the document. A report request window for the document opens where you can specify what to include on the print-out.;
                                 NOR=Klargj›r for † skrive ut dokumentet. Det vises et rapportforesp›rselsvindu for dokumentet der du kan angi hva som skal inkluderes p† utskriften.;
                                 SVE=F”rbered utskrift av dokumentet. Ett rapportf”nster om dokumentet ”ppnas d„r det g†r att ange vad du vill inkludera p† utskriften.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Print;
                      PromotedCategory=Process;
                      OnAction=VAR
                                 JobLedgerEntry@1100525000 : Record 11072005;
                                 DocumentPrint@1100525001 : Codeunit 229;
                               BEGIN
                                 //**4PS
                                 CurrPage.SETSELECTIONFILTER(JobLedgerEntry);
                                 IF JobLedgerEntry.FINDSET THEN
                                   DocumentPrint.PrintJobLedger(JobLedgerEntry);
                               END;
                                }
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 1210190011;1 ;Action    ;
                      Name=CopyButton;
                      CaptionML=[ENU=&Copy;
                                 NOR=&Kopier;
                                 SVE=&Kopiera];
                      Promoted=No;
                      Enabled=CopyButtonEnable;
                      Image=Copy;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 //**4PS
                                 CopyLines;
                               END;
                                }
      { 1100525016;1 ;Action    ;
                      Name=ProcessSelection;
                      CaptionML=ENU=&Process Selection;
                      Promoted=No;
                      Enabled=SelectedLineEnable;
                      Image=Copy;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 //**4PS
                                 ProcessSelection;
                               END;
                                }
      { 22      ;1   ;Action    ;
                      Name=Navigate;
                      CaptionML=[ENU=&Navigate;
                                 NOR=&Naviger;
                                 SVE=Anal&ysera];
                      ToolTipML=[ENU=Find all entries and documents that exist for the document number and posting date on the selected entry or document.;
                                 NOR=Finn alle oppf›ringer og dokumenter som finnes for dokumentnummeret og bokf›ringsdatoen i den valgte oppf›ringen eller dokumentet.;
                                 SVE=S”k efter alla transaktioner och dokument som existerar f”r dokumentnumret och bokf”ringsdatumet f”r den valda transaktionen eller det valda dokumentet.];
                      ApplicationArea=#Jobs;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Navigate;
                      PromotedCategory=Category4;
                      OnAction=BEGIN
                                 Navigate.SetDoc(0D,"Document No.");  //**4PS
                                 Navigate.RUN;
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                GroupType=Repeater }

    { 1100525012;2;Field  ;
                Name=SelectedLine;
                CaptionML=ENU=Marked Line;
                SourceExpr=CheckSelection;
                Visible=SelectedLineEnable;
                Enabled=SelectedLineEnable }

    { 6   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the posting date for the entry.;
                           NOR=Angir postens bokf›ringsdato.;
                           SVE=Anger transaktionens bokf”ringsdatum.];
                ApplicationArea=#Jobs;
                SourceExpr="Posting Date";
                Editable=FALSE }

    { 1100525014;2;Field  ;
                SourceExpr="Execution Date";
                Visible=FALSE;
                Editable=FALSE }

    { 40  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of the entry. There are two types of entries:;
                           NOR=Angir posttypen. Det finnes to posttyper:;
                           SVE=Ange transaktionstypen. Det finns tv† typer av transaktioner:];
                ApplicationArea=#Jobs;
                SourceExpr="Entry Type";
                Editable=FALSE }

    { 8   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the document number on the job ledger entry.;
                           NOR=Angir dokumentnummeret p† prosjektpostbokf›ringen.;
                           SVE=Inneh†ller projekttransaktionens verifikationsnummer.];
                ApplicationArea=#Jobs;
                SourceExpr="Document No.";
                Editable=FALSE }

    { 1210190014;2;Field  ;
                SourceExpr="Document Date";
                Visible=FALSE;
                Editable=FALSE }

    { 4   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the job.;
                           NOR=Angir nummeret for prosjektet som er knyttet til posten.;
                           SVE=Anger projektets nummer.];
                ApplicationArea=#Jobs;
                SourceExpr="Job No.";
                Editable=FALSE }

    { 1101200000;2;Field  ;
                SourceExpr=Element;
                Visible=FALSE;
                Editable=FALSE }

    { 1100485010;2;Field  ;
                SourceExpr="Element Description";
                Visible=FALSE }

    { 1210190034;2;Field  ;
                SourceExpr="Extension Contract";
                Visible=FALSE;
                Editable=FALSE }

    { 1210190032;2;Field  ;
                SourceExpr="Purchase Action";
                Visible=FALSE;
                Editable=TRUE }

    { 1210190005;2;Field  ;
                SourceExpr="Service Order No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1210190007;2;Field  ;
                SourceExpr="Service Contract No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1101200002;2;Field  ;
                SourceExpr="Cost Type";
                Visible=FALSE;
                Editable=FALSE }

    { 1100525008;2;Field  ;
                SourceExpr="Global Dimension 1 Code";
                Editable=FALSE }

    { 1100525006;2;Field  ;
                SourceExpr="Global Dimension 2 Code";
                Editable=TRUE;
                OnValidate=BEGIN
                             // 31502.n
                             ChangeGlobalDim2;
                           END;
                            }

    { 1100485008;2;Field  ;
                SourceExpr="Cost Component";
                Visible=FALSE;
                Editable=FALSE }

    { 1101200004;2;Field  ;
                SourceExpr="Project Type";
                Visible=FALSE;
                Editable=FALSE }

    { 1100485006;2;Field  ;
                SourceExpr="Supplying Company";
                Visible=FALSE;
                Editable=FALSE }

    { 1101200006;2;Field  ;
                SourceExpr="Employee No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1101200008;2;Field  ;
                SourceExpr="Wage Component";
                Visible=FALSE;
                Editable=FALSE }

    { 10  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of account to which the job ledger entry is posted.;
                           NOR=Angir kontotypen som prosjektposten er bokf›rt til.;
                           SVE=Anger kontotypen som projekttransaktionen bokf”rs till.];
                ApplicationArea=#Jobs;
                SourceExpr=Type;
                Editable=FALSE }

    { 12  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the involved entry or record, according to the specified number series.;
                           NOR=Angir nummeret for kontoen som ressursen, varen eller finanskontoen er bokf›rt p†, avhengig av hva du har valgt i feltet Type.;
                           SVE=Anger numret f”r den ber”rda transaktionen eller posten, enligt den angivna nummerserien.];
                ApplicationArea=#Jobs;
                SourceExpr="No.";
                Editable=FALSE }

    { 67  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the variant of the item on the line.;
                           NOR=Angir varevariantkoden, som kopieres til prosjektposten fra en prosjektkladdelinje, salgslinje eller bestillingslinje.;
                           SVE=Anger varianten av artikeln p† raden.];
                ApplicationArea=#Planning;
                SourceExpr="Variant Code";
                Visible=FALSE;
                Editable=FALSE }

    { 14  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the description of the job ledger entry.;
                           NOR=Angir beskrivelsen av prosjektposten.;
                           SVE=Anger en beskrivning av projekttransaktionen.];
                ApplicationArea=#Jobs;
                SourceExpr=Description;
                Editable=TRUE }

    { 1100485012;2;Field  ;
                SourceExpr="Description 2";
                Visible=FALSE;
                Editable=TRUE }

    { 35  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the general business posting group that applies to the entry.;
                           NOR=Angir firmabokf›ringsgruppen som er knyttet til posten.;
                           SVE=Anger leverant”rens eller kundens handelstyp f”r att koppla transaktioner som skapas f”r aff„rspartnern till det l„mpliga redovisningskontot enligt den generella bokf”ringsinst„llningen.];
                ApplicationArea=#Jobs;
                SourceExpr="Gen. Bus. Posting Group";
                Visible=FALSE;
                Editable=FALSE }

    { 51  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the general product posting group that applies to the entry.;
                           NOR=Angir den generelle varebokf›ringsgruppen som er knyttet til posten.;
                           SVE=Anger artikelns produkttyp f”r att koppla transaktioner som skapas f”r artikeln till det l„mpliga redovisningskontot enligt den generella bokf”ringsinst„llningen.];
                ApplicationArea=#Jobs;
                SourceExpr="Gen. Prod. Posting Group";
                Visible=FALSE;
                Editable=FALSE }

    { 53  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies which work type the resource applies to. Prices are updated based on this entry.;
                           NOR=Angir hvilken arbeidstype ressursen gjelder for. Priser blir oppdatert basert p† denne posten.;
                           SVE=Anger vilken arbetstyp resursen g„ller f”r. Priserna uppdateras baserat p† den h„r informationen.];
                ApplicationArea=#Jobs;
                SourceExpr="Work Type Code";
                Editable=FALSE }

    { 24  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the relevant location code if an item is posted.;
                           NOR=Angir den aktuelle lokasjonskoden hvis en vare er bokf›rt.;
                           SVE=Anger den relevanta lagerst„llekoden om en artikel bokf”rs.];
                ApplicationArea=#Location;
                SourceExpr="Location Code";
                Editable=FALSE }

    { 16  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the quantity that was posted on the entry.;
                           NOR=Angir antallet som er bokf›rt i posten.;
                           SVE=Anger antalet som bokf”rdes i transaktionen.];
                ApplicationArea=#Jobs;
                SourceExpr=Quantity;
                Editable=FALSE }

    { 86  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how each unit of the item or resource is measured, such as in pieces or hours. By default, the value in the Base Unit of Measure field on the item or resource card is inserted.;
                           NOR=Angir koden for enheten som brukes for ressursen eller varen som er bokf›rt i denne posten.;
                           SVE=Anger hur varje enhet av artikeln eller resursen m„ts, till exempel i stycken eller timmar. Som standard infogas v„rdet i f„ltet Basenhet p† artikel- eller resurskortet.];
                ApplicationArea=#Jobs;
                SourceExpr="Unit of Measure Code";
                Editable=FALSE }

    { 55  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the cost, in the local currency, of one unit of the selected item or resource.;
                           NOR=Angir den direkte enhetskosten (i lokal valuta) for den bokf›rte posten.;
                           SVE=Anger kostnaden, i lokal valuta, f”r en enhet av den valda artikeln eller resursen.];
                ApplicationArea=#Jobs;
                SourceExpr="Direct Unit Cost (LCY)";
                Visible=FALSE;
                Editable=FALSE }

    { 1100525003;2;Field  ;
                SourceExpr="Currency Code";
                Editable=FALSE }

    { 57  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the cost of one unit of the item or resource on the line.;
                           NOR=Angir enhetskosten for den bokf›rte posten. Bel›pet er i valutaen som er angitt for prosjektet.;
                           SVE=Anger kostnaden f”r en enhet av artikeln eller resursen p† raden.];
                ApplicationArea=#Jobs;
                SourceExpr="Unit Cost";
                Editable=FALSE }

    { 88  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the cost, in LCY, of one unit of the item or resource on the line.;
                           NOR=Angir enhetskosten for den bokf›rte posten i lokal valuta. Hvis du oppdaterer prosjektkostbel›pene for varekostjusteringer, justeres dette feltet slik at varekostjusteringer inkluderes.;
                           SVE=Anger kostnaden, i BVA, f”r en enhet av artikeln eller resursen p† raden.];
                ApplicationArea=#Jobs;
                SourceExpr="Unit Cost (LCY)";
                Editable=FALSE }

    { 18  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the total cost for the posted entry, in the currency specified for the job.;
                           NOR=Angir det totale kostbel›pet for den bokf›rte posten i valutaen som er angitt for prosjektet.;
                           SVE=Anger totalkostnaden f”r den bokf”rda transaktionen i den valuta som har angetts f”r projektet.];
                ApplicationArea=#Jobs;
                SourceExpr="Total Cost";
                Editable=FALSE }

    { 43  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the total cost of the posted entry in local currency. If you update the job ledger costs for item ledger cost adjustments, this field will be adjusted to include the item cost adjustments.;
                           NOR=Angir den totale kosten for den bokf›rte posten i lokal valuta. Hvis du oppdaterer prosjektkostbel›pene for varekostjusteringer, justeres dette feltet slik at varekostjusteringer inkluderes.;
                           SVE=Anger den totala kostnaden f”r den bokf”rda transaktionen i den lokala valutan. Om du uppdaterar projekttransaktionskostnaderna f”r justeringar av artikeltransaktionskostnader, justeras det h„r f„ltet s† att justeringarna av artikelkostnaden tas med.];
                ApplicationArea=#Jobs;
                SourceExpr="Total Cost (LCY)";
                Editable=FALSE }

    { 59  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the price of one unit of the item or resource. You can enter a price manually or have it entered according to the Price/Profit Calculation field on the related card.;
                           NOR=Angir salgsprisen for den bokf›rte posten i valutaen som er angitt for prosjektet.;
                           SVE=Anger priset f”r en enhet av artikeln eller resursen. Du kan ange ett pris manuellt eller h„mta det fr†n f„ltet Pris/vinstber„kning p† det relaterade kortet.];
                ApplicationArea=#Jobs;
                SourceExpr="Unit Price";
                Visible=FALSE;
                Editable=FALSE }

    { 74  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the price, in LCY, of one unit of the item or resource. You can enter a price manually or have it entered according to the Price/Profit Calculation field on the related card.;
                           NOR=Angir salgsprisen (i lokal valuta) for den bokf›rte posten.;
                           SVE=Anger priset, i BVA, f”r en enhet av artikeln eller resursen. Du kan ange ett pris manuellt eller h„mta det fr†n f„ltet Pris/vinstber„kning p† det relaterade kortet.];
                ApplicationArea=#Jobs;
                SourceExpr="Unit Price (LCY)";
                Visible=FALSE;
                Editable=FALSE }

    { 20  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the total price for the posted entry, in the currency specified for the job.;
                           NOR=Angir det totale prisbel›pet for den bokf›rte posten i valutaen som er angitt for prosjektet.;
                           SVE=Anger det totala priset f”r den bokf”rda transaktionen i den valuta som har angetts f”r projektet.];
                ApplicationArea=#Jobs;
                SourceExpr="Total Price";
                Editable=FALSE }

    { 76  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the total price (in local currency) of the posted entry.;
                           NOR=Angir salgsbel›pet (i lokal valuta) for den bokf›rte posten.;
                           SVE=Anger det totala priset (i den lokala valutan) f”r den bokf”rda transaktionen.];
                ApplicationArea=#Jobs;
                SourceExpr="Total Price (LCY)";
                Editable=FALSE }

    { 1100525004;2;Field  ;
                SourceExpr=Chargeable;
                Editable=FALSE }

    { 1210190040;2;Field  ;
                SourceExpr="Actual Preclosure Result";
                Visible=FALSE;
                Editable=FALSE }

    { 1100525002;2;Field  ;
                SourceExpr="Actual Provision Result";
                Visible=FALSE;
                Editable=FALSE }

    { 1101200022;2;Field  ;
                SourceExpr="Closed Costs";
                Visible=FALSE;
                Editable=FALSE }

    { 1101200024;2;Field  ;
                SourceExpr="Closed Revenues";
                Visible=FALSE;
                Editable=FALSE }

    { 61  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the ID of the user who posted the entry, to be used, for example, in the change log.;
                           NOR=Angir ID-en for brukeren som bokf›rte posten.;
                           SVE=Anger ID:t f”r anv„ndaren som bokf”rde transaktionen, som ska anv„ndas i till exempel „ndringsloggen.];
                ApplicationArea=#Jobs;
                SourceExpr="User ID";
                Visible=FALSE;
                Editable=FALSE }

    { 63  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the source code that specifies where the entry was created.;
                           NOR=Angir kilden for posten. Hvis posten er bokf›rt fra en kladdelinje, overf›res kildekoden fra feltet Kildekode p† kladdelinjen.;
                           SVE=Anger ursprungskoden som anger var transaktionen skapades.];
                ApplicationArea=#Jobs;
                SourceExpr="Source Code";
                Visible=FALSE;
                Editable=FALSE }

    { 65  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the reason code, a supplementary source code that enables you to trace the entry.;
                           NOR=Angir †rsakskoden i posten.;
                           SVE=Anger uppf”ljningskoden, en extra ursprungskod som anv„nds f”r att sp†ra transaktionen.];
                ApplicationArea=#Jobs;
                SourceExpr="Reason Code";
                Visible=FALSE;
                Editable=FALSE }

    { 1210190012;2;Field  ;
                SourceExpr="Vendor No.";
                Editable=FALSE }

    { 1210190036;2;Field  ;
                DrillDown=No;
                SourceExpr="Vendor Name";
                Visible=FALSE }

    { 1101200010;2;Field  ;
                SourceExpr=Principal;
                Editable=FALSE }

    { 1210190038;2;Field  ;
                DrillDown=No;
                SourceExpr="Principal Name";
                Visible=FALSE }

    { 1101200012;2;Field  ;
                SourceExpr="Installment No.";
                Editable=FALSE }

    { 1101200014;2;Field  ;
                SourceExpr="Plot No.";
                Editable=FALSE }

    { 1101200016;2;Field  ;
                SourceExpr="Commission No.";
                Editable=FALSE }

    { 1101200018;2;Field  ;
                SourceExpr="Settl.Sheet No.";
                Editable=FALSE }

    { 1101200020;2;Field  ;
                SourceExpr="Cost Plus Line No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1210190018;2;Field  ;
                SourceExpr="Rental Period";
                Visible=FALSE;
                Editable=FALSE }

    { 1210190016;2;Field  ;
                SourceExpr="Rental Unit";
                Visible=FALSE;
                Editable=FALSE }

    { 1210190000;2;Field  ;
                SourceExpr="Try-out No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1210190002;2;Field  ;
                SourceExpr="Estimate No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1100528900;2;Field  ;
                SourceExpr="Purchase Route Reference";
                Visible=FALSE;
                Editable=FALSE }

    { 1210190020;2;Field  ;
                SourceExpr="Item No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1210190030;2;Field  ;
                SourceExpr=Manufacturer;
                Visible=FALSE;
                Editable=FALSE }

    { 1210190022;2;Field  ;
                SourceExpr="Basic Item";
                Visible=FALSE;
                Editable=FALSE }

    { 1210190028;2;Field  ;
                SourceExpr="Vendor (Trade Item)";
                Visible=FALSE;
                Editable=FALSE }

    { 1210190024;2;Field  ;
                SourceExpr="Trade Item";
                Visible=FALSE;
                Editable=FALSE }

    { 1100525000;2;Field  ;
                SourceExpr="Tariff No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1100485002;2;Field  ;
                SourceExpr="Quantity Invoiced";
                Editable=FALSE }

    { 1100485000;2;Field  ;
                SourceExpr="Amount Invoiced (LCY)";
                Editable=FALSE }

    { 1100529601;2;Field  ;
                SourceExpr="Amount Invoiced";
                Visible=FALSE }

    { 1100485016;2;Field  ;
                SourceExpr=Processed;
                Editable=TRUE }

    { 1100485004;2;Field  ;
                SourceExpr=Correction;
                Visible=FALSE;
                Editable=FALSE }

    { 1100525001;2;Field  ;
                SourceExpr="FSC Type Code";
                Visible=FALSE }

    { 1210190042;2;Field  ;
                SourceExpr=Comment;
                Visible=FALSE;
                Editable=FALSE }

    { 1100528800;2;Field  ;
                SourceExpr=Text;
                Visible=FALSE }

    { 1100525011;2;Field  ;
                SourceExpr="Yard No.";
                Editable=FALSE }

    { 1100525013;2;Field  ;
                SourceExpr="System No.";
                Editable=FALSE }

    { 1100525015;2;Field  ;
                SourceExpr="Entity Type";
                Editable=FALSE }

    { 1100525017;2;Field  ;
                SourceExpr="Entity No.";
                Editable=FALSE }

    { 1100525018;2;Field  ;
                SourceExpr="Cable Transit Pos.";
                Editable=FALSE }

    { 2   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the entry, as assigned from the specified number series when the entry was created.;
                           NOR=Angir l›penummeret som programmet har tilordnet til posten.;
                           SVE=Anger l”pnumret som programmet har tilldelat transaktionen.];
                ApplicationArea=#Jobs;
                SourceExpr="Entry No.";
                Editable=FALSE }

    { 1100528400;2;Field  ;
                CaptionML=ENU=Invalid Item;
                SourceExpr=ItemIsInvalid;
                Visible=FALSE;
                Editable=FALSE }

    { 1100294000;2;Field  ;
                Name=Text Block;
                CaptionML=[ENU=Text Block;
                           NOR=Tekstblokk;
                           SVE=Textblock];
                SourceExpr=CommentLineExist }

    { 1100285500;2;Field  ;
                SourceExpr="Exp. Hour Charged to Project";
                Visible=FALSE;
                Editable=FALSE }

    { 1100528401;2;Field  ;
                SourceExpr="Intercompany Price";
                Visible=FALSE }

    { 1100528402;2;Field  ;
                SourceExpr="Intercompany Amount";
                Visible=FALSE }

    { 9   ;2   ;Field     ;
                ToolTipML=ENU=Specifies a reference to a combination of dimension values. The actual values are stored in the Dimension Set Entry table.;
                ApplicationArea=#Dimensions;
                SourceExpr="Dimension Set ID";
                Visible=FALSE }

    { 1100528403;2;Field  ;
                SourceExpr="Intercompany Currency Code";
                Visible=FALSE }

    { 1100525005;2;Field  ;
                SourceExpr="External Document No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1100529600;2;Field  ;
                SourceExpr="Advance Payment";
                Visible=FALSE }

    { 1100528201;2;Field  ;
                SourceExpr="Vendor Posting Group";
                Visible=FALSE }

    { 1100528202;2;Field  ;
                SourceExpr="Customer Posting Group";
                Visible=FALSE }

    { 1100527700;2;Field  ;
                SourceExpr="Document Line No.";
                Visible=FALSE;
                Editable=FALSE }

    { 1100527702;2;Field  ;
                SourceExpr="Cost Entry No. Project Ledger";
                Visible=FALSE;
                Editable=FALSE }

  }
  CODE
  {
    VAR
      Navigate@1000 : Page 344;
      DimensionSetIDFilter@1001 : Page 481;
      g_table@1210190018 : Integer;
      g_code1@1210190011 : Code[20];
      g_code2@1210190015 : Code[20];
      g_code3@1210190009 : Code[20];
      g_code4@1210190008 : Code[20];
      g_code5@1210190019 : Code[20];
      g_code6@1210190006 : Code[20];
      g_int1@1210190017 : Integer;
      g_int2@1210190020 : Integer;
      gvCompName@1210190021 : Text[50];
      CopyMgt@1100485000 : Codeunit 11012068;
      DPA_IsHardFilter@1100000999 : Boolean;
      CopyButtonEnable@19014618 : Boolean INDATASET;
      Text001@1100525003 : TextConst 'ENU=Change to Cost Object %1 not  allowed. Cost Type has to be ''Revenues'';NOR=Endre til kostobjekt %1 ikke tillatt. Kosttype m† v‘re ''Inntekter'';SVE=Žndra till kostnadsobjekt %1 inte till†tet. Kostnadstyp m†ste vara ''Int„kter''';
      Text002@1100525002 : TextConst 'ENU=Change to Cost Object %1 not allowed. Cost Type may not be ''Revenues'';NOR=Endre til kostobjekt %1 ikke tillatt. Kosttype kan ikke v‘re ''Inntekter'';SVE=Žndra till kostnadsobjekt %1 inte till†tet. Projektet f†r inte vara ''Int„kter''';
      Text003@1100525001 : TextConst 'ENU=Change to Cost Object %1 not allowed. WIP Account is different from the previous WIP Account;NOR=Endre til kostobjekt %1 ikke tillatt. Kontoen for arbeidskapital skiller seg fra forrige konto for arbeidskapital;SVE=Žndra till kostnadsobjekt %1 inte till†tet. Kontot f”r p†g†ende arbeten „r inte detsamma som f”reg†ende konto f”r p†g†ende arbeten';
      Text004@1100525000 : TextConst 'ENU=Copy Description of Cost Object?;NOR=Kopiere beskrivelse av kostobjekt?;SVE=Kopiera beskrivning av kostnadsobjekt?';
      Text005@1100525004 : TextConst 'ENU=Change to Cost Object %1 not allowed on a closing entry.;NOR=Endre til kostobjekt %1 ikke tillatt for en avslutningstransaksjon';
      SelectedLineEnable@1100525005 : Boolean INDATASET;
      gvTmpJobEntry@1100525006 : TEMPORARY Record 11072005;
      "****ExFlow****"@1100285001 : Integer;
      ExFlow@1100285000 : Codeunit 12013601;
      PurchInvoiceRec@1100285002 : Record 122;
      PurchMemoRec@1100285003 : Record 124;
      EXF001@1100285004 : TextConst 'ENU=Posted ExFlow Document Entry does not exist.';
      ShowExFlowBtn@1100583000 : Boolean INDATASET;

    PROCEDURE SetSelection@11012002(l_table@11012046 : Integer;l_code1@11012047 : Code[20];l_code2@11012048 : Code[20];l_code3@11012049 : Code[20];l_code4@11012050 : Code[20];l_int1@11012051 : Integer;l_code5@11012052 : Code[20];l_code6@11012053 : Code[20];l_int2@1210190022 : Integer;lvCompName@1210190024 : Text[50]);
    BEGIN
      //**4PS
      g_table := l_table;
      g_code1 := l_code1;
      g_code2 := l_code2;
      g_code3 := l_code3;
      g_code4 := l_code4;
      g_code5 := l_code5;
      g_code6 := l_code6;
      g_int1 := l_int1;
      g_int2 := l_int2;
      gvCompName := lvCompName;
      CHANGECOMPANY(gvCompName);
    END;

    PROCEDURE CopyLines@1210190000();
    VAR
      MarkedRec@1100409000 : Record 11072005;
    BEGIN
      //**4PS
      CopyMgt.SetSelectionEntries(g_table, g_code1, g_code2, g_code3, g_code4, g_int1,
        g_code5, g_code6, g_int2);

      //MarkedRec.SETCURRENTKEY("Document No.");
      CurrPage.SETSELECTIONFILTER(MarkedRec);  //db, 01-12-14: C019428 (db, 13-02-15: MarkedRec global->local; temp=no)
      CopyMgt.CopyJobEntries(MarkedRec);
      CurrPage.CLOSE;
    END;

    PROCEDURE ChangeGlobalDim2@1210190009();
    VAR
      DimValNew@1210190003 : Record 349;
      DimMgt@1210190002 : Codeunit 408;
      Job@1210190001 : Record 11072003;
      ProjectType@1210190000 : Record 11012009;
      JobSetup@1100525000 : Record 315;
    BEGIN
      //ERROR(Text11012000); //DP00850 (use report 11012144)  //C027423: old version restored

      // 31502.n
      DimMgt.GetDimValueRec(2,"Global Dimension 2 Code",DimValNew,TRUE,"Job No.");
      DimValNew.TESTFIELD(Blocked,FALSE);
      IF ("Cost Type" = "Cost Type"::Revenues) AND (DimValNew."Cost Type" <> DimValNew."Cost Type"::Revenue) THEN
        ERROR(Text001,"Global Dimension 2 Code");

      IF ("Cost Type" <> "Cost Type"::Revenues) AND (DimValNew."Cost Type" = DimValNew."Cost Type"::Revenue) THEN
        ERROR(Text002,"Global Dimension 2 Code");

      JobSetup.GET;
      Job.GET("Job No.");

      IF (Job."Project Status" >= Job."Project Status"::Finished) AND
         (("Closed Costs" <> 0 ) OR  ("Closed Revenues" <>0 )) THEN BEGIN
          ERROR(Text005, "Global Dimension 2 Code");
      END;

      ProjectType.GET(Job."Project Type");
      IF ReadWIPAccount(ProjectType, DimValNew."Cost Type") <> "No." THEN BEGIN
        IF (Job."Project Status" >= Job."Project Status"::Finished) AND
           (JobSetup."Provisions at Closure") THEN
        BEGIN
          IF ReadWIPAccountProvisions(ProjectType, DimValNew."Cost Type") <> "No." THEN
            ERROR(Text003, "Global Dimension 2 Code");
        END ELSE BEGIN
          ERROR(Text003, "Global Dimension 2 Code");
        END;
      END;

      "Cost Type" := DimValNew."Cost Type";

      // 33302.sn
      IF "Global Dimension 2 Code" <> xRec."Global Dimension 2 Code" THEN  BEGIN
        IF CONFIRM(Text004,TRUE) THEN
          Description := DimValNew.Name;
      // 33302.en

      //DP00387 sn
        DimMgt.ValidateShortcutDimValues(2,"Global Dimension 2 Code","Dimension Set ID");
      //DP00387 en
      END;

      Job."Cost Control Up to Date" := FALSE;
      Job.MODIFY;
    END;

    PROCEDURE ReadWIPAccount@1100525015(ProjectType@1100525000 : Record 11012009;CostType@1100525001 : 'Labor,Material,Subcontracting,Plant,Sundry,Revenues') WipAccount : Code[20];
    BEGIN
      // 31502.n
      CASE CostType OF
        CostType::Labor:EXIT(ProjectType."WIP Account Labor");
        CostType::Material:EXIT(ProjectType."WIP Account Material");
        CostType::Subcontracting:EXIT(ProjectType."WIP Account Subcontracting");
        CostType::Plant:EXIT(ProjectType."WIP Account Plant");
        CostType::Sundry:EXIT(ProjectType."WIP Account Sundry");
        CostType::Revenues:EXIT(ProjectType."WIP Account Revenue");
      END;
    END;

    LOCAL PROCEDURE VendorNameOnFormat@19041184(Text@19057045 : Text[1024]);
    BEGIN
      //GetVendorName(Text);
    END;

    PROCEDURE ReadWIPAccountProvisions@1100525000(ProjectType@1100525000 : Record 11012009;CostType@1100525001 : 'Labor,Material,Subcontracting,Plant,Sundry,Revenues') WipAccount : Code[20];
    BEGIN
      CASE CostType OF
        CostType::Labor:EXIT(ProjectType."Provision Account Labor");
        CostType::Material:EXIT(ProjectType."Provision Account Material");
        CostType::Subcontracting:EXIT(ProjectType."Provision Account Subcontr.");
        CostType::Plant:EXIT(ProjectType."Provision Account Plant");
        CostType::Sundry:EXIT(ProjectType."Provision Account Sundry");
        CostType::Revenues:EXIT(ProjectType."Provision Account Revenue");
      END;
    END;

    PROCEDURE GetMarkedLines@1100525001(VAR TmpJobEntry@1100525000 : TEMPORARY Record 11072005);
    BEGIN
      //DP00850
      IF gvTmpJobEntry.FINDFIRST THEN BEGIN
        REPEAT
          TmpJobEntry := gvTmpJobEntry;
          IF TmpJobEntry.INSERT THEN;
        UNTIL gvTmpJobEntry.NEXT = 0;
      END;
    END;

    PROCEDURE SetMarkedLines@1100525002(VAR TmpJobEntry@1100525000 : TEMPORARY Record 11072005);
    BEGIN
      //DP00850
      IF TmpJobEntry.FINDFIRST THEN BEGIN
        REPEAT
          gvTmpJobEntry.COPY(TmpJobEntry);
          IF gvTmpJobEntry.INSERT THEN;
        UNTIL TmpJobEntry.NEXT = 0;
      END;
    END;

    PROCEDURE CheckSelection@1100525003() SelectedEntry : Boolean;
    BEGIN
      //DP00850
      IF g_table = 81 THEN BEGIN
        IF gvTmpJobEntry.GET("Entry No.") THEN
          EXIT(TRUE);
      END;
      EXIT(FALSE);
    END;

    LOCAL PROCEDURE ProcessSelection@1100525005();
    VAR
      MarkedRec@1100525000 : Record 11072005;
    BEGIN
      //DP00850
      CurrPage.SETSELECTIONFILTER(MarkedRec);
      IF MarkedRec.FINDFIRST THEN BEGIN
        REPEAT
          gvTmpJobEntry := MarkedRec;
          IF gvTmpJobEntry.INSERT THEN;
        UNTIL MarkedRec.NEXT = 0;
      END;
      CurrPage.CLOSE;  //return to mainproces (report 11012144)
    END;

    BEGIN
    {
      4PS, 07-08-15: DP00850, Edit Cost Object: function ChangeGlobalDim2 disabled.
      4PS, 24-11-15: C027423, Edit Cost Object: old version restored

      SESB.I039 Extend no of characters in hour line
         ASH 05.07.2013 Control "Text Block" added
         ASH 05.07.2013 Action "Comments" added
      160909 ITERO.DL RFC136 view attached documents (from Symbrio) if no doc then print report

      ExFlow 4PS ->
      Button Show document
      Button Show Attachment
      Globals
      Text Contstant EXF001
      "4PS show scanned document" = Visible FALSE
      <- ExFlow 4PS
    }
    END.
  }
}

