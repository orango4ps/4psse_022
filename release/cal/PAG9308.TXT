OBJECT Page 9308 Purchase Invoices
{
  OBJECT-PROPERTIES
  {
    Date=;
    Time=;
    Version List=NAVW114.00,4PS14.00;
  }
  PROPERTIES
  {
    Editable=No;
    CaptionML=[ENU=Purchase Invoices;
               NOR=Kj›psfakturaer;
               SVE=Ink”psfakturor];
    ApplicationArea=#Basic,#Suite;
    SourceTable=Table38;
    SourceTableView=WHERE(Document Type=CONST(Invoice));
    DataCaptionFields=Buy-from Vendor No.;
    PageType=List;
    UsageCategory=Lists;
    AdditionalSearchTermsML=[ENU=vendor invoice;
                             NOR=leverand›rfaktura;
                             SVE=leverant”rsfaktura];
    CardPageID=Purchase Invoice;
    RefreshOnActivate=Yes;
    PromotedActionCategoriesML=[ENU=New,Process,Report,Invoice,Posting,Request Approval,Release,Navigate;
                                NOR=Ny,Prosess,Rapport,Faktura,Bokf›ring,Be om godkjenning,Frigi,Naviger;
                                SVE=Ny,Process,Rapport,Faktura,Bokf”ring,Beg„r godk„nnande,Sl„pp,Navigera];
    OnInit=BEGIN
             CurrPage."Power BI Report FactBox".PAGE.InitFactBox(CurrPage.OBJECTID(FALSE),CurrPage.CAPTION,PowerBIVisible);
           END;

    OnOpenPage=VAR
                 PurchasesPayablesSetup@1000 : Record 312;
               BEGIN
                 SetSecurityFilterOnRespCenter;

                 JobQueueActive := PurchasesPayablesSetup.JobQueueActive;

                 CopyBuyFromVendorFilter;

                 //**4PS Generated Code. Do Not Change.sn01
                 DPA_IsHardFilter := DPA_SetFilters(CurrPage.OBJECTID(FALSE));
                 //**4PS Generated Code.en01

                 //**4PS.sn
                 SetFilterOnInputBy;
                 IF CURRENTCLIENTTYPE = CLIENTTYPE::Windows THEN
                   DCActive := IsDocumentCaptureActive;
                 //**4PS.en
               END;

    OnAfterGetRecord=VAR
                       PurchActRec@1100528600 : Record 11012026;
                     BEGIN
                       //**4PS.sn
                       IF "Job No." <> '' THEN BEGIN
                         IF PurchActRec.GET("Job No.","Purchase Action") THEN
                           PurchActTxt := PurchActRec.Description
                         ELSE
                           PurchActTxt := ''
                       END ELSE BEGIN
                         PurchActTxt := '';
                       END;
                       //**4PS.en

                       PurchaseHeaderExtension.GetPurchHeadExtension("Document Type", "No.");
                     END;

    OnNewRecord=BEGIN
                  //**4PS Generated Code. Do Not Change.sn02
                  DPA_SetDefaultDepartment;
                  //**4PS Generated Code.en02
                END;

    OnInsertRecord=VAR
                     xRecRef@1100000999 : RecordRef;
                   BEGIN
                     //**4PS Generated Code. Do Not Change.sn05
                     xRecRef.GETTABLE(xRec);
                     DPA_SetDefaultDpmtFromNoSeries(xRecRef);
                     //**4PS Generated Code.en05
                   END;

    OnAfterGetCurrRecord=VAR
                           RecRef@1100527300 : RecordRef;
                         BEGIN
                           SetControlAppearance;
                           CurrPage.IncomingDocAttachFactBox.PAGE.LoadDataFromRecord(Rec);

                           // Contextual Power BI FactBox: send data to filter the report in the FactBox: (SourceTableFildToCompare,QueryName/FieldName)
                           CurrPage."Power BI Report FactBox".PAGE.SetCurrentListSelection("No.",FALSE,PowerBIVisible);

                           //**4PS.sn
                           RecRef.GETTABLE(Rec);
                           CurrPage.RegisterExternalDocumentFB.PAGE.SetRecordReference(RecRef);
                           CurrPage.RegisterExternalDocumentFB.PAGE.SetByCompany(TRUE);
                           CurrPage.RegisterExternalDocumentFB.PAGE.SetDepartmentCode("Shortcut Dimension 1 Code");
                           IF DCActive THEN
                             CurrPage.DocumentFilesFactbox.PAGE.SetRecId(RecRef.RECORDID,FALSE);
                           //**4PS.en
                         END;

    ActionList=ACTIONS
    {
      { 1900000003;0 ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 1102601017;1 ;ActionGroup;
                      CaptionML=[ENU=&Invoice;
                                 NOR=&Faktura;
                                 SVE=Fa&ktura];
                      Image=Invoice }
      { 1102601019;2 ;Action    ;
                      Name=Statistics;
                      ShortCutKey=F7;
                      CaptionML=[ENU=Statistics;
                                 NOR=Statistikk;
                                 SVE=Statistik];
                      ToolTipML=[ENU=View statistical information, such as the value of posted entries, for the record.;
                                 NOR=Vis statistikkinformasjon, for eksempel verdien for bokf›rte poster, for posten.;
                                 SVE=Visa statistisk information f”r posten, till exempel v„rdet p† bokf”rda transaktioner.];
                      ApplicationArea=#Suite;
                      Promoted=Yes;
                      Visible=FALSE;
                      PromotedIsBig=Yes;
                      Image=Statistics;
                      PromotedCategory=Category4;
                      OnAction=BEGIN
                                 CalcInvDiscForHeader;
                                 COMMIT;
                                 PAGE.RUNMODAL(PAGE::"Purchase Statistics",Rec);
                               END;
                                }
      { 1102601021;2 ;Action    ;
                      CaptionML=[ENU=Co&mments;
                                 NOR=&Merknader;
                                 SVE=Ko&mmentarer];
                      ToolTipML=[ENU=View or add comments for the record.;
                                 NOR=Vis eller legg til kommentarer for posten.;
                                 SVE=Visa eller l„gg till kommentarer till posten.];
                      ApplicationArea=#Comments;
                      RunObject=Page 66;
                      RunPageLink=Document Type=FIELD(Document Type),
                                  No.=FIELD(No.),
                                  Document Line No.=CONST(0);
                      Image=ViewComments;
                      PromotedCategory=Category4 }
      { 1102601022;2 ;Action    ;
                      Name=Dimensions;
                      AccessByPermission=TableData 348=R;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=[ENU=Dimensions;
                                 NOR=Dimensjoner;
                                 SVE=Dimensioner];
                      ToolTipML=[ENU=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
                                 NOR=Vis eller rediger dimensjoner, for eksempel omr†de, prosjekt eller avdeling, som du kan tilordne til salgs- og kj›psdokumenter for † distribuere kostnader og analysere transaksjonshistorikk.;
                                 SVE=Visa eller redigera dimensioner, till exempel omr†de, projekt eller avdelning, som du kan tilldela f”rs„ljnings- och ink”psdokument f”r att f”rdela kostnader och analysera transaktionshistorik.];
                      ApplicationArea=#Dimensions;
                      Visible=FALSE;
                      PromotedIsBig=Yes;
                      Image=Dimensions;
                      PromotedCategory=Category4;
                      OnAction=BEGIN
                                 ShowDocDim;
                               END;
                                }
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 20      ;1   ;ActionGroup;
                      CaptionML=[ENU=Invoice;
                                 NOR=Faktura;
                                 SVE=Faktura] }
      { 10      ;2   ;Action    ;
                      Name=Approvals;
                      AccessByPermission=TableData 454=R;
                      CaptionML=[ENU=Approvals;
                                 NOR=Godkjenninger;
                                 SVE=Godk„nnanden];
                      ToolTipML=[ENU=View a list of the records that are waiting to be approved. For example, you can see who requested the record to be approved, when it was sent, and when it is due to be approved.;
                                 NOR=Vis en liste med poster dom venter p† † bli godkjent. Du kan for eksempel se hvem som har bedt om godkjenning av posten, n†r den ble sendt og n†r den forfaller til godkjenning.;
                                 SVE=Visa en lista med poster som v„ntar p† att godk„nnas. Du kan t.ex. se vem som beg„rde att posten skulle godk„nnas, n„r den skickades och n„r den m†ste godk„nnas.];
                      ApplicationArea=#Suite;
                      Visible=FALSE;
                      Image=Approvals;
                      PromotedCategory=Category4;
                      OnAction=VAR
                                 WorkflowsEntriesBuffer@1001 : Record 832;
                               BEGIN
                                 WorkflowsEntriesBuffer.RunWorkflowEntriesPage(RECORDID,DATABASE::"Purchase Header","Document Type","No.");
                               END;
                                }
      { 22      ;2   ;Action    ;
                      Name=Vendor;
                      ShortCutKey=Shift+F7;
                      CaptionML=[ENU=Vendor;
                                 NOR=Leverand›r;
                                 SVE=Leverant”r];
                      ToolTipML=[ENU=View or edit detailed information about the vendor on the purchase document.;
                                 NOR=Vis eller rediger detaljert informasjon om leverand›ren i kj›psdokumentet.;
                                 SVE=Visa eller redigera detaljerad information om leverant”ren p† ink”psdokumentet.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 26;
                      RunPageLink=No.=FIELD(Buy-from Vendor No.);
                      Promoted=Yes;
                      Image=Vendor;
                      PromotedCategory=Category8;
                      Scope=Repeater }
      { 1100528404;1 ;ActionGroup;
                      CaptionML=[ENU=Approval;
                                 NOR=Godkjenning;
                                 SVE=Godk„nnande];
                      Visible=FALSE }
      { 1100528403;2 ;Action    ;
                      Name=Approve;
                      CaptionML=[ENU=Approve;
                                 NOR=Godkjenn;
                                 SVE=Godk„nn];
                      Visible=FALSE;
                      Enabled=OpenApprovalEntriesExistForCurrUser;
                      PromotedIsBig=Yes;
                      Image=Approve;
                      PromotedCategory=Category4;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 ApprovalsMgmt.ApproveRecordApprovalRequest(RECORDID)
                               END;
                                }
      { 1100528402;2 ;Action    ;
                      Name=Reject;
                      CaptionML=[ENU=Reject;
                                 NOR=Avvis;
                                 SVE=Avvisa];
                      Visible=FALSE;
                      Enabled=OpenApprovalEntriesExistForCurrUser;
                      PromotedIsBig=Yes;
                      Image=Reject;
                      PromotedCategory=Category4;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 ApprovalsMgmt.RejectRecordApprovalRequest(RECORDID)
                               END;
                                }
      { 1100528401;2 ;Action    ;
                      Name=Delegate;
                      CaptionML=[ENU=Delegate;
                                 NOR=Deleger;
                                 SVE=Delegera];
                      Visible=FALSE;
                      Enabled=OpenApprovalEntriesExistForCurrUser;
                      Image=Delegate;
                      PromotedCategory=Category4;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 ApprovalsMgmt.DelegateRecordApprovalRequest(RECORDID)
                               END;
                                }
      { 1100528400;2 ;Action    ;
                      Name=Comment;
                      CaptionML=[ENU=Comments;
                                 NOR=Merknader;
                                 SVE=Kommentar];
                      Visible=FALSE;
                      Enabled=OpenApprovalEntriesExistForCurrUser;
                      Image=ViewComments;
                      PromotedCategory=Category4;
                      OnAction=VAR
                                 ApprovalsMgmt@1100528500 : Codeunit 1535;
                               BEGIN
                                 ApprovalsMgmt.GetApprovalComment(Rec); //**4PS.n
                               END;
                                }
      { 7       ;1   ;ActionGroup;
                      CaptionML=[ENU=Release;
                                 NOR=Frigi;
                                 SVE=Sl„pp];
                      Image=ReleaseDoc }
      { 1102601015;2 ;Action    ;
                      Name=Release;
                      ShortCutKey=Ctrl+F9;
                      CaptionML=[ENU=Re&lease;
                                 NOR=Fri&gi;
                                 SVE=&Sl„pp];
                      ToolTipML=[ENU=Release the document to the next stage of processing. When a document is released, it will be included in all availability calculations from the expected receipt date of the items. You must reopen the document before you can make changes to it.;
                                 NOR=Frigi dokumentet til neste behandlingsfase. N†r et dokument frigis, tas det med i alle tilgjengelighetsberegninger fra den forventede mottaksdatoen for varene. Du m† †pne dokumentet p† nytt f›r du kan gj›re endringer i det.;
                                 SVE=Sl„pp dokumentet till n„sta etapp i bearbetningen. N„r ett dokument sl„pps, tas det med i alla dispositionsber„kningar fr†n och med artiklarnas planerade inleveransdatum. Du m†ste ”ppna dokumentet igen innan du kan „ndra i det.];
                      ApplicationArea=#Basic,#Suite;
                      Image=ReleaseDoc;
                      PromotedCategory=Category7;
                      OnAction=VAR
                                 ReleasePurchDoc@1000 : Codeunit 415;
                               BEGIN
                                 ReleasePurchDoc.PerformManualRelease(Rec);
                               END;
                                }
      { 1102601016;2 ;Action    ;
                      Name=Reopen;
                      CaptionML=[ENU=Re&open;
                                 NOR=&pne p† nytt;
                                 SVE=&™ppna igen];
                      ToolTipML=[ENU=Reopen the document to change it after it has been approved. Approved documents have the Released status and must be opened before they can be changed;
                                 NOR=pne dokumentet p† nytt for † endre det etter at det har blitt godkjent. Godkjente dokumenter har statusen Frigitt, og de m† †pnes f›r de kan endres;
                                 SVE=™ppna dokumentet igen och „ndra det efter att det har godk„nts. Godk„nda dokument har statusen Sl„ppt och m†ste ”ppnas innan de kan „ndras];
                      ApplicationArea=#Basic,#Suite;
                      Image=ReOpen;
                      PromotedCategory=Category7;
                      OnAction=VAR
                                 ReleasePurchDoc@1001 : Codeunit 415;
                               BEGIN
                                 ReleasePurchDoc.PerformManualReopen(Rec);
                               END;
                                }
      { 1102601000;1 ;ActionGroup;
                      CaptionML=[ENU=Request Approval;
                                 NOR=Be om godkjenning;
                                 SVE=Beg„r godk„nnande];
                      Image=Action }
      { 14      ;2   ;Action    ;
                      Name=SendApprovalRequest;
                      CaptionML=[ENU=Send A&pproval Request;
                                 NOR=&Send godkjenningsforesp›rsel;
                                 SVE=Skicka godk&„nnandebeg„ran];
                      ToolTipML=[ENU=Request approval of the document.;
                                 NOR=Be om godkjenning av dokumentet.;
                                 SVE=Beg„r godk„nnande av dokumentet.];
                      ApplicationArea=#Basic,#Suite;
                      Visible=FALSE;
                      Enabled=NOT OpenApprovalEntriesExist AND CanRequestApprovalForFlow;
                      Image=SendApprovalRequest;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 IF ApprovalsMgmt.CheckPurchaseApprovalPossible(Rec) THEN
                                   ApprovalsMgmt.OnSendPurchaseDocForApproval(Rec);
                               END;
                                }
      { 12      ;2   ;Action    ;
                      Name=CancelApprovalRequest;
                      CaptionML=[ENU=Cancel Approval Re&quest;
                                 NOR=&Annuller godkjenningsforesp›rsel;
                                 SVE=Annullera &godk„nnandebeg„ran];
                      ToolTipML=[ENU=Cancel the approval request.;
                                 NOR=Annuller godkjenningsforesp›rselen.;
                                 SVE=Annullera godk„nnandebeg„ran.];
                      ApplicationArea=#Basic,#Suite;
                      Visible=FALSE;
                      Enabled=CanCancelApprovalForRecord OR CanCancelApprovalForFlow;
                      Image=CancelApprovalRequest;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                                 WorkflowWebhookManagement@1001 : Codeunit 1543;
                               BEGIN
                                 ApprovalsMgmt.OnCancelPurchaseApprovalRequest(Rec);
                                 WorkflowWebhookManagement.FindAndCancel(RECORDID);
                               END;
                                }
      { 50      ;1   ;ActionGroup;
                      CaptionML=[ENU=P&osting;
                                 NOR=B&okf›ring;
                                 SVE=B&okf”ring];
                      Image=Post }
      { 52      ;2   ;Action    ;
                      Name=Post;
                      ShortCutKey=F9;
                      CaptionML=[ENU=P&ost;
                                 NOR=B&okf›r;
                                 SVE=&Bokf”r];
                      ToolTipML=[ENU=Finalize the document or journal by posting the amounts and quantities to the related accounts in your company books.;
                                 NOR=Fullf›r dokumentet eller kladden ved † bokf›re bel›pene og antallene til de relaterte kontiene i selskapstabl†ene.;
                                 SVE=Slutf”r dokumentet eller journalen genom att bokf”ra beloppen och kvantiteterna till de relaterade kontona i f”retagets redovisning.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=PostOrder;
                      PromotedCategory=Category5;
                      OnAction=VAR
                                 PurchaseHeader@1001 : Record 38;
                                 PurchaseBatchPostMgt@1000 : Codeunit 1372;
                               BEGIN
                                 CurrPage.SETSELECTIONFILTER(PurchaseHeader);
                                 IF PurchaseHeader.COUNT > 1 THEN BEGIN
                                   PurchaseHeader.FINDSET;
                                   REPEAT
                                     VerifyTotal(PurchaseHeader);
                                   UNTIL PurchaseHeader.NEXT = 0;
                                   PurchaseBatchPostMgt.RunWithUI(PurchaseHeader,COUNT,ReadyToPostQst);
                                 END ELSE BEGIN
                                   VerifyTotal(Rec);
                                   Post(CODEUNIT::"Purch.-Post (Yes/No)");
                                 END;
                               END;
                                }
      { 9       ;2   ;Action    ;
                      Name=Preview;
                      CaptionML=[ENU=Preview Posting;
                                 NOR=Forh†ndsvis bokf›ring;
                                 SVE=F”rhandsgranska bokf”ring];
                      ToolTipML=[ENU=Review the different types of entries that will be created when you post the document or journal.;
                                 NOR=Se gjennom de ulike typene poster som blir opprettet n†r du bokf›rer dokumentet eller kladden.;
                                 SVE=Granska de olika typer av transaktioner som skapas n„r du bokf”r dokumentet eller journalen.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Visible=FALSE;
                      PromotedIsBig=Yes;
                      Image=ViewPostedOrder;
                      PromotedCategory=Category5;
                      OnAction=VAR
                                 PurchPostYesNo@1000 : Codeunit 91;
                               BEGIN
                                 PurchPostYesNo.Preview(Rec);
                               END;
                                }
      { 51      ;2   ;Action    ;
                      Name=TestReport;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Test Report;
                                 NOR=Kontrollrapport;
                                 SVE=Testrapport];
                      ToolTipML=[ENU=View a test report so that you can find and correct any errors before you perform the actual posting of the journal or document.;
                                 NOR=Vis en kontrollrapport slik at du kan finne og rette eventuelle feil f›r du bokf›rer kladden eller dokumentet.;
                                 SVE=Visa en testrapport s† att du kan hitta och r„tta till eventuella fel innan du bokf”r journalen eller dokumentet.];
                      ApplicationArea=#Basic,#Suite;
                      Visible=FALSE;
                      Image=TestReport;
                      OnAction=BEGIN
                                 ReportPrint.PrintPurchHeader(Rec);
                               END;
                                }
      { 1100409000;2 ;Action    ;
                      CaptionML=ENU=Invoice Check List;
                      Visible=FALSE;
                      Image=TestReport;
                      OnAction=VAR
                                 PurchaseHeader@11012003 : Record 38;
                                 CheckPurchInvCreditMemo@1100525000 : Report 11012063;
                               BEGIN
                                 //**4PS
                                 PurchaseHeader.SETRANGE("Document Type", PurchaseHeader."Document Type"::Invoice);
                                 CheckPurchInvCreditMemo.SETTABLEVIEW(PurchaseHeader);
                                 CheckPurchInvCreditMemo.RUN;
                               END;
                                }
      { 53      ;2   ;Action    ;
                      Name=PostAndPrint;
                      ShortCutKey=Shift+F9;
                      CaptionML=[ENU=Post and &Print;
                                 NOR=Bokf›r og &skriv ut;
                                 SVE=Bokf”r och skriv &ut];
                      ToolTipML=[ENU=Finalize and prepare to print the document or journal. The values and quantities are posted to the related accounts. A report request window where you can specify what to include on the print-out.;
                                 NOR=Fullf›r og klargj›r for † skrive ut dokumentet eller kladden. Verdiene og antallene blir bokf›rt til de relaterte kontiene. Det vises en rapportforesp›rselsside der du kan angi hva som skal inkluderes p† utskriften.;
                                 SVE=Slutf”r och f”rbered utskrift av dokumentet eller journalen. V„rdena och kvantiteterna bokf”rs p† de relaterade kontona. Ett f”nster med en rapportbeg„ran d„r du kan ange vad som ska tas med p† utskriften.];
                      ApplicationArea=#Basic,#Suite;
                      Visible=FALSE;
                      PromotedIsBig=Yes;
                      Image=PostPrint;
                      PromotedCategory=Category5;
                      OnAction=BEGIN
                                 VerifyTotal(Rec);
                                 Post(CODEUNIT::"Purch.-Post + Print");
                               END;
                                }
      { 54      ;2   ;Action    ;
                      Name=PostBatch;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Post &Batch;
                                 NOR=Masse&bokf›r;
                                 SVE=Bokf”r b&atch-jobb];
                      ToolTipML=[ENU=Post several documents at once. A report request window opens where you can specify which documents to post.;
                                 NOR=Bokf›r flere dokumenter samtidig. Det vises et rapportforesp›rselsvindu der du kan angi hvilke dokumenter som skal bokf›res.;
                                 SVE=Bokf”r flera dokument p† en g†ng. Ett rapportf”nster ”ppnas d„r du kan ange vilka dokument som ska bokf”ras.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Image=PostBatch;
                      PromotedCategory=Category5;
                      OnAction=BEGIN
                                 VerifyTotal(Rec);
                                 REPORT.RUNMODAL(REPORT::"Batch Post Purchase Invoices",TRUE,TRUE,Rec);
                                 CurrPage.UPDATE(FALSE);
                               END;
                                }
      { 3       ;2   ;Action    ;
                      Name=RemoveFromJobQueue;
                      CaptionML=[ENU=Remove From Job Queue;
                                 NOR=Fjern fra jobbk›;
                                 SVE=Ta bort fr†n jobbk”];
                      ToolTipML=[ENU=Remove the scheduled processing of this record from the job queue.;
                                 NOR=Fjern den planlagte behandlingen av denne posten fra prosjektk›en.;
                                 SVE=Ta bort den schemalagda bearbetningen av den h„r rapporten fr†n jobbk”n.];
                      ApplicationArea=#All;
                      Visible=JobQueueActive;
                      Image=RemoveLine;
                      OnAction=BEGIN
                                 CancelBackgroundPosting;
                               END;
                                }
      { 24      ;1   ;ActionGroup;
                      CaptionML=[ENU=Display;
                                 NOR=Vis;
                                 SVE=Visa] }
      { 19      ;2   ;Action    ;
                      Name=ReportFactBoxVisibility;
                      CaptionML=[ENU=Show/Hide Power BI Reports;
                                 NOR=Vis/skjul Power BI-rapporter;
                                 SVE=Visa/D”lj Power BI-rapporter];
                      ToolTipML=[ENU=Select if the Power BI FactBox is visible or not.;
                                 NOR=Velg om Power BI-faktaboksen skal v‘re synlig eller ikke.;
                                 SVE=V„lj om Power BI-faktaboxen „r synlig eller inte.];
                      ApplicationArea=#Basic,#Suite;
                      Visible=FALSE;
                      Image=Report;
                      OnAction=BEGIN
                                 // save visibility value into the table
                                 CurrPage."Power BI Report FactBox".PAGE.SetFactBoxVisibility(PowerBIVisible);
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                GroupType=Repeater }

    { 2   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the involved entry or record, according to the specified number series.;
                           NOR=Angir nummeret p† den aktuelle oppf›ringen eller posten, i henhold til den angitte nummerserien.;
                           SVE=Anger numret f”r den ber”rda transaktionen eller posten, enligt den angivna nummerserien.];
                ApplicationArea=#All;
                SourceExpr="No." }

    { 1100528600;2;Field  ;
                SourceExpr="Related Purch. Order No.";
                Visible=FALSE }

    { 4   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the name of the vendor who delivered the items.;
                           NOR=Angir navnet p† leverand›ren som leverte varene.;
                           SVE=Anger namnet p† leverant”ren som levererade artiklarna.];
                ApplicationArea=#All;
                SourceExpr="Buy-from Vendor No." }

    { 13  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the order address of the related vendor.;
                           NOR=Angir bestillingsadressen for den relaterte leverand›ren.;
                           SVE=Anger den relaterade leverant”rens orderadress.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Order Address Code";
                Visible=FALSE }

    { 6   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the name of the vendor who delivered the items.;
                           NOR=Angir navnet p† leverand›ren som leverte varene.;
                           SVE=Anger namnet p† leverant”ren som levererade artiklarna.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Buy-from Vendor Name";
                Visible=FALSE }

    { 15  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the compensation agreement identification number, sometimes referred to as the RMA No. (Returns Materials Authorization).;
                           NOR=Angir ID-nummeret for kompensasjonsavtale. Dette nummeret kalles noen ganger RMA-nummeret (returmaterialeautorisasjon).;
                           SVE=Anger kompensationsavtalets id-nummer. Det kallas ibland f”r godk„nnandenummer f”r returmaterial (RMA-nummer).];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Vendor Authorization No.";
                Visible=FALSE }

    { 25  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the document number of the original document you received from the vendor. You can require the document number for posting, or let it be optional. By default, it's required, so that this document references the original. Making document numbers optional removes a step from the posting process. For example, if you attach the original invoice as a PDF, you might not need to enter the document number. To specify whether document numbers are required, in the Purchases & Payables Setup window, select or clear the Ext. Doc. No. Mandatory field.;
                           NOR=Angir dokumentnummeret for det opprinnelige dokumentet du mottok fra leverand›ren. Du kan kreve dokumentnummeret for bokf›ring eller la det v‘re valgfritt. Det er obligatorisk som standard, slik at dette dokumentet refererer til originalen. Hvis dokumentnumre gj›res valgfrie, fjernes et trinn fra bokf›ringsprosessen. Hvis du for eksempel legger ved den opprinnelige fakturaen som en PDF-fil, kan det hende du ikke beh›ver † angi dokumentnummeret. Hvis du vil angi om dokumentnummeret er obligatorisk, g†r du til vinduet for kj›psoppsett, og merker av for eller fjerner merket for feltet Eksternt dokumentnr. obligatorisk.;
                           SVE=Anger dokumentnumret f”r det ursprungliga dokumentet som du har f†tt fr†n leverant”ren. Du kan kr„va dokumentnumret f”r bokf”ring eller l†ta det vara frivilligt. Som standard kr„vs det i syfte att l†ta detta dokument referera till det ursprungliga. Vid valfria dokumentnummer f”rsvinner ett steg fr†n bokf”ringsprocessen. Om du till exempel bifogar den ursprungliga fakturan som en PDF kanske du inte beh”ver ange dokumentnumret. F”r att ange om dokumentnummer kr„vs, v„lj eller rensa f„ltet Externt dok.nr obligatoriskt i f”nstret Ink”psinst„llningar.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Vendor Invoice No." }

    { 1100528601;2;Field  ;
                SourceExpr="Buy-from Vendor Name 2";
                Visible=FALSE }

    { 1100528607;2;Field  ;
                SourceExpr="Buy-from Address";
                Visible=FALSE }

    { 1100528606;2;Field  ;
                SourceExpr="Buy-from Address 2";
                Visible=FALSE }

    { 27  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the post code of the vendor who delivered the items.;
                           NOR=Angir postnummeret for leverand›ren som leverte varene.;
                           SVE=Anger postnumret f”r leverant”ren som levererade artiklarna.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Buy-from Post Code";
                Visible=FALSE }

    { 1100528604;2;Field  ;
                SourceExpr="Buy-from City";
                Visible=FALSE }

    { 23  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the city of the vendor who delivered the items.;
                           NOR=Angir poststedet til leverand›ren som leverte varene.;
                           SVE=Anger orten f”r leverant”ren som levererade artiklarna.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Buy-from Country/Region Code";
                Visible=FALSE }

    { 1100528625;2;Field  ;
                SourceExpr="Service Order No." }

    { 1100528624;2;Field  ;
                SourceExpr="Service Order Description";
                Visible=FALSE }

    { 1100528623;2;Field  ;
                SourceExpr="Job No." }

    { 1100528622;2;Field  ;
                SourceExpr="Project Description";
                Visible=FALSE }

    { 1100528621;2;Field  ;
                SourceExpr="Purchase Action";
                Visible=FALSE }

    { 1100528620;2;Field  ;
                CaptionML=[ENU=Purchase Action Description;
                           NOR=Beskrivelse av Innkj›pshandling;
                           SVE=Beskrivning av ink”ps†tg„rd];
                SourceExpr=PurchActTxt;
                Visible=FALSE }

    { 1100528619;2;Field  ;
                SourceExpr="Amount excl. VAT" }

    { 1100528618;2;Field  ;
                SourceExpr="Amount incl. VAT" }

    { 16  ;2   ;Field     ;
                CaptionML=[ENU=Amount Lines excl. VAT;
                           SVE=Beloppsrader];
                ToolTipML=[ENU=Specifies the sum of the amounts in the Amount field on the associated purchase lines.;
                           NOR=Angir summen av bel›pene i feltet Bel›p p† de tilknyttede bestillingslinjene.;
                           SVE=Anger summan av beloppen i f„ltet Belopp p† motsvarande ink”psrader.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Amount;
                Visible=FALSE }

    { 1100528616;2;Field  ;
                CaptionML=[ENU=Amount lines incl. VAT;
                           NOR=Bel›psrader inkl. mva.;
                           SVE=Beloppsrader inkl. moms];
                SourceExpr="Amount Including VAT";
                Visible=FALSE }

    { 1100528615;2;Field  ;
                SourceExpr="Your Reference";
                Visible=FALSE }

    { 1100528614;2;Field  ;
                SourceExpr="Warranty Data present";
                Visible=FALSE }

    { 1100528613;2;Field  ;
                SourceExpr=Comment;
                Visible=FALSE }

    { 1100528612;2;Field  ;
                SourceExpr="Vendor Order No.";
                Visible=FALSE }

    { 1100528610;2;Field  ;
                SourceExpr="Vendor Cr. Memo No.";
                Visible=FALSE }

    { 1100528603;2;Field  ;
                SourceExpr="Copied from Purchase Quote No.";
                Visible=FALSE }

    { 35  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the name of the contact person at the vendor who delivered the items.;
                           NOR=Angir navnet p† kontaktpersonen hos leverand›ren som leverte varene.;
                           SVE=Anger namnet p† kontaktpersonen hos leverant”ren som levererade artiklarna.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Buy-from Contact";
                Visible=FALSE }

    { 163 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the vendor that you received the invoice from.;
                           NOR=Angir nummeret til leverand›ren du har mottatt fakturaen fra.;
                           SVE=Anger numret p† leverant”ren som du mottog fakturan av.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Pay-to Vendor No.";
                Visible=FALSE }

    { 161 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the name of the vendor who you received the invoice from.;
                           NOR=Angir navnet p† leverand›ren du har mottatt fakturaen fra.;
                           SVE=Anger namnet p† leverant”ren som du mottog fakturan av.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Pay-to Name";
                Visible=FALSE }

    { 33  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the post code of the vendor that you received the invoice from.;
                           NOR=Angir postnummeret for leverand›ren som du har mottatt fakturaen fra.;
                           SVE=Anger postnumret f”r leverant”ren som du mottog fakturan av.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Pay-to Post Code";
                Visible=FALSE }

    { 29  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the country/region code of the address.;
                           NOR=Angir lands-/omr†dekoden for adressen.;
                           SVE=Anger adressens lands-/regionkod.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Pay-to Country/Region Code";
                Visible=FALSE }

    { 151 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the name of the person to contact about an invoice from this vendor.;
                           NOR=Angir navnet p† den personen som skal kontaktes hvis det oppst†r sp›rsm†l til en faktura fra denne leverand›ren.;
                           SVE=Anger namnet p† den person som b”r kontaktas ang†ende en faktura fr†n leverant”ren.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Pay-to Contact";
                Visible=FALSE }

    { 147 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a code for an alternate shipment address if you want to ship to another address than the one that has been entered automatically. This field is also used in case of drop shipment.;
                           NOR=Angir en kode for en alternativ leveringsadresse hvis du vil levere til en annen adresse enn den som er angitt automatisk. Dette feltet brukes ogs† ved direkte levering.;
                           SVE=Anger en kod f”r en alternativ leveransadress om du vill leverera till en annan adress „n den som har angetts automatiskt. Det h„r f„ltet anv„nds ocks† vid direktutleverans.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Ship-to Code";
                Visible=FALSE }

    { 145 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the name of the customer at the address that the items are shipped to.;
                           NOR=Angir navnet p† kunden p† adressen som varene blir levert til.;
                           SVE=Anger namnet p† kunden p† adressen som artiklarna levereras till.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Ship-to Name";
                Visible=FALSE }

    { 21  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the postal code of the address that the items are shipped to.;
                           NOR=Angir postnummeret for adressen som varene sendes til.;
                           SVE=Anger postnumret i adressen som artiklarna levereras till.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Ship-to Post Code";
                Visible=FALSE }

    { 17  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the country/region code of the address that the items are shipped to.;
                           NOR=Angir lands-/omr†dekoden for adressen som varene sendes til.;
                           SVE=Anger lands-/regionkoden i adressen som artiklarna levereras till.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Ship-to Country/Region Code";
                Visible=FALSE }

    { 135 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the name of the contact person at the address that the items are shipped to.;
                           NOR=Angir navnet p† kontaktpersonen p† adressen som varene blir sendt til.;
                           SVE=Anger namnet p† kontaktpersonen p† adressen som artiklarna levereras till.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Ship-to Contact";
                Visible=FALSE }

    { 1100528605;2;Field  ;
                SourceExpr=Expediter;
                Visible=FALSE }

    { 131 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the date when the posting of the purchase document will be recorded.;
                           NOR=Angir datoen n†r bokf›ringen av kj›psdokumentet blir registrert.;
                           SVE=Anger datumet d† bokf”ring av ink”psdokumentet registreras.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Posting Date";
                Visible=FALSE }

    { 1100528630;2;Field  ;
                SourceExpr="Promised Receipt Date";
                Visible=FALSE }

    { 1100528629;2;Field  ;
                SourceExpr="Expected Receipt Date";
                Visible=FALSE }

    { 1100528628;2;Field  ;
                SourceExpr="Quote Receipt Date";
                Visible=FALSE }

    { 1100528627;2;Field  ;
                SourceExpr="Valid Until";
                Visible=FALSE }

    { 1100528626;2;Field  ;
                SourceExpr="On Hold";
                Visible=FALSE }

    { 113 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for Shortcut Dimension 1, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                           NOR=Angir koden til Snarveisdimensjon 1, som er ‚n av to globale dimensjonskoder som du har definert i vinduet Finansoppsett.;
                           SVE=Anger koden f”r Genv„g dimension 1, som „r en av tv† globala dimensionskoder som du st„ller in i f”nstret Redovisningsinst„llningar.];
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 1 Code";
                Visible=FALSE;
                OnValidate=BEGIN
                             //**4PS Generated Code. Do Not Change.sn03
                             DPA_ChkDepartmentCodeAllowed(DPA_IsHardFilter);
                             //**4PS Generated Code.en03
                           END;
                            }

    { 111 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for Shortcut Dimension 2, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                           NOR=Angir koden til Snarveisdimensjon 2, som er ‚n av to globale dimensjonskoder som du har definert i vinduet Finansoppsett.;
                           SVE=Anger koden f”r Genv„g dimension 2, som „r en av tv† globala dimensionskoder som du st„ller in i f”nstret Redovisningsinst„llningar.];
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 2 Code";
                Visible=FALSE }

    { 115 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a code for the location where you want the items to be placed when they are received.;
                           NOR=Angir en kode for lokasjonen der du vil at de bestilte varene skal plasseres.;
                           SVE=Anger en kod f”r lagerst„llet d„r du vill att artiklarna ska placeras n„r de har levererats.];
                ApplicationArea=#Location;
                SourceExpr="Location Code";
                Visible=FALSE }

    { 1100528633;2;Field  ;
                SourceExpr="Ship-to Project";
                Visible=FALSE }

    { 1100528632;2;Field  ;
                SourceExpr="Ship-to Location";
                Visible=FALSE }

    { 99  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies which purchaser is assigned to the vendor.;
                           NOR=Angir hvilken innkj›per som er knyttet til leverand›ren.;
                           SVE=Anger vilken ink”pare som „r kopplad till leverant”ren.];
                ApplicationArea=#Suite;
                SourceExpr="Purchaser Code";
                Visible=FALSE }

    { 1100527301;2;Field  ;
                SourceExpr="Name Purchaser";
                Visible=FALSE }

    { 31  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the ID of the user who is responsible for the document.;
                           NOR=Angir ID-en til brukeren som er ansvarlig for dokumentet.;
                           SVE=Anger id f”r anv„ndaren som ansvarar f”r dokumentet.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Assigned User ID";
                Visible=FALSE }

    { 11  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code of the currency of the amounts on the purchase lines.;
                           NOR=Angir valutakoden for bel›pene p† kj›pslinjene.;
                           SVE=Anger valutakoden f”r beloppen p† ink”psraderna.];
                ApplicationArea=#Suite;
                SourceExpr="Currency Code";
                Visible=FALSE }

    { 1102601001;2;Field  ;
                ToolTipML=[ENU=Specifies the date when the related document was created.;
                           NOR=Angir datoen da de relaterte dokumentet ble opprettet.;
                           SVE=Anger datumet n„r det relaterade dokumentet skapades.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Document Date";
                Visible=FALSE }

    { 1100525003;2;Field  ;
                SourceExpr="Quote Status";
                Visible=FALSE }

    { 1100525002;2;Field  ;
                SourceExpr="ICM Status";
                Visible=FALSE }

    { 1100525001;2;Field  ;
                SourceExpr="ICF Status";
                Visible=FALSE }

    { 1100525000;2;Field  ;
                SourceExpr="ICM File Created on";
                Visible=FALSE }

    { 1102601003;2;Field  ;
                ToolTipML=[ENU=Specifies whether the record is open, waiting to be approved, invoiced for prepayment, or released to the next stage of processing.;
                           NOR=Angir om posten er †pen, om den venter p† godkjenning, om den er fakturert for forskudd eller om den er frigitt til neste fase i behandlingen.;
                           SVE=Anger om posten „r ”ppen, v„ntar p† att godk„nnas, har fakturerats f”r f”rskottsbetalning eller har sl„ppts till n„sta steg i behandlingen.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Status;
                Visible=FALSE }

    { 1102601005;2;Field  ;
                ToolTipML=[ENU=Specifies a formula that calculates the payment due date, payment discount date, and payment discount amount.;
                           NOR=Angir en formel som beregner forfallsdatoen for betalingen, kontantrabattdatoen og kontantrabattbel›pet.;
                           SVE=Anger en formel som ber„knar betalningsf”rfallodatumet, kassarabattsdatumet och kassarabattens belopp.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Payment Terms Code";
                Visible=FALSE }

    { 1102601007;2;Field  ;
                ToolTipML=[ENU=Specifies when the invoice is due.;
                           NOR=Angir n†r fakturaen forfaller.;
                           SVE=Anger n„r fakturan f”rfaller.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Due Date";
                Visible=FALSE }

    { 1100528406;2;Field  ;
                CaptionML=[ENU=Approval by User;
                           SVE=Godk„nnande av anv„ndare];
                SourceExpr=ApprovalManagement4PSConstr.GetNextApprover(RECORDID,0);
                Visible=FALSE }

    { 1100528405;2;Field  ;
                CaptionML=[ENU=Approval by User Name;
                           SVE=Godk„nnande av anv„ndarnamn];
                SourceExpr=ApprovalManagement4PSConstr.GetNextApproverName(RECORDID,0);
                Visible=FALSE }

    { 1102601009;2;Field  ;
                ToolTipML=[ENU=Specifies the payment discount percent granted if payment is made on or before the date in the Pmt. Discount Date field.;
                           NOR=Angir kontantrabattprosenten som gis hvis betaling utf›res innen datoen i feltet Kont.rabattdato.;
                           SVE=Anger den procentuella kassarabatten som anv„nds om betalningen g”rs senast det datum som anges i f„ltet Kassarabattsdatum.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Payment Discount %";
                Visible=FALSE }

    { 1102601011;2;Field  ;
                ToolTipML=[ENU=Specifies how to make payment, such as with bank transfer, cash, or check.;
                           NOR=Angir hvordan du utf›rer en betaling, for eksempel med bankoverf›ring, kontanter eller sjekk.;
                           SVE=Anger hur kunden betalar, t.ex. med bank”verf”ring, kontanter eller check.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Payment Method Code";
                Visible=FALSE }

    { 1102601020;2;Field  ;
                ToolTipML=[ENU=Specifies the delivery conditions of the related shipment, such as free on board (FOB).;
                           NOR=Angir leveringsbetingelsene for den tilknyttede leveringen, for eksempel Fritt ombord (FOB).;
                           SVE=Anger leveransvillkoren f”r den relaterade utleveransen, till exempel fritt ombord.];
                ApplicationArea=#Suite;
                SourceExpr="Shipment Method Code";
                Visible=FALSE }

    { 1102601025;2;Field  ;
                ToolTipML=[ENU="Specifies the date that you want the vendor to deliver your order. The field is used to calculate the latest date you can order, as follows: requested receipt date - lead time calculation = order date. If you do not need delivery on a specific date, you can leave the field blank.";
                           NOR="Angir datoen da du vil at leverand›ren skal levere ordren. Feltet brukes til † beregne n†r du sist kan bestille, p† f›lgende m†te: ›nsket mottaksdato - beregning av leveringstid = ordredato. Hvis leveringen ikke trenger † skje p† en bestemt dato, lar du feltet v‘re tomt.";
                           SVE="Anger det datum som du vill att leverant”ren ska leverera din order. V„rdet i f„ltet anv„nds f”r att ber„kna det sista datumet du kan best„lla artiklarna: inleveransdatum-ber„knad ledtid=orderdatum. Om du inte beh”ver leveransen en viss dag fyller du inte i f„ltet."];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Requested Receipt Date";
                Visible=FALSE }

    { 1100528634;2;Field  ;
                CaptionML=[ENU=Documents;
                           NOR=Dokumenter;
                           SVE=Dokument];
                SourceExpr=HasDocumentLinks;
                Visible=FALSE }

    { 5   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the status of a job queue entry that handles the posting of purchase invoices.;
                           NOR=Angir status for en jobbk›post som h†ndterer bokf›ring av kj›psfakturaer.;
                           SVE=Anger statusen f”r en jobbk”transaktion som hanterar bokf”ringen av ink”psfakturor.];
                ApplicationArea=#All;
                SourceExpr="Job Queue Status";
                Visible=JobQueueActive }

    { 1100525004;2;Field  ;
                SourceExpr="Approval Comment";
                Visible=FALSE }

    { 1100529900;2;Field  ;
                SourceExpr="Processing Status SiB Invoice";
                Visible=FALSE }

    { 1100529901;2;Field  ;
                SourceExpr="Processing Result SiB Invoice";
                Visible=FALSE }

    { 1100528635;2;Field  ;
                CaptionML=[ENU=GS1 Sent on;
                           NOR=GS1 ble sendt den;
                           SVE=GS1 skickades den];
                SourceExpr=PurchaseHeaderExtension."GS1 Sent on";
                Visible=FALSE }

    { 1100528636;2;Field  ;
                CaptionML=[ENU=GS1 Sent by;
                           NOR=GS1 ble sendt av;
                           SVE=GS1 skickades av];
                SourceExpr=PurchaseHeaderExtension."GS1 Sent by";
                Visible=FALSE }

    { 1900000007;0;Container;
                ContainerType=FactBoxArea }

    { 18  ;1   ;Part      ;
                Name=Power BI Report FactBox;
                CaptionML=[ENU=Power BI Reports;
                           NOR=Power BI-rapporter;
                           SVE=Power BI-rapporter];
                ApplicationArea=#Basic,#Suite;
                PagePartID=Page6306;
                Visible=PowerBIVisible;
                PartType=Page }

    { 8   ;1   ;Part      ;
                Name=IncomingDocAttachFactBox;
                ApplicationArea=#Basic,#Suite;
                PagePartID=Page193;
                Visible=FALSE;
                PartType=Page;
                ShowFilter=No }

    { 1100527300;1;Part   ;
                Name=RegisterExternalDocumentFB;
                PagePartID=Page11125053;
                PartType=Page }

    { 1901138007;1;Part   ;
                ApplicationArea=#Basic,#Suite;
                SubPageLink=No.=FIELD(Buy-from Vendor No.),
                            Date Filter=FIELD(Date Filter);
                PagePartID=Page9093;
                PartType=Page }

    { 1900383207;1;Part   ;
                ApplicationArea=#RecordLinks;
                Visible=FALSE;
                PartType=System;
                SystemPartID=RecordLinks }

    { 1905767507;1;Part   ;
                ApplicationArea=#Notes;
                Visible=FALSE;
                PartType=System;
                SystemPartID=Notes }

    { 1100528500;1;Part   ;
                SubPageLink=Document Type=FIELD(Document Type),
                            Document No.=FIELD(No.);
                PagePartID=Page9104;
                PartType=Page }

    { 1100527450;1;Part   ;
                Name=DocumentFilesFactbox;
                PagePartID=Page6085759;
                Visible=FALSE;
                PartType=Page }

  }
  CODE
  {
    VAR
      OpenPostedPurchaseInvQst@1005 : TextConst '@@@="%1 = posted document number";ENU=The invoice is posted as number %1 and moved to the Posted Purchase Invoice window.\\Do you want to open the posted invoice?;NOR=Ordrenÿer bokf›rt som nummer %1 og flyttet til vinduet Bokf›rt salgsfaktura.\\Vil du †pne den bokf›rte fakturaen?;SVE=Fakturan har bokf”rts som nummer %1 och flyttats till f”nstret Bokf”rd ink”psfaktura.\\Vill du ”ppna den bokf”rda fakturan?';
      TotalsMismatchErr@1000 : TextConst 'ENU=The invoice cannot be posted because the total is different from the total on the related incoming document.;NOR=Fakturaen kan ikke bokf›res fordi summen er forskjellig fra summen p† det relaterte innkommende dokumentet.;SVE=Det g†r inte att bokf”ra fakturan eftersom summan skiljer sig fr†n totalbeloppet i det relaterade inkommande dokumentet.';
      PurchaseHeaderExtension@1100528604 : Record 11020398;
      ReportPrint@1008 : Codeunit 228;
      JobQueueActive@1003 : Boolean INDATASET;
      OpenApprovalEntriesExist@1002 : Boolean;
      CanCancelApprovalForRecord@1001 : Boolean;
      PowerBIVisible@1004 : Boolean;
      ReadyToPostQst@1009 : TextConst '@@@=%1 - selected count, %2 - total count;ENU=%1 out of %2 selected invoices are ready for post. \Do you want to continue and post them?;NOR=%1 av %2 utvalgte fakturaer er klare til † bokf›res. \Vil du fortsette og bokf›re dem?;SVE=%1 av %2 valda fakturor „r klara att bokf”ras. \Vill du forts„tta och bokf”ra dem?';
      CanRequestApprovalForFlow@1010 : Boolean;
      CanCancelApprovalForFlow@1011 : Boolean;
      DPA_IsHardFilter@1100000999 : Boolean;
      PurchActTxt@1100528600 : Text[50];
      OpenApprovalEntriesExistForCurrUser@1100528400 : Boolean;
      ApprovalManagement4PSConstr@1100528401 : Codeunit 11125349;
      DCActive@1100527450 : Boolean;

    LOCAL PROCEDURE SetControlAppearance@5();
    VAR
      ApprovalsMgmt@1000 : Codeunit 1535;
      WorkflowWebhookManagement@1001 : Codeunit 1543;
    BEGIN
      OpenApprovalEntriesExist := ApprovalsMgmt.HasOpenApprovalEntries(RECORDID);

      CanCancelApprovalForRecord := ApprovalsMgmt.CanCancelApprovalForRecord(RECORDID);

      WorkflowWebhookManagement.GetCanRequestAndCanCancel(RECORDID,CanRequestApprovalForFlow,CanCancelApprovalForFlow);

      //**4PS.sn
      OpenApprovalEntriesExistForCurrUser := ApprovalsMgmt.HasOpenApprovalEntriesForCurrentUser(RECORDID);
      //**4PS.en
    END;

    [External]
    PROCEDURE Post@4(PostingCodeunitID@1000 : Integer);
    VAR
      ApplicationAreaMgmtFacade@1002 : Codeunit 9179;
      LinesInstructionMgt@1001 : Codeunit 1320;
    BEGIN
      IF ApplicationAreaMgmtFacade.IsFoundationEnabled THEN
        LinesInstructionMgt.PurchaseCheckAllLinesHaveQuantityAssigned(Rec);

      SendToPosting(PostingCodeunitID);

      IF ApplicationAreaMgmtFacade.IsFoundationEnabled THEN
        ShowPostedConfirmationMessage;
    END;

    LOCAL PROCEDURE ShowPostedConfirmationMessage@7();
    VAR
      PurchInvHeader@1000 : Record 122;
      InstructionMgt@1001 : Codeunit 1330;
    BEGIN
      PurchInvHeader.SETRANGE("Pre-Assigned No.","No.");
      PurchInvHeader.SETRANGE("Order No.",'');
      IF PurchInvHeader.FINDFIRST THEN
        IF InstructionMgt.ShowConfirm(STRSUBSTNO(OpenPostedPurchaseInvQst,PurchInvHeader."No."),
             InstructionMgt.ShowPostedConfirmationMessageCode)
        THEN
          PAGE.RUN(PAGE::"Posted Purchase Invoice",PurchInvHeader);
    END;

    [External]
    PROCEDURE VerifyTotal@1(PurchaseHeader@1000 : Record 38);
    BEGIN
      IF NOT PurchaseHeader.IsTotalValid THEN
        ERROR(TotalsMismatchErr);
    END;

    BEGIN
    {
      4PS 29-03-18 DP01917 OLKOL: Fields "Approval Comment" added
    }
    END.
  }
}

