OBJECT Page 146 Posted Purchase Invoices
{
  OBJECT-PROPERTIES
  {
    Date=;
    Time=;
    Version List=NAVW114.04,4PS14.00,4PSSE;
  }
  PROPERTIES
  {
    Editable=No;
    CaptionML=[ENU=Posted Purchase Invoices;
               NOR=Bokfõrte kjõpsfakturaer;
               SVE=Bokfîrda inkîpsfakturor];
    ApplicationArea=#Basic,#Suite;
    SourceTable=Table122;
    SourceTableView=SORTING(Posting Date)
                    ORDER(Descending);
    PageType=List;
    UsageCategory=History;
    CardPageID=Posted Purchase Invoice;
    RefreshOnActivate=Yes;
    PromotedActionCategoriesML=[ENU=New,Process,Report,Correct,Invoice,Print,Print/Send,Navigate,Approval;
                                NOR=Ny,Prosess,Rapport,Korriger,Faktura,Skriv ut,Skriv ut / send,Naviger;
                                SVE=Ny,Process,Rapport,Korrigera,Faktura,Skriv ut,Skriv ut/skicka,Navigera];
    OnOpenPage=VAR
                 OfficeMgt@1000 : Codeunit 1630;
                 HasFilters@1001 : Boolean;
               BEGIN
                 HasFilters := GETFILTERS <> '';
                 SetSecurityFilterOnRespCenter;

                 //**4PS Generated Code. Do Not Change.sn01
                 DPA_IsHardFilter := DPA_SetFilters(CurrPage.OBJECTID(FALSE));
                 //**4PS Generated Code.en01

                 PurchSetup.GET; //**4PS.n
                 DCActive := IsDocumentCaptureActive; //DC or 4PS.n

                 IF HasFilters THEN
                   IF FINDFIRST THEN;
                 IsOfficeAddin := OfficeMgt.IsAvailable;
                 IsFoundationEnabled := ApplicationAreaMgmtFacade.IsFoundationEnabled;
               END;

    OnAfterGetRecord=BEGIN
                       RcptAmnt := GetReceiptAmount;  //**4PS
                     END;

    OnNewRecord=BEGIN
                  //**4PS Generated Code. Do Not Change.sn02
                  DPA_SetDefaultDepartment;
                  //**4PS Generated Code.en02
                END;

    OnInsertRecord=VAR
                     xRecRef@1100000999 : RecordRef;
                   BEGIN
                     //**4PS Generated Code. Do Not Change.sn05
                     xRecRef.GETTABLE(xRec);
                     DPA_SetDefaultDpmtFromNoSeries(xRecRef);
                     //**4PS Generated Code.en05
                   END;

    OnAfterGetCurrRecord=BEGIN
                           CurrPage.IncomingDocAttachFactBox.PAGE.LoadDataFromRecord(Rec);
                           SetControlAppearance;
                         END;

    ActionList=ACTIONS
    {
      { 1900000003;0 ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 21      ;1   ;ActionGroup;
                      CaptionML=[ENU=&Invoice;
                                 NOR=F&aktura;
                                 SVE=Fa&ktura];
                      Image=Invoice }
      { 29      ;2   ;Action    ;
                      ShortCutKey=F7;
                      CaptionML=[ENU=Statistics;
                                 NOR=Statistikk;
                                 SVE=Statistik];
                      ToolTipML=[ENU=View statistical information, such as the value of posted entries, for the record.;
                                 NOR=Vis statistikkinformasjon, for eksempel verdien for bokfõrte poster, for posten.;
                                 SVE=Visa statistisk information fîr posten, till exempel vÑrdet pÜ bokfîrda transaktioner.];
                      ApplicationArea=#Suite;
                      RunObject=Page 400;
                      RunPageLink=No.=FIELD(No.);
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Statistics;
                      PromotedCategory=Category5 }
      { 30      ;2   ;Action    ;
                      CaptionML=[ENU=Co&mments;
                                 NOR=&Merknader;
                                 SVE=Ko&mmentarer];
                      ToolTipML=[ENU=View or add comments for the record.;
                                 NOR=Vis eller legg til kommentarer for posten.;
                                 SVE=Visa eller lÑgg till kommentarer till posten.];
                      ApplicationArea=#Comments;
                      RunObject=Page 66;
                      RunPageLink=Document Type=CONST(Posted Invoice),
                                  No.=FIELD(No.);
                      Promoted=Yes;
                      Image=ViewComments;
                      PromotedCategory=Category5 }
      { 1102601000;2 ;Action    ;
                      AccessByPermission=TableData 348=R;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=[ENU=Dimensions;
                                 NOR=Dimensjoner;
                                 SVE=Dimensioner];
                      ToolTipML=[ENU=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
                                 NOR=Vis eller rediger dimensjoner, for eksempel omrÜde, prosjekt eller avdeling, som du kan tilordne til salgs- og kjõpsdokumenter for Ü distribuere kostnader og analysere transaksjonshistorikk.;
                                 SVE=Visa eller redigera dimensioner, till exempel omrÜde, projekt eller avdelning, som du kan tilldela fîrsÑljnings- och inkîpsdokument fîr att fîrdela kostnader och analysera transaktionshistorik.];
                      ApplicationArea=#Dimensions;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Dimensions;
                      PromotedCategory=Category5;
                      OnAction=BEGIN
                                 ShowDimensions;
                               END;
                                }
      { 5       ;2   ;Action    ;
                      Name=IncomingDoc;
                      AccessByPermission=TableData 130=R;
                      CaptionML=[ENU=Incoming Document;
                                 NOR=InngÜende dokument;
                                 SVE=Inkommande dokument];
                      ToolTipML=[ENU=View or create an incoming document record that is linked to the entry or document.;
                                 NOR=Viser eller oppretter en post for innkommende dokument som er koblet til oppfõringen eller dokumentet.;
                                 SVE=Visa eller skapa en inkommande dokumentpost som Ñr lÑnkad till transaktionen eller dokumentet.];
                      ApplicationArea=#Basic,#Suite;
                      Image=Document;
                      OnAction=VAR
                                 IncomingDocument@1000 : Record 130;
                               BEGIN
                                 IncomingDocument.ShowCard("No.","Posting Date");
                               END;
                                }
      { 1100285100;2 ;Action    ;
                      CaptionML=[ENU=Show &Documents;
                                 SVE=Visa &dokument];
                      Promoted=Yes;
                      Image=Documents;
                      PromotedCategory=Report;
                      OnAction=VAR
                                 RecRef@1210190001 : RecordRef;
                                 DocumentFilters@1210190000 : Codeunit 11012432;
                                 SourceCodeSetup@1000000001 : Record 242;
                                 PurchInvHeader@1000000000 : Record 122;
                                 PurchCredHeader@1100285300 : Record 124;
                                 DocumentFilter@1000000003 : Record 11012073;
                                 GlobalTempDocumentProperties@1000000002 : TEMPORARY Record 11012746;
                               BEGIN
                                 //RFC136
                                 //160324
                                 SourceCodeSetup.GET;
                                 CASE "Source Code" OF
                                   SourceCodeSetup.Purchases,'':
                                     BEGIN
                                       IF PurchInvHeader.GET("No.") THEN
                                         RecRef.GETTABLE(PurchInvHeader)
                                       ELSE
                                         IF PurchCredHeader.GET("No.") THEN
                                           RecRef.GETTABLE(PurchCredHeader)
                                         ELSE
                                           RecRef.GETTABLE(Rec);
                                     END;
                                   ELSE
                                     RecRef.GETTABLE(Rec);
                                 END;

                                 DocumentFilters.CreateTemporaryFilter(RecRef, DocumentFilter);
                                 COMMIT;

                                 DocumentFilters.ApplyDocumentFilter(DocumentFilter, GlobalTempDocumentProperties);
                                 GlobalTempDocumentProperties.SETRANGE("From Filter Form", FALSE);
                                 CASE GlobalTempDocumentProperties.COUNT OF
                                   0:
                                     CASE RecRef.NUMBER OF
                                      122: BEGIN PurchInvHeader.SETRECFILTER; PurchInvHeader.PrintRecords(TRUE); END;
                                      124: BEGIN PurchCredHeader.SETRECFILTER; PurchCredHeader.PrintRecords(TRUE,FALSE); END;
                                     END;
                                   1:  GlobalTempDocumentProperties.OpenDocument;
                                   ELSE
                                   PAGE.RUNMODAL(0, GlobalTempDocumentProperties);
                                 END;
                               END;
                                }
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 22      ;1   ;Action    ;
                      Ellipsis=Yes;
                      CaptionML=[ENU=&Print;
                                 NOR=&Skriv ut;
                                 SVE=Skriv &ut];
                      ToolTipML=[ENU=Prepare to print the document. A report request window for the document opens where you can specify what to include on the print-out.;
                                 NOR=Klargjõr for Ü skrive ut dokumentet. Det vises et rapportforespõrselsvindu for dokumentet der du kan angi hva som skal inkluderes pÜ utskriften.;
                                 SVE=Fîrbered utskrift av dokumentet. Ett rapportfînster om dokumentet îppnas dÑr det gÜr att ange vad du vill inkludera pÜ utskriften.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Visible=NOT IsOfficeAddin;
                      Image=Print;
                      PromotedCategory=Category7;
                      OnAction=VAR
                                 PurchInvHeader@1102 : Record 122;
                               BEGIN
                                 CurrPage.SETSELECTIONFILTER(PurchInvHeader);
                                 PurchInvHeader.PrintRecords(TRUE);
                               END;
                                }
      { 18      ;1   ;Action    ;
                      Name=Navigate;
                      CaptionML=[ENU=&Navigate;
                                 NOR=&Naviger;
                                 SVE=Anal&ysera];
                      ToolTipML=[ENU=Find all entries and documents that exist for the document number and posting date on the selected posted purchase document.;
                                 NOR=Finn alle poster og dokumenter som finnes for dokumentnummeret og bokfõringsdatoen pÜ det valgte bokfõrte kjõpsdokumentet.;
                                 SVE=Sîk efter alla transaktioner och dokument som existerar fîr dokumentnumret och bokfîringsdatumet pÜ det valda bokfîrda inkîpsdokumentet.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Visible=NOT IsOfficeAddin;
                      Image=Navigate;
                      PromotedCategory=Category5;
                      Scope=Repeater;
                      OnAction=BEGIN
                                 Navigate;
                               END;
                                }
      { 26      ;1   ;ActionGroup;
                      Name=RelatedInformationNavigation;
                      CaptionML=[ENU=Navigation;
                                 NOR=Navigasjon;
                                 SVE=Navigering];
                      Image=Invoice }
      { 24      ;2   ;Action    ;
                      Name=Vendor;
                      ShortCutKey=Shift+F7;
                      CaptionML=[ENU=Vendor;
                                 NOR=Leverandõr;
                                 SVE=Leverantîr];
                      ToolTipML=[ENU=View or edit detailed information about the vendor on the purchase document.;
                                 NOR=Vis eller rediger detaljert informasjon om leverandõren i kjõpsdokumentet.;
                                 SVE=Visa eller redigera detaljerad information om leverantîren pÜ inkîpsdokumentet.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 26;
                      RunPageLink=No.=FIELD(Buy-from Vendor No.);
                      Promoted=Yes;
                      Image=Vendor;
                      PromotedCategory=Category8;
                      Scope=Repeater }
      { 16      ;1   ;ActionGroup;
                      CaptionML=[ENU=Correct;
                                 NOR=Korriger;
                                 SVE=Korrigera] }
      { 12      ;2   ;Action    ;
                      Name=CorrectInvoice;
                      CaptionML=[ENU=Correct;
                                 NOR=Korriger;
                                 SVE=Korrigera];
                      ToolTipML=[ENU=Reverse this posted invoice and automatically create a new invoice with the same information that you can correct before posting. This posted invoice will automatically be canceled.;
                                 NOR=Tilbakefõr denne bokfõrte fakturaen, og opprett automatisk en ny faktura med den samme informasjonen som du kan korrigere fõr bokfõring. Denne bokfõrte fakturaen annulleres automatisk.;
                                 SVE=èterfîr den hÑr bokfîrda fakturan och skapa automatiskt en ny faktura med samma information som du kan Ñndra innan den bokfîrs. Den hÑr bokfîrda inkîpsfakturan annulleras automatiskt.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Visible=IsFoundationEnabled;
                      PromotedIsBig=Yes;
                      Image=Undo;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes;
                      Scope=Repeater;
                      OnAction=BEGIN
                                 CODEUNIT.RUN(CODEUNIT::"Correct PstdPurchInv (Yes/No)",Rec);
                               END;
                                }
      { 14      ;2   ;Action    ;
                      Name=CancelInvoice;
                      CaptionML=[ENU=Cancel;
                                 NOR=Annuller;
                                 SVE=Avbryt];
                      ToolTipML=[ENU=Create and post a purchase credit memo that reverses this posted purchase invoice. This posted purchase invoice will be canceled.;
                                 NOR=Opprett og bokfõr en kjõpskreditnota som tilbakefõrer denne bokfõrte kjõpsfakturaen. Denne bokfõrte kjõpsfakturaen vil bli annullert.;
                                 SVE=Skapa och bokfîr en inkîpskreditnota som Üterfîr den hÑr bokfîrda inkîpsfakturan. Den hÑr bokfîrda inkîpsfakturan annulleras.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Visible=IsFoundationEnabled;
                      PromotedIsBig=Yes;
                      Image=Cancel;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes;
                      Scope=Repeater;
                      OnAction=BEGIN
                                 CODEUNIT.RUN(CODEUNIT::"Cancel PstdPurchInv (Yes/No)",Rec);
                               END;
                                }
      { 11      ;2   ;Action    ;
                      Name=CreateCreditMemo;
                      CaptionML=[ENU=Create Corrective Credit Memo;
                                 NOR=Opprett korrigerende kreditnota;
                                 SVE=Skapa korrigerande kreditnota];
                      ToolTipML=[ENU=Create a credit memo for this posted invoice that you complete and post manually to reverse the posted invoice.;
                                 NOR=Opprett en kreditnota for denne bokfõrte fakturaen som du fullfõrer og bokfõrer manuelt for Ü tilbakefõre den bokfõrte fakturaen.;
                                 SVE=Skapa en kreditnota fîr den hÑr bokfîrda fakturan, som du fyller i och bokfîr manuellt fîr att Üterfîra den bokfîrda fakturan.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Image=CreateCreditMemo;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes;
                      Scope=Repeater;
                      OnAction=VAR
                                 PurchaseHeader@1001 : Record 38;
                                 CorrectPostedPurchInvoice@1000 : Codeunit 1313;
                               BEGIN
                                 IF CorrectPostedPurchInvoice.CreateCreditMemoCopyDocument(Rec,PurchaseHeader) THEN
                                   PAGE.RUN(PAGE::"Purchase Credit Memo",PurchaseHeader);
                               END;
                                }
      { 20      ;2   ;Action    ;
                      Name=ShowCreditMemo;
                      CaptionML=[ENU=Show Canceled/Corrective Credit Memo;
                                 NOR=Vis annullert/korrigerende kreditnota;
                                 SVE=Visa annullerad/korrigerande kreditnota];
                      ToolTipML=[ENU=Open the posted purchase credit memo that was created when you canceled the posted purchase invoice. If the posted purchase invoice is the result of a canceled purchase credit memo, then the canceled purchase credit memo will open.;
                                 NOR=èpne den bokfõrte kjõpskreditnotaen som ble opprettet da du kansellerte den bokfõrte kjõpsfakturaen. Hvis den bokfõrte kjõpsfakturaen er et resultat av den kansellerte kjõpskreditnotaen, sÜ vil den kansellerte kjõpskreditnotaen bli Üpnet.;
                                 SVE=ôppna den bokfîrda inkîpskreditnotan som skapades nÑr du annullerade den bokfîrda inkîpsfakturan. Om den bokfîrda inkîpsfakturan Ñr resultatet av en annullerad inkîpskreditnota îppnas den annullerade inkîpskreditnotan.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Enabled=Cancelled OR Corrective;
                      Image=CreditMemo;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes;
                      Scope=Repeater;
                      OnAction=BEGIN
                                 ShowCanceledOrCorrCrMemo;
                               END;
                                }
      { 34      ;1   ;Action    ;
                      Name=Update Document;
                      CaptionML=[ENU=Update Document;
                                 NOR=Oppdater dokument;
                                 SVE=Uppdatera dokument];
                      ToolTipML=[ENU=Add new information that is relevant to the document, such as a payment reference. You can only edit a few fields because the document has already been posted.;
                                 NOR=Legg til ny informasjon som er relevant i dokumentet, for eksempel en betalingsreferanse. Du kan bare redigere noen fÜ felter fordi dokumentet allerede er bokfõrt.;
                                 SVE=LÑgg till ny information som Ñr relevant fîr dokumentet, till exempel en betalningsreferens. Du kan bara redigera nÜgra av fÑlten eftersom dokumentet redan har bokfîrts.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Edit;
                      PromotedCategory=Process;
                      PromotedOnly=Yes;
                      OnAction=VAR
                                 PostedPurchInvoiceUpdate@1000 : Page 1351;
                               BEGIN
                                 PostedPurchInvoiceUpdate.LOOKUPMODE := TRUE;
                                 PostedPurchInvoiceUpdate.SetRec(Rec);
                                 PostedPurchInvoiceUpdate.RUNMODAL;
                               END;
                                }
      { 1100528410;1 ;ActionGroup;
                      CaptionML=[ENU=Approval;
                                 SVE=GodkÑnnande] }
      { 1100528409;2 ;Action    ;
                      Name=Approve;
                      CaptionML=[ENU=Approve;
                                 SVE=GodkÑnn];
                      Promoted=Yes;
                      Enabled=OpenApprovalEntriesExistForCurrUser;
                      PromotedIsBig=Yes;
                      Image=Approve;
                      PromotedCategory=Category9;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 ApprovalsMgmt.ApproveRecordApprovalRequest(RECORDID)
                               END;
                                }
      { 1100528408;2 ;Action    ;
                      Name=Reject;
                      CaptionML=[ENU=Reject;
                                 SVE=Avvisa];
                      Promoted=Yes;
                      Enabled=OpenApprovalEntriesExistForCurrUser;
                      PromotedIsBig=Yes;
                      Image=Reject;
                      PromotedCategory=Category9;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 ApprovalsMgmt.RejectRecordApprovalRequest(RECORDID)
                               END;
                                }
      { 1100528407;2 ;Action    ;
                      Name=Delegate;
                      CaptionML=[ENU=Delegate;
                                 SVE=Delegera];
                      Promoted=Yes;
                      Enabled=OpenApprovalEntriesExistForCurrUser;
                      Image=Delegate;
                      PromotedCategory=Category9;
                      OnAction=VAR
                                 ApprovalsMgmt@1000 : Codeunit 1535;
                               BEGIN
                                 ApprovalsMgmt.DelegateRecordApprovalRequest(RECORDID)
                               END;
                                }
      { 1100528406;2 ;Action    ;
                      Name=Comment;
                      CaptionML=[ENU=Comments;
                                 SVE=Kommentar];
                      Promoted=Yes;
                      Enabled=OpenApprovalEntriesExistForCurrUser;
                      Image=ViewComments;
                      PromotedCategory=Category9;
                      OnAction=VAR
                                 ApprovalEntry@1100525001 : Record 454;
                                 ApprovalCommentLine@1100525000 : Record 455;
                               BEGIN
                                 //4Ps.sn
                                 IF OpenApprovalEntriesExist THEN BEGIN
                                   //ApprovalManagement4PSConstr.FilterApprovalEntryOpen(2, "No.", ApprovalEntry, FALSE);//**4PS C049344.o
                                   ApprovalManagement4PSConstr.FilterApprovalEntryOpen(DATABASE::"Purch. Inv. Header", 2, "No.", ApprovalEntry, FALSE);//**4PS C049344.n
                                   ApprovalCommentLine.SETRANGE("Table ID", DATABASE::"Purch. Inv. Header");
                                   ApprovalCommentLine.SETRANGE("Document No.", "No.");
                                   ApprovalCommentLine.SETRANGE("Record ID to Approve", RECORDID);
                                   ApprovalCommentLine."Workflow Step Instance ID" := ApprovalEntry."Workflow Step Instance ID";
                                   ApprovalManagement4PSConstr.DrillDownApprovalCommentsHdr(ApprovalEntry,ApprovalCommentLine);
                                 END;
                                 //4Ps.en
                               END;
                                }
      { 1100525005;2 ;Action    ;
                      CaptionML=[ENU=&On Hold;
                                 SVE=S&toppad];
                      Promoted=Yes;
                      Visible=FALSE;
                      PromotedIsBig=Yes;
                      Image=Lock;
                      PromotedCategory=Category9;
                      OnAction=VAR
                                 ApprovalsBridge4PSConstruct@1100525000 : Codeunit 11125348;
                               BEGIN
                                 ApprovalsBridge4PSConstruct.OnHold(Rec);
                                 CurrPage.UPDATE;
                               END;
                                }
      { 1100528405;1 ;ActionGroup;
                      CaptionML=[ENU=Request Approval;
                                 SVE=BegÑr godkÑnnande];
                      Image=Action }
      { 1100528404;2 ;Action    ;
                      Name=SendApprovalRequest;
                      CaptionML=[ENU=Send A&pproval Request;
                                 SVE=Skicka godk&ÑnnandebegÑran];
                      Promoted=Yes;
                      Enabled=NOT OpenApprovalEntriesExist;
                      Image=SendApprovalRequest;
                      PromotedCategory=Category9;
                      OnAction=VAR
                                 ApprovalManagement4PSConstr@1100528400 : Codeunit 11125349;
                                 ApprovalsBridge4PSConstruct@1100528401 : Codeunit 11125348;
                               BEGIN
                                 ApprovalManagement4PSConstr.CheckPostedPurchaseInvoiceApprovalsWorkflowEnabled(Rec);
                                   ApprovalsBridge4PSConstruct.OnSendPostedPurchaseInvoiceForApproval(Rec);
                               END;
                                }
      { 1100528403;2 ;Action    ;
                      Name=CancelApprovalRequest;
                      CaptionML=[ENU=Cancel Approval Re&quest;
                                 SVE=Annullera &godkÑnnandebegÑran];
                      Promoted=Yes;
                      Enabled=CanCancelApprovalForRecord;
                      Image=Cancel;
                      PromotedCategory=Category9;
                      OnAction=VAR
                                 ApprovalsBridge4PSConstruct@1100528400 : Codeunit 11125348;
                               BEGIN
                                 ApprovalsBridge4PSConstruct.OnCancelPostedPurchaseInvoiceApprovalRequest(Rec);
                               END;
                                }
      { 1100525003;1 ;Action    ;
                      CaptionML=ENU=Show Original &E-mail;
                      Visible=DCActive;
                      Enabled=DCActive;
                      Image=SendApprovalRequest;
                      OnAction=VAR
                                 PurchDocMgnt@1100525000 : Codeunit 6085709;
                               BEGIN
                                 PurchDocMgnt.OpenEmailFile(Rec);
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                GroupType=Repeater }

    { 4   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the involved entry or record, according to the specified number series.;
                           NOR=Angir nummeret pÜ den aktuelle oppfõringen eller posten, i henhold til den angitte nummerserien.;
                           SVE=Anger numret fîr den berîrda transaktionen eller posten, enligt den angivna nummerserien.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="No." }

    { 32  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the associated order.;
                           NOR=Angir nummeret pÜ den tilknyttede ordren.;
                           SVE=Anger numret pÜ den associerade ordern.];
                ApplicationArea=#Suite;
                SourceExpr="Order No.";
                Visible=FALSE }

    { 28  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the document number of the original document you received from the vendor. You can require the document number for posting, or let it be optional. By default, it's required, so that this document references the original. Making document numbers optional removes a step from the posting process. For example, if you attach the original invoice as a PDF, you might not need to enter the document number. To specify whether document numbers are required, in the Purchases & Payables Setup window, select or clear the Ext. Doc. No. Mandatory field.;
                           NOR=Angir dokumentnummeret for det opprinnelige dokumentet du mottok fra leverandõren. Du kan kreve dokumentnummeret for bokfõring eller la det vëre valgfritt. Det er obligatorisk som standard, slik at dette dokumentet refererer til originalen. Hvis dokumentnumre gjõres valgfrie, fjernes et trinn fra bokfõringsprosessen. Hvis du for eksempel legger ved den opprinnelige fakturaen som en PDF-fil, kan det hende du ikke behõver Ü angi dokumentnummeret. Hvis du vil angi om dokumentnummeret er obligatorisk, gÜr du til vinduet for kjõpsoppsett, og merker av for eller fjerner merket for feltet Eksternt dokumentnr. obligatorisk.;
                           SVE=Anger dokumentnumret fîr det ursprungliga dokumentet som du har fÜtt frÜn leverantîren. Du kan krÑva dokumentnumret fîr bokfîring eller lÜta det vara frivilligt. Som standard krÑvs det i syfte att lÜta detta dokument referera till det ursprungliga. Vid valfria dokumentnummer fîrsvinner ett steg frÜn bokfîringsprocessen. Om du till exempel bifogar den ursprungliga fakturan som en PDF kanske du inte behîver ange dokumentnumret. Fîr att ange om dokumentnummer krÑvs, vÑlj eller rensa fÑltet Externt dok.nr obligatoriskt i fînstret Inkîp & InkîpsinstÑllningar.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Vendor Invoice No." }

    { 2   ;2   ;Field     ;
                CaptionML=[ENU=Vendor No.;
                           NOR=Leverandõrnr.;
                           SVE=Leverantîrsnr];
                ToolTipML=[ENU=Specifies the identifier of the vendor that you bought the items from.;
                           NOR=Angir ID-en for leverandõren som du kjõpte varene fra.;
                           SVE=Anger identifieraren fîr leverantîren som du kîpte artiklarna av.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Buy-from Vendor No." }

    { 15  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the order address of the related vendor.;
                           NOR=Angir bestillingsadressen for den relaterte leverandõren.;
                           SVE=Anger den relaterade leverantîrens orderadress.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Order Address Code";
                Visible=FALSE }

    { 6   ;2   ;Field     ;
                CaptionML=[ENU=Vendor;
                           NOR=Leverandõr;
                           SVE=Leverantîr];
                ToolTipML=[ENU=Specifies the name of the vendor who shipped the items.;
                           NOR=Angir navnet pÜ leverandõren som leverte varene.;
                           SVE=Anger namnet pÜ leverantîren som levererade artiklarna.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Buy-from Vendor Name" }

    { 1100525002;2;Field  ;
                SourceExpr="Buy-from Vendor Name 2";
                Visible=FALSE }

    { 1210190000;2;Field  ;
                SourceExpr="Job No." }

    { 1210190014;2;Field  ;
                SourceExpr="Service Order No.";
                Visible=FALSE }

    { 1100528800;2;Field  ;
                SourceExpr="Related Purch. Order No.";
                Visible=FALSE }

    { 35  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the currency code used to calculate the amounts on the invoice.;
                           NOR=Angir valutakoden som er brukt til Ü beregne belõpene i fakturaen.;
                           SVE=Anger valutakoden som anvÑnds fîr att berÑkna fakturans belopp.];
                ApplicationArea=#Suite;
                SourceExpr="Currency Code" }

    { 1100525000;2;Field  ;
                SourceExpr="Open Approval Entry";
                Editable=FALSE }

    { 13  ;2   ;Field     ;
                DrillDown=No;
                ToolTipML=[ENU=Specifies the total, in the currency of the invoice, of the amounts on all the invoice lines.;
                           NOR=Angir summen av belõpene pÜ alle fakturalinjene i fakturaens valuta.;
                           SVE=Anger summan beloppen pÜ alla fakturarader och visas i fakturans valuta.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Amount }

    { 17  ;2   ;Field     ;
                DrillDown=No;
                ToolTipML=[ENU=Specifies the total of the amounts, including VAT, on all the lines on the document.;
                           NOR=Angir summen av belõpene, inkludert mva, pÜ alle linjene i dokumentet.;
                           SVE=Anger summan av beloppen, inklusive moms, pÜ fakturaraderna i dokumentet.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Amount Including VAT" }

    { 1210190006;2;Field  ;
                SourceExpr="Wage Charge (to B Account)";
                Visible=FALSE }

    { 1210190008;2;Field  ;
                SourceExpr="Wage Charge (to Tax Authority)";
                Visible=FALSE }

    { 1210190002;2;Field  ;
                CaptionML=[ENU=Receipt Amount;
                           SVE=Inleveransbelopp];
                SourceExpr=RcptAmnt;
                OnDrillDown=BEGIN
                              //**4PS
                              PurchInvHeader.SETRANGE("No.", "No.");
                              PAGE.RUNMODAL(PAGE::"Posted Purchase Invoice", PurchInvHeader);
                            END;
                             }

    { 31  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the post code of the vendor who delivered the items.;
                           NOR=Angir postnummeret for leverandõren som leverte varene.;
                           SVE=Anger postnumret fîr leverantîren som levererade artiklarna.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Buy-from Post Code";
                Visible=FALSE }

    { 25  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the city of the vendor who delivered the items.;
                           NOR=Angir poststedet til leverandõren som leverte varene.;
                           SVE=Anger orten fîr leverantîren som levererade artiklarna.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Buy-from Country/Region Code";
                Visible=FALSE }

    { 39  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the name of the contact person at the vendor who delivered the items.;
                           NOR=Angir navnet pÜ kontaktpersonen hos leverandõren som leverte varene.;
                           SVE=Anger namnet pÜ kontaktpersonen hos leverantîren som levererade artiklarna.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Buy-from Contact";
                Visible=FALSE }

    { 137 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the vendor that you received the invoice from.;
                           NOR=Angir nummeret til leverandõren du har mottatt fakturaen fra.;
                           SVE=Anger numret pÜ leverantîren som du mottog fakturan av.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Pay-to Vendor No.";
                Visible=FALSE }

    { 135 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the name of the vendor who you received the invoice from.;
                           NOR=Angir navnet pÜ leverandõren du har mottatt fakturaen fra.;
                           SVE=Anger namnet pÜ leverantîren som du mottog fakturan av.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Pay-to Name";
                Visible=FALSE }

    { 1100525004;2;Field  ;
                SourceExpr="Pay-to Name 2";
                Visible=FALSE }

    { 37  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the post code of the vendor that you received the invoice from.;
                           NOR=Angir postnummeret for leverandõren som du har mottatt fakturaen fra.;
                           SVE=Anger postnumret fîr leverantîren som du mottog fakturan av.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Pay-to Post Code";
                Visible=FALSE }

    { 33  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the country/region code of the address.;
                           NOR=Angir lands-/omrÜdekoden for adressen.;
                           SVE=Anger adressens lands-/regionkod.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Pay-to Country/Region Code";
                Visible=FALSE }

    { 125 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the name of the person you should contact at the vendor who you received the invoice from.;
                           NOR=Angir navnet pÜ kontaktperson hos leverandõren som du mottok fakturaen fra.;
                           SVE=Anger namnet pÜ kontaktpersonen hos leverantîren som du mottog fakturan frÜn.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Pay-to Contact";
                Visible=FALSE }

    { 1101200000;2;Field  ;
                SourceExpr="Your Reference";
                Visible=FALSE }

    { 121 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a code for an alternate shipment address if you want to ship to another address than the one that has been entered automatically. This field is also used in case of drop shipment.;
                           NOR=Angir en kode for en alternativ leveringsadresse hvis du vil levere til en annen adresse enn den som er angitt automatisk. Dette feltet brukes ogsÜ ved direkte levering.;
                           SVE=Anger en kod fîr en alternativ leveransadress om du vill leverera till en annan adress Ñn den som har angetts automatiskt. Det hÑr fÑltet anvÑnds ocksÜ vid direktutleverans.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Ship-to Code";
                Visible=FALSE }

    { 119 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the name of the customer at the address that the items are shipped to.;
                           NOR=Angir navnet pÜ kunden pÜ adressen som varene blir levert til.;
                           SVE=Anger namnet pÜ kunden pÜ adressen som artiklarna levereras till.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Ship-to Name";
                Visible=FALSE }

    { 1100525006;2;Field  ;
                SourceExpr="Ship-to Name 2";
                Visible=FALSE }

    { 23  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the postal code of the address that the items are shipped to.;
                           NOR=Angir postnummeret for adressen som varene sendes til.;
                           SVE=Anger postnumret i adressen som artiklarna levereras till.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Ship-to Post Code";
                Visible=FALSE }

    { 19  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the country/region code of the address that the items are shipped to.;
                           NOR=Angir lands-/omrÜdekoden for adressen som varene sendes til.;
                           SVE=Anger lands-/regionkoden i adressen som artiklarna levereras till.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Ship-to Country/Region Code";
                Visible=FALSE }

    { 109 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the name of the contact person at the address that the items are shipped to.;
                           NOR=Angir navnet pÜ kontaktpersonen pÜ adressen som varene blir sendt til.;
                           SVE=Anger namnet pÜ kontaktpersonen pÜ adressen som artiklarna levereras till.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Ship-to Contact";
                Visible=FALSE }

    { 105 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the date the purchase header was posted.;
                           NOR=Angir datoen da bestillingshodet ble bokfõrt.;
                           SVE=Anger datumet dÜ inkîpsordern bokfîrdes.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Posting Date";
                Visible=FALSE }

    { 73  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies which purchaser is assigned to the vendor.;
                           NOR=Angir hvilken innkjõper som er knyttet til leverandõren.;
                           SVE=Anger vilken inkîpare som Ñr kopplad till leverantîren.];
                ApplicationArea=#Suite;
                SourceExpr="Purchaser Code";
                Visible=FALSE }

    { 87  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for Shortcut Dimension 1, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                           NOR=Angir koden til Snarveisdimensjon 1, som er Çn av to globale dimensjonskoder som du har definert i vinduet Finansoppsett.;
                           SVE=Anger koden fîr GenvÑg dimension 1, som Ñr en av tvÜ globala dimensionskoder som du stÑller in i fînstret RedovisningsinstÑllningar.];
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 1 Code";
                Visible=FALSE;
                OnValidate=BEGIN
                             //**4PS Generated Code. Do Not Change.sn03
                             DPA_ChkDepartmentCodeAllowed(DPA_IsHardFilter);
                             //**4PS Generated Code.en03
                           END;
                            }

    { 85  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for Shortcut Dimension 2, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                           NOR=Angir koden til Snarveisdimensjon 2, som er Çn av to globale dimensjonskoder som du har definert i vinduet Finansoppsett.;
                           SVE=Anger koden fîr GenvÑg dimension 2, som Ñr en av tvÜ globala dimensionskoder som du stÑller in i fînstret RedovisningsinstÑllningar.];
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 2 Code";
                Visible=FALSE;
                LookupPageID=Cost Object List }

    { 89  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the location where the items are registered.;
                           NOR=Angir koden for lokasjonen som varene er registrert pÜ.;
                           SVE=Anger koden fîr lagerstÑllet dÑr artiklarna registreras.];
                ApplicationArea=#Location;
                SourceExpr="Location Code" }

    { 8   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how many times the document has been printed.;
                           NOR=Angir hvor mange ganger dokumentet har blitt skrevet ut.;
                           SVE=Anger hur mÜnga gÜnger dokumentet har skrivits ut.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="No. Printed" }

    { 1102601001;2;Field  ;
                ToolTipML=[ENU=Specifies the date when the related document was created.;
                           NOR=Angir datoen da de relaterte dokumentet ble opprettet.;
                           SVE=Anger datumet nÑr det relaterade dokumentet skapades.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Document Date";
                Visible=FALSE }

    { 1102601003;2;Field  ;
                ToolTipML=[ENU=Specifies a formula that calculates the payment due date, payment discount date, and payment discount amount.;
                           NOR=Angir en formel som beregner forfallsdatoen for betalingen, kontantrabattdatoen og kontantrabattbelõpet.;
                           SVE=Anger en formel som berÑknar betalningsfîrfallodatumet, kassarabattsdatumet och kassarabattens belopp.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Payment Terms Code";
                Visible=FALSE }

    { 1102601005;2;Field  ;
                ToolTipML=[ENU=Specifies when the invoice is due. The program calculates the date using the Payment Terms Code and Document Date fields on the purchase header.;
                           NOR=Angir nÜr fakturaen forfaller. Programmet beregner datoen ved hjelp av feltet Betalingsbet.kode og Bilagsdato i bestillingshodet.;
                           SVE=Anger nÑr fakturan fîrfaller. Datumet berÑknas frÜn fÑlten Betalningsvillkorskod och Dokumentdatum i inkîpshuvudet.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Due Date" }

    { 1102601007;2;Field  ;
                ToolTipML=[ENU=Specifies the payment discount percent granted if payment is made on or before the date in the Pmt. Discount Date field.;
                           NOR=Angir kontantrabattprosenten som gis hvis betaling utfõres innen datoen i feltet Kont.rabattdato.;
                           SVE=Anger den procentuella kassarabatten som anvÑnds om betalningen gîrs senast det datum som anges i fÑltet Kassarabattsdatum.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Payment Discount %";
                Visible=FALSE }

    { 1102601009;2;Field  ;
                ToolTipML=[ENU=Specifies how to make payment, such as with bank transfer, cash, or check.;
                           NOR=Angir hvordan du utfõrer en betaling, for eksempel med bankoverfõring, kontanter eller sjekk.;
                           SVE=Anger hur kunden betalar, t.ex. med bankîverfîring, kontanter eller check.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Payment Method Code";
                Visible=FALSE }

    { 1102601011;2;Field  ;
                ToolTipML=[ENU=Specifies the delivery conditions of the related shipment, such as free on board (FOB).;
                           NOR=Angir leveringsbetingelsene for den tilknyttede leveringen, for eksempel Fritt ombord (FOB).;
                           SVE=Anger leveransvillkoren fîr den relaterade utleveransen, till exempel fritt ombord.];
                ApplicationArea=#Suite;
                SourceExpr="Shipment Method Code";
                Visible=FALSE }

    { 7   ;2   ;Field     ;
                DrillDown=No;
                ToolTipML=[ENU=Specifies the amount that remains to be paid for the posted purchase invoice.;
                           NOR=Angir belõpet som gjenstÜr Ü bli betalt for den bokfõrte kjõpsfakturaen.;
                           SVE=Anger beloppet som ÜterstÜr att betala fîr den bokfîrda inkîpsfakturan.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Remaining Amount" }

    { 9   ;2   ;Field     ;
                DrillDown=No;
                ToolTipML=[ENU=Specifies if the posted purchase invoice is paid. The check box will also be selected if a credit memo for the remaining amount has been applied.;
                           NOR=Angir om den bokfõrte kjõpsfakturaen er betalt. Det vil ogsÜ merkes av for hvis en kreditnota for det gjenstÜende belõpet er brukt.;
                           SVE=Anger om den bokfîrda inkîpsfakturan Ñr betald. Kryssrutan markeras Ñven om en kreditnota fîr det ÜterstÜende beloppet har kopplats.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Closed }

    { 10  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies if the posted purchase invoice has been either corrected or canceled.;
                           NOR=Angir om den bokfõrte kjõpsfakturaen er blitt korrigert eller kansellert.;
                           SVE=Anger om den bokfîrda inkîpsfakturan har rÑttats eller annullerats.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Cancelled;
                Visible=IsFoundationEnabled;
                HideValue=NOT Cancelled;
                Style=Unfavorable;
                StyleExpr=Cancelled;
                OnDrillDown=BEGIN
                              ShowCorrectiveCreditMemo;
                            END;
                             }

    { 27  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies if the posted purchase invoice is a corrective document.;
                           NOR=Angir om den bokfõrte kjõpsfakturaen er et korrigerende dokument.;
                           SVE=Anger om den bokfîrda inkîpsfakturan Ñr ett rÑttningsdokument.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Corrective;
                HideValue=NOT Corrective;
                Style=Unfavorable;
                StyleExpr=Corrective;
                OnDrillDown=BEGIN
                              ShowCancelledCreditMemo;
                            END;
                             }

    { 1210190010;2;Field  ;
                SourceExpr="On Hold";
                Visible=FALSE }

    { 1210190012;2;Field  ;
                SourceExpr="Remain On Hold";
                Visible=FALSE }

    { 1100528402;2;Field  ;
                CaptionML=[ENU=Approval by User;
                           SVE=GodkÑnnande av anvÑndare];
                SourceExpr=ApprovalManagement4PSConstr.GetNextApprover(RECORDID,0) }

    { 1100528401;2;Field  ;
                CaptionML=[ENU=Approval by User Name;
                           SVE=GodkÑnnande av anvÑndarnamn];
                SourceExpr=ApprovalManagement4PSConstr.GetNextApproverName(RECORDID,0) }

    { 1100528412;2;Field  ;
                CaptionML=ENU=Approved by User;
                SourceExpr=ApprovalManagement4PSConstr.GetLastApproverDocument(2,"No.");
                Visible=FALSE }

    { 1100528411;2;Field  ;
                CaptionML=ENU=Approved by User Name;
                SourceExpr=ApprovalManagement4PSConstr.GetLastApproverNameDocument(2,"No.");
                Visible=FALSE }

    { 1101200002;2;Field  ;
                SourceExpr="Approvement Initials" }

    { 1210190004;2;Field  ;
                SourceExpr="DMS Status";
                Visible=FALSE }

    { 1100525001;2;Field  ;
                SourceExpr="Pre-Assigned No." }

    { 1100528400;2;Field  ;
                SourceExpr="User ID";
                Visible=FALSE }

    { 1900000007;0;Container;
                ContainerType=FactBoxArea }

    { 3   ;1   ;Part      ;
                Name=IncomingDocAttachFactBox;
                ApplicationArea=#Basic,#Suite;
                PagePartID=Page193;
                Visible=NOT IsOfficeAddin;
                PartType=Page;
                ShowFilter=No }

    { 1900383207;1;Part   ;
                ApplicationArea=#RecordLinks;
                Visible=FALSE;
                PartType=System;
                SystemPartID=RecordLinks }

    { 1905767507;1;Part   ;
                ApplicationArea=#Notes;
                PartType=System;
                SystemPartID=Notes }

    { 1100528500;1;Part   ;
                SubPageLink=Document No.=FIELD(No.);
                PagePartID=Page9104;
                Visible=FALSE;
                PartType=Page }

  }
  CODE
  {
    VAR
      ApplicationAreaMgmtFacade@1001 : Codeunit 9179;
      IsOfficeAddin@1000 : Boolean;
      IsFoundationEnabled@1002 : Boolean;
      PurchInvHeader@1100525000 : Record 122;
      PurchInvLine@1210190003 : Record 123;
      PurchSetup@1100485001 : Record 312;
      RcptAmnt@1210190001 : Decimal;
      DPA_IsHardFilter@1100000999 : Boolean;
      DCActive@1100525001 : Boolean INDATASET;
      OpenApprovalEntriesExist@1100528403 : Boolean;
      OpenApprovalEntriesExistForCurrUser@1100528402 : Boolean;
      ApprovalManagement4PSConstr@1100528401 : Codeunit 11125349;
      CanCancelApprovalForRecord@1100527300 : Boolean;

    PROCEDURE GetReceiptAmount@1210190000() Amnt@1210190003 : Decimal;
    BEGIN
      //**4PS
      Amnt := 0;
      PurchInvLine.SETRANGE("Document No.", "No.");
      PurchInvLine.SETFILTER("Receipt No.", '<>%1', '');
      IF PurchInvLine.FINDSET THEN BEGIN
        REPEAT
          Amnt := Amnt + (PurchInvLine."Direct Unit Cost" * PurchInvLine.Quantity);
        UNTIL PurchInvLine.NEXT = 0;
      END;
      EXIT(Amnt);
    END;

    LOCAL PROCEDURE SetControlAppearance@5();
    VAR
      ApprovalsMgmt@1000 : Codeunit 1535;
    BEGIN
      OpenApprovalEntriesExist := ApprovalsMgmt.HasOpenApprovalEntries(RECORDID);
      OpenApprovalEntriesExistForCurrUser := ApprovalsMgmt.HasOpenApprovalEntriesForCurrentUser(RECORDID);

      CanCancelApprovalForRecord := ApprovalsMgmt.CanCancelApprovalForRecord(RECORDID); //**4PS.n
    END;

    LOCAL PROCEDURE IsDocumentCaptureActive@1100528203() : Boolean;
    VAR
      DocumentCaptureSetup@1100525000 : Record 6085573;
      FPSLicenseManagement@1100527400 : Codeunit 11229289;
    BEGIN
      //**4PS
      IF NOT FPSLicenseManagement.LicenseAndReadPermissionForTable(DocumentCaptureSetup) THEN
        EXIT(FALSE);
      IF DocumentCaptureSetup.GET THEN;
      EXIT(DocumentCaptureSetup."Document Nos." <> '');
    END;

    BEGIN
    {
      160909 ITERO.DL RFC136 view attached documents (from Symbrio) if no doc then print report
    }
    END.
  }
}

